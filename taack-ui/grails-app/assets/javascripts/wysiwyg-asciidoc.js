/*! For license information please see wysiwyg-asciidoc.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["wysiwyg-asciidoc"]=t():e["wysiwyg-asciidoc"]=t()}(this,(()=>(()=>{var e={399:(e,t,n)=>{e.exports=n(896)},523:(e,t,n)=>{"use strict";n.r(t),n.d(t,{convert:()=>o,customConvert:()=>f});const r=(0,n(399).default)();function i(e){return{safe:"safe",attributes:{showTitle:!0,experimental:!0,"source-highlighter":"highlight.js"},doctype:e?"inline":"article"}}function o(e,t){return r.ConverterFactory.register(r.Html5Converter.$new(),["html5"]),r.convert(e,i(t))}const s=new Map([["strong",["&#42;&#42;","&#42;&#42;"]],["monospaced",["&#96;&#96;","&#96;&#96;"]],["emphasis",["&#95;&#95;","&#95;&#95;"]],["mark",["&#35;&#35;","&#35;&#35;"]],["superscript",["&#94;","&#94;"]],["subscript",["&#126;","&#126;"]]]),a=new Map([["open","--"],["listing","----"],["literal","...."],["example","===="],["admonition","===="],["sidebar","****"],["quote","____"],["verse","____"],["pass","++++"]]);class l{constructor(){this.baseConverter=r.Html5Converter.$new(),this.lastParagraphPrefix="firstPrefix",this.lastNodeLevel=0}convert(e,t){let n=e.getNodeName(),r=new Map(Object.entries(e.attributes.$$smap));if(e.isInline()){if("inline_quoted"===n){let t=e.getType(),n="";if(e.hasAttribute("role")&&(n+="&#46;"+e.getAttribute("role")),e.hasAttribute("id")&&(n+="&#35;"+e.getAttribute("id")),""!==n&&(n="&#91;"+n+"&#93;"),s.has(t))return'<span class="wysiwyg-content-span" wysiwygPrefix="'+n+s.get(t)[0]+'" wysiwygSuffix="'+s.get(t)[1]+'">'+e.getText()+"</span>";if("double"===t)return'<span class="wysiwyg-content-span">“'+e.getText()+"”</span>";if("single"===t)return'<span class="wysiwyg-content-span">‘'+e.getText()+"’</span>";if("unquoted"===t)return'<span class="wysiwyg-content-span" wysiwygPrefix="'+n+'&#35;" wysiwygSuffix="&#35;">'+e.getText()+"</span>"}else if("inline_anchor"===n){let t=e.getType();if("link"===t){let t=u(r);return'<span class="wysiwyg-content-span" wysiwygPrefix="link&#58;&#43;&#43;'+e.getTarget()+'&#43;&#43;&#91;" wysiwygSuffix="'+(""!==t?"&#44;"+t+"&#93;":"&#93;")+'">'+e.getText()+"</span>"}if("ref"===t)return'<span class="wysiwyg-content-span" wysiwygPrefix="anchor&#58;" wysiwygSuffix="&#91;'+(void 0!==e.getText()?e.getText():"")+'&#93;">'+e.getId()+"</span>";if("xref"===t){let t=void 0!==e.getText()?e.getText():e.getTarget().slice(1).startsWith("#")?e.getTarget():e.getTarget().slice(1);return'<span class="wysiwyg-content-span" wysiwygPrefix="xref&#58;'+e.getTarget()+'&#91;" wysiwygSuffix="&#93;">'+t+"</span>"}}else{if("inline_break"===n)return e.getText()+'<span class="wysiwyg-content-span wysiwyg-pass"><br></span>';if("inline_image"===n)return'<span class="wysiwyg-content-span" wysiwygPrefix="image&#58;" wysiwygSuffix="&#91;'+u(r)+'&#93;">'+e.getTarget()+"</span>";if("inline_button"===n)return'<span class="wysiwyg-content-span" wysiwygPrefix="btn&#58;&#91;" wysiwygSuffix="&#93;">'+c(e.getText())+"</span>";if("inline_menu"===n){let t=c(e.getAttribute("menu")),n=c(e.getAttribute("menuitem")),r=e.getAttribute("submenus"),i="";return r.length>0&&r.forEach((e=>{i+=c(e)+"&#62;"})),'<span class="wysiwyg-content-span" wysiwygPrefix="menu&#58;'+t+'&#91;" wysiwygSuffix="&#93;">'+i+n+"</span>"}if("inline_kbd"===n){let t=e.getAttributes().keys.join("").includes("+")?"&#44;":"&#43;",n="&#91;",r=e.getAttributes().keys.length;return e.getAttributes().keys.forEach(((e,i)=>{n+=e.includes("]")?e.replaceAll("]","&#92;]"):e,n+=i===r-1?"\\"===e[e.length-1]?" ":"":t})),n+="&#93;",'<span class="wysiwyg-content-span" wysiwygPrefix="kbd&#58;" wysiwygSuffix="">'+c(n)+"</span>"}if("inline_callout"===n){let t=void 0===e.getAttribute("guard")?"":e.getAttribute("guard");return"object"==typeof t?t[0]+"&#60;"+e.getText()+"&#62;"+t[1]:t+"&#60;"+e.getText()+"&#62;"}if("inline_footnote"===n)return'<span class="wysiwyg-content-span" wysiwygPrefix="footnote&#58;'+("string"==typeof e.id?e.id:"string"==typeof e.target?e.target:"")+'&#91;" wysiwygSuffix="&#93;">'+c(e.getText())+"</span>"}return'<span class="wysiwyg-content-span" wysiwygType="'+n+'">'+this.baseConverter.convert(e,t)+"</span>"}{if("document"===n&&void 0!==e.getHeader().title)return e.getHeader().title='+++<span class="wysiwyg-content-line" wysiwygPrefix="= ">+++'+e.getHeader().title,this.lastParagraphPrefix="",'<span class="wysiwyg-content-paragraph">'+this.baseConverter.convert(e,t)+"</span>";let s,l=!1,c=this.getNodeParagraphPrefixAndSuffix(e)[0],$=this.getNodeParagraphPrefixAndSuffix(e)[1],_=this.isParentRoundingBlock(e),f=this.getLevel(e);if("document"!==n&&(l=(f<=this.lastNodeLevel||c!==this.lastParagraphPrefix)&&!_,l&&(this.lastParagraphPrefix=c),this.lastNodeLevel=f),"section"===n||"floating_title"===n){let n=e.getTitle();e.setTitle('+++<span class="wysiwyg-content-line" wysiwygPrefix="='+"=".repeat(e.level)+' ">'+n+"</span>+++"),s=this.baseConverter.convert(e,t)}else if("ulist"===n||"olist"===n||"colist"===n)e.hasItems()&&e.getItems().forEach((e=>{let t=e.marker+" ";e.hasAttribute("checkbox")&&(t+=e.hasAttribute("checked")?"[x] ":"[ ] "),e.setText('+++<span class="wysiwyg-content-line" wysiwygPrefix="'+t+'">+++'+e.text)})),_&&(e.converted_title="",e.attributes.$$smap={}),s=this.baseConverter.convert(e,t);else if("dlist"===n)e.hasItems()&&e.getItems().forEach((e=>{if("list_item"===e[1].node_name){let t=e[0][0].text+"&#58;&#58; ";e[1].setText('+++<span class="wysiwyg-content-line" wysiwygPrefix="'+t+'">+++'+e[1].text)}else e[0].forEach((e=>{e.setText('+++<span class="wysiwyg-content-line">+++'+e.text+"::")}))})),_&&(e.converted_title="",e.attributes.$$smap={}),s=this.baseConverter.convert(e,t);else if("video"===n||"audio"===n||"image"===n)_&&(e.converted_title=""),s='<span class="wysiwyg-content-line"><span class="wysiwyg-content-span wysiwyg-pass" wysiwygPrefix="'+n+'::" wysiwygSuffix="['+u(r)+']" wysiwygContent="'+e.getAttribute("target")+'">'+this.baseConverter.convert(e,t)+"</span></span>";else if("paragraph"===n)e.lines.length>0&&(e.lines[0]='+++<span class="wysiwyg-content-line">+++'+e.lines[0]),s=_?e.getContent()+(e.lines.length>0?"</span>":""):this.baseConverter.convert(e,t);else if("thematic_break"===n||"page_break"===n)s='<span class="wysiwyg-content-line"><span class="wysiwyg-content-span wysiwyg-pass" wysiwygContent="'+("thematic_break"===n?"'''":"<<<")+'">'+this.baseConverter.convert(e,t)+"</span></span>";else if(a.has(n))if(_)e.lines.length>0&&(e.lines[0]='+++<span class="wysiwyg-content-line">+++'+e.lines[0]),s=e.getContent()+(e.lines.length>0?"</span>":"");else{if("verse"===n){let t="";if(e.lines.length>0){for(let n=0;n<e.lines.length;n++)""===e.lines[n]?(o=n,""!==(i=e.lines).slice(0,o).join("")&&""!==i.slice(o).join("")&&(t+='pass:[<span class="wysiwyg-content-line">]'+e.lines[n]+"pass:[</span>]")):t+='pass:[<span class="wysiwyg-content-line">]'+e.lines[n]+"pass:[</span>]";e.lines=new Array(t)}}else"listing"!==n&&"literal"!==n&&e.lines.length>0&&(e.lines[0]='+++<span class="wysiwyg-content-line">+++'+e.lines[0]);s=this.baseConverter.convert(e,t)}else s=this.baseConverter.convert(e,t);return l&&(s='<span class="wysiwyg-content-paragraph" wysiwygPrefix="'+c+'" wysiwygSuffix="'+$+'">'+s+"</span>"),s}var i,o}getNodeParagraphPrefixAndSuffix(e){if(e.isInline())return["",""];let t=new Map(Object.entries(e.attributes.$$smap)),n=void 0!==e.getStyle()?e.getStyle():void 0!==e.getAttribute("style")?e.getAttribute("style"):"",r=e.getTitle(),i="",o="",s=e.getNodeName();if("document"===s)r="",t=new Map;else if("section"===s||"floating_title"===s)r="";else if("video"===s||"audio"===s||"image"===s)t=new Map;else if(["ulist","olist","colist","dlist"].includes(s))n="",""===e.getAttribute("checklist-option")&&t.delete("checklist-option");else if(a.has(s)&&(n=e.style!==s?e.style:"",i=a.get(s)+"\n",o="\n"+a.get(s),"quote"!==s&&"verse"!==s||(n=e.style),"admonition"===s)){let r=n.charAt(0).toUpperCase()+n.slice(1).toLowerCase();e.getAttribute("name")===n.toLowerCase()&&t.delete("name"),e.getAttribute("textlabel")===r&&t.delete("textlabel")}r?.length>0&&(i="."+r+"\n"+i);let l=""!==n?n+",":"";return t.delete("style"),t.delete("title"),l+=u(t),l.endsWith(",")&&(l=l.slice(0,-1)),i=""!==l?"["+l+"]\n"+i:i,[i,o]}isParentRoundingBlock(e){let t=void 0!==e.getParent()?e.getParent().node_name:"";return a.has(t)||["ulist","olist","colist","dlist","list_item"].includes(t)}getLevel(e){return void 0===e.getParent()?0:this.getLevel(e.getParent())+1}}function u(e){let t="";return e?.size>0&&e.forEach(((e,n)=>{"string"==typeof e&&(t+=n+"&#61;&#34;"+e+"&#34;,")})),t.endsWith(",")?t.slice(0,-1):t}function c(e){let t="",n=document.createElement("div");n.innerHTML=e;let r=n.childNodes;for(let e=0;e<r.length;e++){let n=r[e];t+=n.nodeType===n.ELEMENT_NODE?$(n):n.textContent}return t}function $(e){if(!e.firstChild)return"";let t=e.firstChild.parentElement,n=t.getAttribute("wysiwygPrefix"),r=t.getAttribute("wysiwygSuffix"),i="",o=e.childNodes;for(let e=0;e<o.length;e++){let t=o[e];i+=t.nodeType===t.ELEMENT_NODE?$(t):t.textContent}return n+i+r}function _(e,t="",n=""){let r=[];return e.childNodes.forEach((e=>{if(e.nodeType===Node.TEXT_NODE){let i=e.textContent?.replaceAll("\n","");if(i?.length>0){let e=document.createElement("span");e.className="wysiwyg-content-span",e.setAttribute("wysiwygPrefix",t),e.setAttribute("wysiwygSuffix",n),i=i.replaceAll(/ {2,}/g," "),e.setAttribute("wysiwygContent",i),r.push(e)}}else if(e.nodeType===Node.ELEMENT_NODE)if(e.classList.contains("wysiwyg-pass"))r.push(e);else{let i,o;if(e.classList.contains("wysiwyg-content-span"))i=null!==e.getAttribute("wysiwygPrefix")?e.getAttribute("wysiwygPrefix"):"",o=null!==e.getAttribute("wysiwygSuffix")?e.getAttribute("wysiwygSuffix"):"",t.includes("pass:[")?(i+=t,o=n+o):(i=t+i,o+=n);else{let r=e.outerHTML.split(">"+e.innerHTML+"<");t.includes("pass:[")?(i=t+r[0]+">",o="<"+r[1]+n):(i=t+"pass:["+r[0]+">",o="<"+r[1]+"]"+n)}_(e,i,o).forEach((e=>{r.push(e)}))}})),r}function f(e,t){return r.ConverterFactory.register(new l,["html5"]),function(e,t){let n=document.createElement("span");n.innerHTML=e;let r=[];if(t)r.push(n);else{const e=n.getElementsByClassName("wysiwyg-content-line");for(let t=0;t<e.length;t++){const n=e[t];0===n.getElementsByClassName("wysiwyg-content-line").length&&r.push(n)}}for(let e=0;e<r.length;e++){let t=r[e],n="";_(t).forEach((e=>{if(e.classList.contains("wysiwyg-pass"))if(e.classList.remove("wysiwyg-pass"),"<br>"===e.innerHTML){t.innerHTML=n;let e=t.cloneNode(!1);t.insertAdjacentElement("afterend",e),t=e,n=""}else n+=e.outerHTML;else{let t=null!==e.getAttribute("wysiwygPrefix")?e.getAttribute("wysiwygPrefix"):"",r=null!==e.getAttribute("wysiwygSuffix")?e.getAttribute("wysiwygSuffix"):"",i=e.getAttribute("wysiwygContent");i.length-i.trimStart().length>0&&!n.endsWith('<span class="wysiwyg-content-span" wysiwygcontent=" ">&nbsp;</span>')&&(n+='<span class="wysiwyg-content-span" wysiwygcontent=" ">&nbsp;</span>'),e.setAttribute("wysiwygContent",i.trim()),e.innerHTML=0===t.length&&0===r.length?i.trim().replaceAll("<","&lt;").replaceAll(">","&gt;"):o(t+i.trim()+r,!0),n+=e.outerHTML,i.length-i.trimEnd().length>0&&(n+='<span class="wysiwyg-content-span" wysiwygcontent=" ">&nbsp;</span>')}})),n.length>0?t.innerHTML=n:t.remove()}for(let e=0;e<n.childNodes.length;e++){let t=n.childNodes[e];if(t.nodeType===Node.ELEMENT_NODE){let r=n.childNodes[e].querySelectorAll(".wysiwyg-content-paragraph");for(let e=r.length-1;e>=0;e--)r[e].remove(),t.after(r[e])}}return n.innerHTML}(r.convert(e,i(t)),t)}},675:function(e,t){var n,r,i,o;void 0===ArrayBuffer.isView&&(ArrayBuffer.isView=function(e){return null!=e&&null!=e.__proto__&&e.__proto__.__proto__===Int8Array.prototype.__proto__}),void 0===Array.prototype.fill&&Object.defineProperty(Array.prototype,"fill",{value:function(e){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),n=t.length>>>0,r=arguments[1]>>0,i=r<0?Math.max(n+r,0):Math.min(r,n),o=arguments[2],s=void 0===o?n:o>>0,a=s<0?Math.max(n+s,0):Math.min(s,n);i<a;)t[i]=e,i++;return t}}),[Int8Array,Int16Array,Uint16Array,Int32Array,Float32Array,Float64Array].forEach((function(e){void 0===e.prototype.fill&&Object.defineProperty(e.prototype,"fill",{value:Array.prototype.fill})})),void 0===Math.clz32&&(Math.clz32=(i=Math.log,o=Math.LN2,function(e){var t=e>>>0;return 0===t?32:31-(i(t)/o|0)|0})),void 0===String.prototype.startsWith&&Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){return t=t||0,this.lastIndexOf(e,t)===t}}),void 0===String.prototype.endsWith&&Object.defineProperty(String.prototype,"endsWith",{value:function(e,t){var n=this.toString();(void 0===t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}}),void 0===Math.imul&&(Math.imul=function(e,t){return(4294901760&e)*(65535&t)+(65535&e)*(0|t)|0}),void 0===(r="function"==typeof(n=function(e){"use strict";var t,n,r,i,o,s,a,l,u,c,$,_,f,d,p,h,m,g,v,b,y,w,x,k,E,A,S,C,O,T,I,R=Math.clz32,N=Math.imul,L=ArrayBuffer.isView;function z(){}function D(){}function F(){}function M(){this.MIN_VALUE=-2147483648,this.MAX_VALUE=2147483647,this.SIZE_BYTES=4,this.SIZE_BITS=32}function q(e){this.h_1=e,Nr.call(this)}function B(e){return function(e){if(e.o())return[];for(var t=e.i(),n=Mt(Array(t),null),r=e.k(),i=0;r.s();){var o=i;i=o+1|0,n[o]=r.u()}return n}(e)}function j(e){return e<0&&function(){throw wr("Index overflow has happened.")}(),e}function P(e){return function(e,t){for(var n=0,r=e.length;n<r;){var i=e[n];n=n+1|0,t.p(i)}return t}(t=[e],function(e,t){return ce(e,1,t),t}(t.length,ln(an($e))));var t}function U(e){return 0===(t=[e]).length?Q():te(new jr(t,!0));var t}function H(){Tr.call(this)}function Y(e){this.y_1=e,this.w_1=0,this.x_1=-1}function G(){H.call(this),this.z_1=0}function W(){Fr.call(this),this.h1_1=null,this.i1_1=null}function K(){H.call(this)}function V(e){if(!(e>=0))throw ir(tn("capacity must be non-negative."));return Mt(Array(e),null)}function X(e,t,n){e.fill(null,t,n)}function J(e,t){return function(e,t){if(!(t>=0))throw ir(tn("Invalid new array size: "+t+"."));return function(e,t,n){var r=e.slice(0,t);void 0!==e.$type$&&(r.$type$=e.$type$);var i=e.length;if(t>i)for(r.length=t;i<t;){var o=i;i=o+1|0,r[o]=n}return r}(e,t,null)}(e,t)}function Z(){r=this;var e=function(e,t){var n=[];if(re.call(t,n),!(e>=0))throw ir(tn("Negative initial capacity: "+e));return t}(0,ln(an(re)));e.u1_1=!0,this.v1_1=e}function Q(){return e=ln(an(re)),re.call(e,[]),e;var e}function ee(e,t){var n,r=void 0!==(n=e).toArray?n.toArray():B(n);return re.call(t,r),t}function te(e){return ee(e,ln(an(re)))}function ne(e,t){return E.w1(t,e.i()),t}function re(e){null==r&&new Z,G.call(this),this.t1_1=e,this.u1_1=!1}function ie(e){return function(e,t){W.call(t),oe.call(t),t.d2_1=e}(de(),e),e}function oe(){this.e2_1=null}function se(e){ae.call(this,e)}function ae(e){K.call(this),this.h2_1=e}function le(e,t){return K.call(t),$e.call(t),t.n2_1=e,t}function ue(e){return le(de(),e),e}function ce(e,t,n){return le(function(e,t){return function(e,t,n){if(pe(e,n),!(t>0))throw ir(tn("Non-positive load factor: "+t));return n}(e,t,ln(an(Te)))}(e,t),n),n}function $e(){}function _e(e,t){return 0===(n=N(gt(t,1),3))?0:1<<(31-R(n)|0);var n}function fe(e,t){return R(t)+1|0}function de(){return pe(8,e=ln(an(Te))),e;var e}function pe(e,t){return Te.call(t,V(e),null,new Int32Array(e),new Int32Array(_e(0,e)),2,0),t}function he(e){return e.p2_1.length}function me(e){return e.s2_1.length}function ge(e){e.w2_1=e.w2_1+1|0}function ve(e,t){!function(e,t){var n=he(e)-e.u2_1|0,r=e.u2_1-e.i()|0;return n<t&&(r+n|0)>=t&&r>=(he(e)/4|0)}(e,t)?function(e,t){if(t<0)throw pr("too many elements");if(t>he(e)){var n=E.z2(he(e),t);e.p2_1=J(e.p2_1,n);var r=e,i=e.q2_1;r.q2_1=null==i?null:J(i,n),e.r2_1=function(e,t){if(!(t>=0))throw ir(tn("Invalid new array size: "+t+"."));return function(e,t){for(var n=e.length,r=t.length,i=0,o=t;i<n&&i<r;){var s=i,a=i;i=a+1|0,o[s]=e[a]}return t}(e,new Int32Array(t))}(e.r2_1,n);var o=_e(0,n);o>me(e)&&ye(e,o)}}(e,e.u2_1+t|0):ye(e,me(e))}function be(e,t){return null==t?0:N(nn(t),-1640531527)>>>e.v2_1|0}function ye(e,t){var n,r,i,o;ge(e),e.u2_1>e.x2_1&&function(e){for(var t=0,n=0,r=e.q2_1;t<e.u2_1;)e.r2_1[t]>=0&&(e.p2_1[n]=e.p2_1[t],null!=r&&(r[n]=r[t]),n=n+1|0),t=t+1|0;X(e.p2_1,n,e.u2_1),null==r||X(r,n,e.u2_1),e.u2_1=n}(e),t!==me(e)?(e.s2_1=new Int32Array(t),e.v2_1=fe(0,t)):(n=e.s2_1,r=0,i=0,o=me(e),i=i===x?0:i,o=o===x?n.length:o,E.c7(i,o,n.length),n.fill(r,i,o));for(var s=0;s<e.u2_1;){var a=s;if(s=a+1|0,!we(e,a))throw lr("This cannot happen with fixed magic multiplier and grow-only hash array. Have object hashCodes changed?")}}function we(e,t){for(var n=be(e,e.p2_1[t]),r=e.t2_1;;){if(0===e.s2_1[n])return e.s2_1[n]=t+1|0,e.r2_1[t]=n,!0;if((r=r-1|0)<0)return!1;var i=n;n=i-1|0,0===i&&(n=me(e)-1|0)}}function xe(e,t){for(var n=be(e,t),r=e.t2_1;;){var i=e.s2_1[n];if(0===i)return-1;if(i>0&&on(e.p2_1[i-1|0],t))return i-1|0;if((r=r-1|0)<0)return-1;var o=n;n=o-1|0,0===o&&(n=me(e)-1|0)}}function ke(e,n){(function(e,t){e[t]=null})(e.p2_1,n),function(e,n){for(var r=n,i=n,o=0,s=mt(N(e.t2_1,2),me(e)/2|0);;){var a=r;if(r=a-1|0,0===a&&(r=me(e)-1|0),(o=o+1|0)>e.t2_1)return e.s2_1[i]=0,t;var l=e.s2_1[r];if(0===l)return e.s2_1[i]=0,t;if(l<0?(e.s2_1[i]=-1,i=r,o=0):((be(e,e.p2_1[l-1|0])-r|0)&(me(e)-1|0))>=o&&(e.s2_1[i]=l,e.r2_1[l-1|0]=i,i=r,o=0),(s=s-1|0)<0)return e.s2_1[i]=-1,t}}(e,e.r2_1[n]),e.r2_1[n]=-1,e.x2_1=e.x2_1-1|0,ge(e)}function Ee(){this.a3_1=-1640531527,this.b3_1=8,this.c3_1=2,this.d3_1=-1}function Ae(e){this.e3_1=e,this.f3_1=0,this.g3_1=-1,this.h3_1=this.e3_1.w2_1,this.i3()}function Se(e){Ae.call(this,e)}function Ce(e){Ae.call(this,e)}function Oe(e,t){this.y3_1=e,this.z3_1=t}function Te(e,t,n,r,i,o){this.p2_1=e,this.q2_1=t,this.r2_1=n,this.s2_1=r,this.t2_1=i,this.u2_1=o,this.v2_1=fe(0,me(this)),this.w2_1=0,this.x2_1=0,this.y2_1=!1}function Ie(){}function Re(){return ie(e=ln(an(Ne))),Ne.call(e),e;var e}function Ne(){}function Le(){return ue(e=ln(an(De))),De.call(e),e;var e}function ze(e,t){return function(e,t,n){ce(e,t,n),De.call(n)}(e,1,t),t}function De(){}function Fe(e){return qe(t=ln(an(je))),t;var t}function Me(e){return function(e,t){return je.call(t,tn(e)),t}(e,ln(an(je)))}function qe(e){return je.call(e,""),e}function Be(){return qe(ln(an(je)))}function je(e){this.u3_1=void 0!==e?e:""}function Pe(e){var t=Et(e).toUpperCase();return t.length>1?e:Gt(t,0)}function Ue(e){St();return St(),e<=57343&&56320<=e}function He(e){St();return St(),e<=56319&&55296<=e}function Ye(e){return function(e){var t=kt(e);return 9<=t&&t<=13||28<=t&&t<=32||160===t||t>4096&&(5760===t||8192<=t&&t<=8202||8232===t||8233===t||8239===t||8287===t||12288===t)}(e)}function Ge(e){var t,r=function(e){return function(e,t){!function(e){if(!(2<=e&&e<=36))throw ir("radix "+e+" was not in valid range 2..36")}(t);var r,i,o,s=e.length;if(0===s)return null;var a=Gt(e,0);if(wt(a,48)<0){if(1===s)return null;if(r=1,45===a)i=!0,o=n.MIN_VALUE;else{if(43!==a)return null;i=!1,o=0|-n.MAX_VALUE}}else r=0,i=!1,o=0|-n.MAX_VALUE;var l=(0|-n.MAX_VALUE)/36|0,u=l,c=0,$=r;if($<s)do{var _=$;$=$+1|0;var f=We(Gt(e,_),t);if(f<0)return null;if(c<u){if(u!==l)return null;if(c<(u=o/t|0))return null}if((c=N(c,t))<(o+f|0))return null;c=c-f|0}while($<s);return i?c:0|-c}(e,10)}(e);return null==r?function(e){throw kr("Invalid number format: '"+e+"'")}(e):t=r,t}function We(e,t){var n,r,i,o=wt(e,48)>=0&&wt(e,57)<=0?xt(e,48):wt(e,65)>=0&&wt(e,90)<=0?xt(e,65)+10|0:wt(e,97)>=0&&wt(e,122)<=0?xt(e,97)+10|0:wt(e,128)<0?-1:wt(e,65313)>=0&&wt(e,65338)<=0?xt(e,65313)+10|0:wt(e,65345)>=0&&wt(e,65370)<=0?xt(e,65345)+10|0:(n=kt(e),r=function(e,t){for(var n=0,r=e.length-1|0,i=-1,o=0;n<=r;)if(t>(o=e[i=(n+r|0)/2|0]))n=i+1|0;else{if(t===o)return i;r=i-1|0}return i-(t<o?1:0)|0}(Jn().d7_1,n),(i=n-Jn().d7_1[r]|0)<10?i:-1);return o>=t?-1:o}function Ke(){i=this,this.j4_1=new RegExp("[\\\\^$*+?.()|[\\]{}]","g"),this.k4_1=new RegExp("[\\\\$]","g"),this.l4_1=new RegExp("\\$","g")}function Ve(){return null==i&&new Ke,i}function Xe(e){return function(t){return function(e,t){for(var n=0,r=Be();n<t.length;){var i=n;n=i+1|0;var o=Gt(t,i);if(92===o){if(n===t.length)throw ir("The Char to be escaped is missing");var s=n;n=s+1|0,r.x3(Gt(t,s))}else if(36===o){if(n===t.length)throw ir("Capturing group index is missing");if(123===Gt(t,n)){var a=et(t,n=n+1|0);if(n===a)throw ir("Named capturing group reference should have a non-empty name");if(a===t.length||125!==Gt(t,a))throw ir("Named capturing group reference is missing trailing '}'");var l=n,u=t.substring(l,a),c=tt(e.d5(),u),$=null==c?null:c.e5_1;r.w3(null==$?"":$),n=a+1|0}else{var _=Gt(t,n);if(!(48<=_&&_<=57))throw ir("Invalid capturing group reference");var f=e.d5(),d=nt(t,n,f.i()),p=n,h=Ge(t.substring(p,d));if(h>=f.i())throw sr("Group with index "+h+" does not exist");var m=f.j(h),g=null==m?null:m.e5_1;r.w3(null==g?"":g),n=d}}else r.x3(o)}return r.toString()}(t,e)}}function Je(e,t){Ve(),this.o4_1=e,this.p4_1=function(e){if(Yn(e,Tt)){var t;switch(e.i()){case 0:t=Wr();break;case 1:t=P(Yn(e,Ot)?e.j(0):e.k().u());break;default:t=dt(e,ze(e.i(),ln(an(De))))}return t}return function(e){switch(e.i()){case 0:return Wr();case 1:return P(e.k().u());default:return e}}(dt(e,Le()))}(t),this.q4_1=new RegExp(e,_t(t,"","gu",x,x,x,rt)),this.r4_1=null,this.s4_1=null}function Ze(e,t,n,r){e.lastIndex=n;var i=e.exec(t);return null==i?null:new ot(Hn(i.index,e.lastIndex-1|0),i,r,t)}function Qe(e){this.e5_1=e}function et(e,t){for(var n=t;n<e.length&&125!==Gt(e,n);)n=n+1|0;return n}function tt(e,t){var n=Yn(e,pi)?e:null;if(null==n)throw $r("Retrieving groups by name is not supported on this platform.");return n.f5(t)}function nt(e,t,n){var r=t+1|0,i=xt(Gt(e,t),48);e:for(;;){var o;if(r<e.length){var s=Gt(e,r);o=48<=s&&s<=57}else o=!1;if(!o)break e;var a=N(i,10)+xt(Gt(e,r),48)|0;if(!(0<=a&&a<n))break e;i=a,r=r+1|0}return r}function rt(e){return e.i5_1}function it(e,t){this.j5_1=e,this.k5_1=t,Tr.call(this)}function ot(e,t,n,r){this.o5_1=e,this.p5_1=t,this.q5_1=n,this.r5_1=r,this.l5_1=e,this.m5_1=new it(t,this),this.n5_1=null}function st(e){var t;if(0===Kt(e))t=!0;else{var n;e:{var r=function(e){return Hn(0,Kt(e)-1|0)}(e);if(Yn(r,Tt)&&r.o())n=!0;else{for(var i=r.k();i.s();)if(!Ye(Gt(e,i.u()))){n=!1;break e}n=!0}}t=n}return t}function at(e,t,n,r,i,o){return ci(e,t,n,r,i,o=o!==x&&o)}function lt(e,t,n,r){return(r=r!==x&&r)?at(e,n,t,0,t.length,r):e.startsWith(t,n)}function ut(e,t){if(null==t){var n=0,r=e.length-1|0;if(n<=r)do{var i=n;if(n=n+1|0,null==e[i])return i}while(n<=r)}else{var o=0,s=e.length-1|0;if(o<=s)do{var a=o;if(o=o+1|0,on(t,e[a]))return a}while(o<=s)}return-1}function ct(e,t,n,r,i,o,s){return t=t===x?", ":t,n=n===x?"":n,r=r===x?"":r,i=i===x?-1:i,o=o===x?"...":o,s=s===x?null:s,function(e,t,n,r,i,o,s,a){n=n===x?", ":n,r=r===x?"":r,i=i===x?"":i,o=o===x?-1:o,s=s===x?"...":s,a=a===x?null:a,t.e4(r);var l=0,u=0,c=e.length;e:for(;u<c;){var $=e[u];if(u=u+1|0,(l=l+1|0)>1&&t.e4(n),!(o<0||l<=o))break e;ii(t,$,a)}return o>=0&&l>o&&t.e4(s),t.e4(i),t}(e,Be(),t,n,r,i,o,s).toString()}function $t(e,t){return t>=0&&t<=function(e){return e.length-1|0}(e)?e[t]:null}function _t(e,t,n,r,i,o,s){return t=t===x?", ":t,n=n===x?"":n,r=r===x?"":r,i=i===x?-1:i,o=o===x?"...":o,s=s===x?null:s,ft(e,Be(),t,n,r,i,o,s).toString()}function ft(e,t,n,r,i,o,s,a){n=n===x?", ":n,r=r===x?"":r,i=i===x?"":i,o=o===x?-1:o,s=s===x?"...":s,a=a===x?null:a,t.e4(r);var l=0,u=e.k();e:for(;u.s();){var c=u.u();if((l=l+1|0)>1&&t.e4(n),!(o<0||l<=o))break e;ii(t,c,a)}return o>=0&&l>o&&t.e4(s),t.e4(i),t}function dt(e,t){for(var n=e.k();n.s();){var r=n.u();t.p(r)}return t}function pt(e){if(Yn(e,Ot))return function(e){var t;switch(e.i()){case 0:throw gr("List is empty.");case 1:t=e.j(0);break;default:throw ir("List has more than one element.")}return t}(e);var t=e.k();if(!t.s())throw gr("Collection is empty.");var n=t.u();if(t.s())throw ir("Collection has more than one element.");return n}function ht(e){this.s5_1=e}function mt(e,t){return e>t?t:e}function gt(e,t){return e<t?t:e}function vt(e,t){return I.u5(e,t,-1)}function bt(e,t){return new Gr(e,t)}function yt(e){return e}function wt(e,t){return e-t|0}function xt(e,t){return e-t|0}function kt(e){return e}function Et(e){return String.fromCharCode(e)}function At(){o=this,this.w5_1=0,this.x5_1=65535,this.y5_1=55296,this.z5_1=56319,this.a6_1=56320,this.b6_1=57343,this.c6_1=55296,this.d6_1=57343,this.e6_1=2,this.f6_1=16}function St(){return null==o&&new At,o}function Ct(e){St(),this.v5_1=e}function Ot(){}function Tt(){}function It(){}function Rt(){}function Nt(){}function Lt(){}function zt(e,t){this.i6_1=e,this.j6_1=t}function Dt(e){var t=null==e?null:tn(e);return null==t?"null":t}function Ft(e){for(var t=1,n=[],r=0,i=e.length;r<i;){var o=e[r];r=r+1|0;var s=t,a=o.prototype.$imask$,l=null==a?o.$imask$:a;null!=l&&(n.push(l),s=l.length);var u=o.$metadata$.iid,c=null==u?null:(_=void 0,f=void 0,d=void 0,_=($=u)>>5,f=new Int32Array(_+1|0),d=1<<(31&$),f[_]=f[_]|d,f);null!=c&&(n.push(c),s=Math.max(s,c.length)),s>t&&(t=s)}var $,_,f,d;return function(e,t){for(var n=0,r=new Int32Array(e);n<e;){for(var i=n,o=0,s=0,a=t.length;s<a;){var l=t[s];s=s+1|0,i<l.length&&(o|=l[i])}r[i]=o,n=n+1|0}return r}(t,n)}function Mt(e,t){var n=0,r=e.length-1|0;if(n<=r)do{var i=n;n=n+1|0,e[i]=t}while(i!==r);return e}function qt(e){this.o6_1=e,this.n6_1=0}function Bt(){return Yt(),s}function jt(){return Yt(),a}function Pt(){return Yt(),l}function Ut(){return Yt(),u}function Ht(e){return Yt(),(0|e)===e?Pn(e):(jt()[0]=e,N(Pt()[(Yt(),c)],31)+Pt()[Ut()]|0)}function Yt(){$||($=!0,s=new ArrayBuffer(8),a=new Float64Array(Bt()),new Float32Array(Bt()),l=new Int32Array(Bt()),jt()[0]=-1,u=0!==Pt()[0]?1:0,c=1-Ut()|0)}function Gt(e,t){var n;if(Wt(e)){var r,i=e.charCodeAt(t);if(St(),i<0?r=!0:(St(),r=i>65535),r)throw ir("Invalid Char code: "+i);n=Un(i)}else n=e.b(t);return n}function Wt(e){return"string"==typeof e}function Kt(e){return Wt(e)?e.length:e.a()}function Vt(e,t,n){return Wt(e)?e.substring(t,n):e.c(t,n)}function Xt(e){return tn(e)}function Jt(e,t){var n;if(e<t)n=-1;else if(e>t)n=1;else if(e===t){var r;if(0!==e)r=0;else{var i=1/e;r=i===1/t?0:i<0?-1:1}n=r}else n=e!=e?t!=t?0:1:-1;return n}function Zt(e,t){return e<t?-1:e>t?1:0}function Qt(e){if(!("kotlinHashCodeValue$"in e)){var t=en(),n=new Object;n.value=t,n.enumerable=!1,Object.defineProperty(e,"kotlinHashCodeValue$",n)}return e.kotlinHashCodeValue$}function en(){return 4294967296*Math.random()|0}function tn(e){return null==e?"null":function(e){return t=e,!!Array.isArray(t)||L(e);var t}(e)?"[...]":"function"!=typeof e.toString?function(e){return Object.prototype.toString.call(e)}(e):e.toString()}function nn(e){if(null==e)return 0;var t,n=typeof e;switch(n){case"object":t="function"==typeof e.hashCode?e.hashCode():Qt(e);break;case"function":t=Qt(e);break;case"number":t=Ht(e);break;case"boolean":t=e?1231:1237;break;case"string":t=rn(String(e));break;case"bigint":t=function(e){for(var t=BigInt(32),n=BigInt(4294967295),r=e<0?-e:e,i=0,o=e<0?-1:1;0!=r;){var s=Number(r&n);i=N(31,i)+s|0,r>>=t}return N(i,o)}(e);break;case"symbol":t=function(e){var t=(r=e,Symbol.keyFor(r)!=x?(_===x&&(_=new Map),_):(f===x&&(f=new WeakMap),f)),n=t.get(e);var r;if(n!==x)return n;var i=en();return t.set(e,i),i}(e);break;default:t=function(){throw new Error("Unexpected typeof `"+n+"`")}()}return t}function rn(e){var t=0,n=0,r=e.length-1|0;if(n<=r)do{var i=n;n=n+1|0;var o=e.charCodeAt(i);t=N(t,31)+o|0}while(i!==r);return t}function on(e,t){return null==e?null==t:null!=t&&("object"==typeof e&&"function"==typeof e.equals?e.equals(t):e!=e?t!=t:"number"==typeof e&&"number"==typeof t?e===t&&(0!==e||1/e==1/t):e===t)}function sn(e,t){null!=Error.captureStackTrace?Error.captureStackTrace(e,t):e.stack=(new Error).stack}function an(e){return e.prototype}function ln(e){return Object.create(e)}function un(e,t,n){Error.call(e),function(e,t,n){var r=Wn(Object.getPrototypeOf(e));if(0==(1&r)){var i;if(null==t){var o;if(null!==t){var s=null==n?null:n.toString();o=null==s?x:s}else o=x;i=o}else i=t;e.message=i}0==(2&r)&&(e.cause=n),e.name=Object.getPrototypeOf(e).constructor.name}(e,t,n)}function cn(e){var t;return null==e?function(){throw Ar()}():t=e,t}function $n(){throw Cr()}function _n(){d=this,this.s6_1=new fn(0,-2147483648),this.t6_1=new fn(-1,2147483647),this.u6_1=8,this.v6_1=64}function fn(e,t){null==d&&new _n,D.call(this),this.p6_1=e,this.q6_1=t}function dn(){return Dn(),p}function pn(){return Dn(),h}function hn(){return Dn(),m}function mn(){return Dn(),v}function gn(){return Dn(),b}function vn(e,t){if(Dn(),En(e,t))return 0;var n=Cn(e),r=Cn(t);return n&&!r?-1:!n&&r?1:Cn(yn(e,t))?-1:1}function bn(e,t){Dn();var n=e.q6_1>>>16|0,r=65535&e.q6_1,i=e.p6_1>>>16|0,o=65535&e.p6_1,s=t.q6_1>>>16|0,a=65535&t.q6_1,l=t.p6_1>>>16|0,u=0,c=0,$=0,_=0;return u=(u=u+((c=(c=c+(($=($=$+((_=_+(o+(65535&t.p6_1)|0)|0)>>>16|0)|0)+(i+l|0)|0)>>>16|0)|0)+(r+a|0)|0)>>>16|0)|0)+(n+s|0)|0,new fn(($&=65535)<<16|(_&=65535),(u&=65535)<<16|(c&=65535))}function yn(e,t){return Dn(),bn(e,t.z6())}function wn(e,t){if(Dn(),On(e))return dn();if(On(t))return dn();if(En(e,mn()))return Tn(t)?mn():dn();if(En(t,mn()))return Tn(e)?mn():dn();if(Cn(e))return Cn(t)?wn(In(e),In(t)):In(wn(In(e),t));if(Cn(t))return In(wn(e,In(t)));if(Rn(e,gn())&&Rn(t,gn()))return Nn(kn(e)*kn(t));var n=e.q6_1>>>16|0,r=65535&e.q6_1,i=e.p6_1>>>16|0,o=65535&e.p6_1,s=t.q6_1>>>16|0,a=65535&t.q6_1,l=t.p6_1>>>16|0,u=65535&t.p6_1,c=0,$=0,_=0,f=0;return _=_+((f=f+N(o,u)|0)>>>16|0)|0,f&=65535,$=($=$+((_=_+N(i,u)|0)>>>16|0)|0)+((_=(_&=65535)+N(o,l)|0)>>>16|0)|0,_&=65535,c=(c=(c=c+(($=$+N(r,u)|0)>>>16|0)|0)+(($=($&=65535)+N(i,l)|0)>>>16|0)|0)+(($=($&=65535)+N(o,a)|0)>>>16|0)|0,$&=65535,c=c+(((N(n,u)+N(r,l)|0)+N(i,a)|0)+N(o,s)|0)|0,new fn(_<<16|f,(c&=65535)<<16|$)}function xn(e,t){if(Dn(),On(t))throw er("division by zero");if(On(e))return dn();if(En(e,mn())){if(En(t,pn())||En(t,hn()))return mn();if(En(t,mn()))return pn();var n=function(e,t){Dn();var n=63&t;return 0===n?e:n<32?new fn(e.p6_1<<n,e.q6_1<<n|e.p6_1>>>(32-n|0)|0):new fn(0,e.p6_1<<(n-32|0))}(function(e,t){Dn();var n=63&t;return 0===n?e:n<32?new fn(e.p6_1>>>n|0|e.q6_1<<(32-n|0),e.q6_1>>n):new fn(e.q6_1>>(n-32|0),e.q6_1>=0?0:-1)}(e,1).y6(t),1);return En(n,dn())?Cn(t)?pn():hn():bn(n,yn(e,wn(t,n)).y6(t))}if(En(t,mn()))return dn();if(Cn(e))return Cn(t)?In(e).y6(In(t)):In(In(e).y6(t));if(Cn(t))return In(e.y6(In(t)));for(var r=dn(),i=e;zn(i,t);){for(var o=kn(i)/kn(t),s=Math.max(1,Math.floor(o)),a=Math.ceil(Math.log(s)/Math.LN2),l=a<=48?1:Math.pow(2,a-48),u=Nn(s),c=wn(u,t);Cn(c)||Ln(c,i);)c=wn(u=Nn(s-=l),t);On(u)&&(u=pn()),r=bn(r,u),i=yn(i,c)}return r}function kn(e){return Dn(),4294967296*e.q6_1+function(e){return Dn(),e.p6_1>=0?e.p6_1:4294967296+e.p6_1}(e)}function En(e,t){return Dn(),e.q6_1===t.q6_1&&e.p6_1===t.p6_1}function An(e,t){if(Dn(),t<2||36<t)throw er("radix out of range: "+t);if(On(e))return"0";if(Cn(e)){if(En(e,mn())){var n=Sn(t),r=e.y6(n),i=yn(wn(r,n),e).b7();return An(r,t)+i.toString(t)}return"-"+An(In(e),t)}for(var o=2===t?31:t<=10?9:t<=21?7:t<=35?6:5,s=Nn(Math.pow(t,o)),a=e,l="";;){var u=a.y6(s),c=yn(a,wn(u,s)).b7().toString(t);if(On(a=u))return c+l;for(;c.length<o;)c="0"+c;l=c+l}}function Sn(e){return Dn(),new fn(e,e<0?-1:0)}function Cn(e){return Dn(),e.q6_1<0}function On(e){return Dn(),0===e.q6_1&&0===e.p6_1}function Tn(e){return Dn(),1==(1&e.p6_1)}function In(e){return Dn(),e.z6()}function Rn(e,t){return Dn(),vn(e,t)<0}function Nn(e){if(Dn(),(t=e)!=t)return dn();var t;if(e<=-0x8000000000000000)return mn();if(e+1>=0x8000000000000000)return Dn(),g;if(e<0)return In(Nn(-e));var n=4294967296;return new fn(e%n|0,e/n|0)}function Ln(e,t){return Dn(),vn(e,t)>0}function zn(e,t){return Dn(),vn(e,t)>=0}function Dn(){y||(y=!0,p=Sn(0),h=Sn(1),m=Sn(-1),g=new fn(-1,2147483647),v=new fn(0,-2147483648),b=Sn(16777216))}function Fn(e,t,n,r,i){return Mn("class",e,t,n,r,i,null)}function Mn(e,t,n,r,i,o,s){return{kind:e,simpleName:t,associatedObjectKey:r,associatedObjects:i,suspendArity:o,$kClass$:x,defaultConstructor:n,iid:s}}function qn(e,t,n,r,i,o,s,a,l){null!=r&&(e.prototype=Object.create(r.prototype),e.prototype.constructor=e);var u=n(t,o,s,a,null==l?[]:l);e.$metadata$=u,null!=i&&((null!=u.iid?e:e.prototype).$imask$=Ft(i))}function Bn(e,t,n,r,i){return Mn("interface",e,t,n,r,i,(w===x&&(w=0),w=w+1|0))}function jn(e,t,n,r,i){return Mn("object",e,t,n,r,i,null)}function Pn(e){return e instanceof fn?e.b7():function(e){return e>2147483647?2147483647:e<-2147483648?-2147483648:0|e}(e)}function Un(e){return t=function(e){return e<<16>>16}(Pn(e)),65535&t;var t}function Hn(e,t){return new ei(e,t)}function Yn(e,t){return function(e,t){var n=e.$imask$;return null!=n&&function(e,t){var n=t>>5;if(n>e.length)return!1;var r=1<<(31&t);return!(0==(e[n]&r))}(n,t)}(e,t.$metadata$.iid)}function Gn(e){return"string"==typeof e||Yn(e,z)}function Wn(e){var t=e.constructor,n=null==t?null:t.$metadata$,r=null==n?null:n.errorInfo;if(null!=r)return r;var i,o=0;if(Kn(e,"message")&&(o|=1),Kn(e,"cause")&&(o|=2),3!==o){var s=(i=e,Object.getPrototypeOf(i));s!=Error.prototype&&(o|=Wn(s))}return null!=n&&(n.errorInfo=o),o}function Kn(e,t){return e.hasOwnProperty(t)}function Vn(e){return new re(e)}function Xn(){k=this,this.d7_1=new Int32Array([48,1632,1776,1984,2406,2534,2662,2790,2918,3046,3174,3302,3430,3558,3664,3792,3872,4160,4240,6112,6160,6470,6608,6784,6800,6992,7088,7232,7248,42528,43216,43264,43472,43504,43600,44016,65296])}function Jn(){return null==k&&new Xn,k}function Zn(e){return un(e),tr.call(e),e}function Qn(e,t){return un(t,e),tr.call(t),t}function er(e){var t=Qn(e,ln(an(tr)));return sn(t,er),t}function tr(){sn(this,tr)}function nr(e){return fr(e),or.call(e),e}function rr(e,t){return dr(e,t),or.call(t),t}function ir(e){var t=rr(e,ln(an(or)));return sn(t,ir),t}function or(){sn(this,or)}function sr(e){var t=function(e,t){return dr(e,t),ar.call(t),t}(e,ln(an(ar)));return sn(t,sr),t}function ar(){sn(this,ar)}function lr(e){var t=function(e,t){return dr(e,t),ur.call(t),t}(e,ln(an(ur)));return sn(t,lr),t}function ur(){sn(this,ur)}function cr(){var e,t=(fr(e=ln(an(_r))),_r.call(e),e);return sn(t,cr),t}function $r(e){var t=function(e,t){return dr(e,t),_r.call(t),t}(e,ln(an(_r)));return sn(t,$r),t}function _r(){sn(this,_r)}function fr(e){return Zn(e),hr.call(e),e}function dr(e,t){return Qn(e,t),hr.call(t),t}function pr(e){var t=dr(e,ln(an(hr)));return sn(t,pr),t}function hr(){sn(this,hr)}function mr(){var e,t=(fr(e=ln(an(vr))),vr.call(e),e);return sn(t,mr),t}function gr(e){var t=function(e,t){return dr(e,t),vr.call(t),t}(e,ln(an(vr)));return sn(t,gr),t}function vr(){sn(this,vr)}function br(){var e,t=(fr(e=ln(an(yr))),yr.call(e),e);return sn(t,br),t}function yr(){sn(this,yr)}function wr(e){var t=function(e,t){return dr(e,t),xr.call(t),t}(e,ln(an(xr)));return sn(t,wr),t}function xr(){sn(this,xr)}function kr(e){var t=function(e,t){return rr(e,t),Er.call(t),t}(e,ln(an(Er)));return sn(t,kr),t}function Er(){sn(this,Er)}function Ar(){var e,t=(fr(e=ln(an(Sr))),Sr.call(e),e);return sn(t,Ar),t}function Sr(){sn(this,Sr)}function Cr(){var e,t=(fr(e=ln(an(Or))),Or.call(e),e);return sn(t,Cr),t}function Or(){sn(this,Or)}function Tr(){}function Ir(e){this.h7_1=e,this.g7_1=0}function Rr(){this.c1_1=2147483639}function Nr(){Tr.call(this)}function Lr(e,t){return t===e?"(this Map)":Dt(t)}function zr(e,t){var n;e:{for(var r=e.p1().k();r.s();){var i=r.u();if(on(i.a4(),t)){n=i;break e}}n=null}return n}function Dr(){}function Fr(){this.k1_1=null,this.l1_1=null}function Mr(){}function qr(e){return e.i()-1|0}function Br(){return null==S&&new Pr,S}function jr(e,t){this.j7_1=e,this.k7_1=t}function Pr(){S=this,this.n7_1=new fn(-1478467534,-1720727600)}function Ur(){}function Hr(){}function Yr(e){this.t7_1=e,this.s7_1=e.u7_1.k()}function Gr(e,t){this.u7_1=e,this.v7_1=t}function Wr(){return null==O&&new Kr,O}function Kr(){O=this,this.w7_1=new fn(1993859828,793161749)}function Vr(e){Nr.call(this),this.x7_1=e}function Xr(e,t,n){return Jr(Jr(e,n)-Jr(t,n)|0,n)}function Jr(e,t){var n=e%t|0;return n>=0?n:n+t|0}function Zr(){T=this,this.t5_1=new ei(1,0)}function Qr(){return null==T&&new Zr,T}function ei(e,t){Qr(),ri.call(this,e,t,1)}function ti(e,t,n){Hr.call(this),this.d8_1=n,this.e8_1=t,this.f8_1=this.d8_1>0?e<=t:e>=t,this.g8_1=this.f8_1?e:this.e8_1}function ni(){}function ri(e,t,r){if(0===r)throw ir("Step must be non-zero.");if(r===n.MIN_VALUE)throw ir("Step must be greater than Int.MIN_VALUE to avoid overflow on negation.");this.a8_1=e,this.b8_1=function(e,t,n){var r;if(n>0)r=e>=t?t:t-Xr(t,e,n)|0;else{if(!(n<0))throw ir("Step is zero.");r=e<=t?t:t+Xr(e,t,0|-n)|0}return r}(e,t,r),this.c8_1=r}function ii(e,t,n){null!=n?e.e4(n(t)):null==t||Gn(t)?e.e4(t):t instanceof Ct?e.x3(t.v5_1):e.e4(Dt(t))}function oi(e,t,n){if(e===t)return!0;if(!(n=n!==x&&n))return!1;var r=Pe(e),i=Pe(t);return r===i||Gt(Et(r).toLowerCase(),0)===Gt(Et(i).toLowerCase(),0)}function si(e){return e}function ai(e){return Kt(e)-1|0}function li(e,t,n,r){return n=n===x?0:n,(r=r!==x&&r)||"string"!=typeof e?ui(e,t,n,Kt(e),r):e.indexOf(t,n)}function ui(e,t,n,r,i,o){var s=(o=o!==x&&o)?vt(mt(n,ai(e)),gt(r,0)):Hn(gt(n,0),mt(r,Kt(e)));if("string"==typeof e&&"string"==typeof t){var a=s.a8_1,l=s.b8_1,u=s.c8_1;if(u>0&&a<=l||u<0&&l<=a)do{var c=a;if(a=a+u|0,at(t,0,e,c,Kt(t),i))return c}while(c!==l)}else{var $=s.a8_1,_=s.b8_1,f=s.c8_1;if(f>0&&$<=_||f<0&&_<=$)do{var d=$;if($=$+f|0,ci(t,0,e,d,Kt(t),i))return d}while(d!==_)}return-1}function ci(e,t,n,r,i,o){if(r<0||t<0||t>(Kt(e)-i|0)||r>(Kt(n)-i|0))return!1;var s=0;if(s<i)do{var a=s;if(s=s+1|0,!oi(Gt(e,t+a|0),Gt(n,r+a|0),o))return!1}while(s<i);return!0}function $i(e,t,n){return function(e,t,n,r){var i;if(n=n===x?0:n,(r=r!==x&&r)||"string"!=typeof e)i=function(e,t,n,r){if(n=n===x?0:n,!(r=r!==x&&r)&&1===t.length&&"string"==typeof e){var i=Et(function(e){var t;switch(e.length){case 0:throw gr("Array is empty.");case 1:t=e[0];break;default:throw ir("Array has more than one element.")}return t}(t));return e.indexOf(i,n)}var o=gt(n,0),s=ai(e);if(o<=s)do{var a=o;o=o+1|0;var l,u=Gt(e,a);e:{for(var c=0,$=t.length;c<$;){var _=t[c];if(c=c+1|0,oi(_,u,r)){l=!0;break e}}l=!1}if(l)return a}while(a!==s);return-1}(e,(s=[t],a=new Uint16Array(s),a.$type$="CharArray",a),n,r);else{var o=Et(t);i=e.indexOf(o,n)}var s,a;return i}(e,t,x,n=n!==x&&n)>=0}function _i(e){if(e.j8_1<0)e.h8_1=0,e.k8_1=null;else{var t;if(e.m8_1.p8_1>0?(e.l8_1=e.l8_1+1|0,t=e.l8_1>=e.m8_1.p8_1):t=!1,t||e.j8_1>Kt(e.m8_1.n8_1))e.k8_1=Hn(e.i8_1,ai(e.m8_1.n8_1)),e.j8_1=-1;else{var r=e.m8_1.q8_1(e.m8_1.n8_1,e.j8_1);if(null==r)e.k8_1=Hn(e.i8_1,ai(e.m8_1.n8_1)),e.j8_1=-1;else{var i=r.t8(),o=r.u8();e.k8_1=function(e,t){return t<=n.MIN_VALUE?Qr().t5_1:Hn(e,t-1|0)}(e.i8_1,i),e.i8_1=i+o|0,e.j8_1=e.i8_1+(0===o?1:0)|0}}e.h8_1=1}}function fi(e){this.m8_1=e,this.h8_1=-1,this.i8_1=function(e,t,n){if(t>n)throw ir("Cannot coerce value to an empty range: maximum "+n+" is less than minimum "+t+".");return e<t?t:e>n?n:e}(e.o8_1,0,Kt(e.n8_1)),this.j8_1=this.i8_1,this.k8_1=null,this.l8_1=0}function di(e,t,n,r){this.n8_1=e,this.o8_1=t,this.p8_1=n,this.q8_1=r}function pi(){}function hi(e,t,n){this.v8_1=e,this.w8_1=t,this.x8_1=n}function mi(e,t){this.r8_1=e,this.s8_1=t}function gi(e,t){return new mi(e,t)}return qn(z,"CharSequence",Bn),qn(D,"Number",Fn),qn(F,"Unit",jn),qn(M,"IntCompanionObject",jn),qn(Tt,"Collection",Bn),qn(Tr,"AbstractCollection",Fn,x,[Tt]),qn(Ot,"List",Bn,x,[Tt]),qn(Nr,"AbstractList",Fn,Tr,[Tr,Ot]),qn(q,x,Fn,Nr),qn(H,"AbstractMutableCollection",Fn,Tr,[Tr,Tt]),qn(Y,"IteratorImpl",Fn),qn(G,"AbstractMutableList",Fn,H,[H,Tt,Ot]),qn(Nt,"Map",Bn),qn(Fr,"AbstractMap",Fn,x,[Nt]),qn(W,"AbstractMutableMap",Fn,Fr,[Fr,Nt]),qn(It,"Set",Bn,x,[Tt]),qn(K,"AbstractMutableSet",Fn,H,[H,Tt,It]),qn(Z,"Companion",jn),qn(re,"ArrayList",Fn,G,[G,Tt,Ot],Q),qn(oe,"HashMap",Fn,W,[W,Nt],(function(){return ie(ln(an(oe)))})),qn(ae,"HashMapEntrySetBase",Fn,K,[Tt,It,K]),qn(se,"HashMapEntrySet",Fn,ae),qn($e,"HashSet",Fn,K,[K,Tt,It],(function(){return ue(ln(an($e)))})),qn(Ee,"Companion",jn),qn(Ae,"Itr",Fn),qn(Se,"KeysItr",Fn,Ae),qn(Ce,"EntriesItr",Fn,Ae),qn(Rt,"Entry",Bn),qn(Oe,"EntryRef",Fn,x,[Rt]),qn(Ie,"InternalMap",Bn),qn(Te,"InternalHashMap",Fn,x,[Ie],de),qn(Ne,"LinkedHashMap",Fn,oe,[oe,Nt],Re),qn(De,"LinkedHashSet",Fn,$e,[$e,Tt,It],Le),qn(je,"StringBuilder",Fn,x,[z],Be),qn(Ke,"Companion",jn),qn(Je,"Regex",Fn),qn(Qe,"MatchGroup",Fn),qn(pi,"MatchNamedGroupCollection",Bn,x,[Tt]),qn(it,x,Fn,Tr,[pi,Tr]),qn(ot,x,Fn),qn(ht,x,Fn),qn(At,"Companion",jn),qn(Ct,"Char",Fn),qn(Lt,"Companion",jn),qn(zt,"Enum",Fn),qn(qt,x,Fn),qn(_n,"Companion",jn),qn(fn,"Long",Fn,D),qn(Xn,"Digit",jn),qn(tr,"Exception",Fn,Error,x,(function e(){var t=Zn(ln(an(tr)));return sn(t,e),t})),qn(hr,"RuntimeException",Fn,tr,x,(function e(){var t=fr(ln(an(hr)));return sn(t,e),t})),qn(or,"IllegalArgumentException",Fn,hr,x,(function e(){var t=nr(ln(an(or)));return sn(t,e),t})),qn(ar,"IndexOutOfBoundsException",Fn,hr,x,(function e(){var t,n=(fr(t=ln(an(ar))),ar.call(t),t);return sn(n,e),n})),qn(ur,"IllegalStateException",Fn,hr,x,(function e(){var t,n=(fr(t=ln(an(ur))),ur.call(t),t);return sn(n,e),n})),qn(_r,"UnsupportedOperationException",Fn,hr,x,cr),qn(vr,"NoSuchElementException",Fn,hr,x,mr),qn(yr,"ConcurrentModificationException",Fn,hr,x,br),qn(xr,"ArithmeticException",Fn,hr,x,(function e(){var t,n=(fr(t=ln(an(xr))),xr.call(t),t);return sn(n,e),n})),qn(Er,"NumberFormatException",Fn,or,x,(function e(){var t,n=(nr(t=ln(an(Er))),Er.call(t),t);return sn(n,e),n})),qn(Sr,"NullPointerException",Fn,hr,x,Ar),qn(Or,"ClassCastException",Fn,hr,x,Cr),qn(Ir,"IteratorImpl",Fn),qn(Rr,"Companion",jn),qn(Dr,"Companion",jn),qn(Mr,"Companion",jn),qn(jr,"ArrayAsCollection",Fn,x,[Tt]),qn(Pr,"EmptyList",jn,x,[Ot]),qn(Ur,"EmptyIterator",jn),qn(Hr,"IntIterator",Fn),qn(Yr,x,Fn),qn(Gr,"TransformingSequence",Fn),qn(Kr,"EmptySet",jn,x,[It]),qn(Vr,"EnumEntriesList",Fn,Nr,[Ot,Nr]),qn(Zr,"Companion",jn),qn(ri,"IntProgression",Fn),qn(ei,"IntRange",Fn,ri),qn(ti,"IntProgressionIterator",Fn,Hr),qn(ni,"Companion",jn),qn(fi,x,Fn),qn(di,"DelimitedRangesSequence",Fn),qn(hi,"Triple",Fn),qn(mi,"Pair",Fn),an(F).toString=function(){return"kotlin.Unit"},an(M).d=function(){return this.MIN_VALUE},an(M).e=function(){return this.MAX_VALUE},an(M).f=function(){return this.SIZE_BYTES},an(M).g=function(){return this.SIZE_BITS},an(q).i=function(){return this.h_1.length},an(q).j=function(e){if(!(0<=e&&e<=qr(this)))throw sr("index "+e+" is not in range [0.."+qr(this)+"]");return this.h_1.item(e)},an(H).q=function(e){this.r();for(var t=this.k();t.s();)if(on(t.u(),e))return t.t(),!0;return!1},an(H).v=function(e){this.r();for(var t=!1,n=e.k();n.s();){var r=n.u();this.p(r)&&(t=!0)}return t},an(H).toJSON=function(){return this.toArray()},an(H).r=function(){},an(Y).s=function(){return this.w_1<this.y_1.i()},an(Y).u=function(){if(!this.s())throw mr();var e=this.w_1;return this.w_1=e+1|0,this.x_1=e,this.y_1.j(this.x_1)},an(Y).t=function(){if(-1===this.x_1)throw lr(tn("Call next() or previous() before removing element from the iterator."));this.y_1.a1(this.x_1),this.w_1=this.x_1,this.x_1=-1},an(G).p=function(e){return this.r(),this.b1(this.i(),e),!0},an(G).k=function(){return new Y(this)},an(G).m=function(e){return this.l(e)>=0},an(G).l=function(e){var t;e:{for(var n=0,r=this.k();r.s();){if(on(r.u(),e)){t=n;break e}n=n+1|0}t=-1}return t},an(G).equals=function(e){return e===this||!(null==e||!Yn(e,Ot))&&E.d1(this,e)},an(G).hashCode=function(){return E.e1(this)},an(K).equals=function(e){return e===this||!(null==e||!Yn(e,It))&&A.q1(this,e)},an(K).hashCode=function(){return A.r1(this)},an(re).i=function(){return this.t1_1.length},an(re).j=function(e){var t=this.t1_1[ne(this,e)];return null==t||null!=t?t:$n()},an(re).p=function(e){return this.r(),this.t1_1.push(e),this.z_1=this.z_1+1|0,!0},an(re).b1=function(e,t){this.r(),this.t1_1.splice(function(e,t){return E.x1(t,e.i()),t}(this,e),0,t),this.z_1=this.z_1+1|0},an(re).v=function(e){if(this.r(),e.o())return!1;for(var t=(a=this,l=e.i(),u=void 0,u=a.i(),a.t1_1.length=a.i()+l|0,u),n=0,r=e.k();r.s();){var i=r.u(),o=n;n=o+1|0;var s=j(o);this.t1_1[t+s|0]=i}var a,l,u;return this.z_1=this.z_1+1|0,!0},an(re).a1=function(e){return this.r(),ne(this,e),this.z_1=this.z_1+1|0,e===qr(this)?this.t1_1.pop():this.t1_1.splice(e,1)[0]},an(re).q=function(e){this.r();var t=0,n=this.t1_1.length-1|0;if(t<=n)do{var r=t;if(t=t+1|0,on(this.t1_1[r],e))return this.t1_1.splice(r,1),this.z_1=this.z_1+1|0,!0}while(t<=n);return!1},an(re).l=function(e){return ut(this.t1_1,e)},an(re).toString=function(){return ct(this.t1_1,", ","[","]",x,x,Xt)},an(re).y1=function(){return[].slice.call(this.t1_1)},an(re).toArray=function(){return this.y1()},an(re).r=function(){if(this.u1_1)throw cr()},an(oe).m1=function(e){return this.d2_1.f2(e)},an(oe).p1=function(){var e,t=this.e2_1;if(null==t){var n=new se(this.d2_1);this.e2_1=n,e=n}else e=t;return e},an(oe).o1=function(e){return this.d2_1.o1(e)},an(oe).j1=function(e,t){return this.d2_1.j1(e,t)},an(oe).i=function(){return this.d2_1.i()},an(se).k=function(){return this.h2_1.i2()},an(ae).i=function(){return this.h2_1.i()},an(ae).o=function(){return 0===this.h2_1.i()},an(ae).j2=function(e){return this.h2_1.l2(e)},an(ae).m=function(e){return!(null==e||!Yn(e,Rt))&&this.j2(null!=e&&Yn(e,Rt)?e:$n())},an(ae).k2=function(e){throw cr()},an(ae).p=function(e){return this.k2(null!=e&&Yn(e,Rt)?e:$n())},an(ae).n=function(e){return this.h2_1.m2(e)},an(ae).r=function(){return this.h2_1.r()},an($e).p=function(e){return null==this.n2_1.j1(e,!0)},an($e).m=function(e){return this.n2_1.f2(e)},an($e).o=function(){return 0===this.n2_1.i()},an($e).k=function(){return this.n2_1.o2()},an($e).i=function(){return this.n2_1.i()},an(Ae).i3=function(){for(;this.f3_1<this.e3_1.u2_1&&this.e3_1.r2_1[this.f3_1]<0;)this.f3_1=this.f3_1+1|0},an(Ae).s=function(){return this.f3_1<this.e3_1.u2_1},an(Ae).t=function(){if(this.j3(),-1===this.g3_1)throw lr(tn("Call next() before removing element from the iterator."));this.e3_1.r(),ke(this.e3_1,this.g3_1),this.g3_1=-1,this.h3_1=this.e3_1.w2_1},an(Ae).j3=function(){if(this.e3_1.w2_1!==this.h3_1)throw br()},an(Se).u=function(){if(this.j3(),this.f3_1>=this.e3_1.u2_1)throw mr();var e=this.f3_1;this.f3_1=e+1|0,this.g3_1=e;var t=this.e3_1.p2_1[this.g3_1];return this.i3(),t},an(Ce).u=function(){if(this.j3(),this.f3_1>=this.e3_1.u2_1)throw mr();var e=this.f3_1;this.f3_1=e+1|0,this.g3_1=e;var t=new Oe(this.e3_1,this.g3_1);return this.i3(),t},an(Ce).s3=function(){if(this.f3_1>=this.e3_1.u2_1)throw mr();var e=this.f3_1;this.f3_1=e+1|0,this.g3_1=e;var t=this.e3_1.p2_1[this.g3_1],n=null==t?null:nn(t),r=null==n?0:n,i=cn(this.e3_1.q2_1)[this.g3_1],o=null==i?null:nn(i),s=r^(null==o?0:o);return this.i3(),s},an(Ce).t3=function(e){if(this.f3_1>=this.e3_1.u2_1)throw mr();var t=this.f3_1;this.f3_1=t+1|0,this.g3_1=t;var n=this.e3_1.p2_1[this.g3_1];on(n,this.e3_1)?e.w3("(this Map)"):e.v3(n),e.x3(61);var r=cn(this.e3_1.q2_1)[this.g3_1];on(r,this.e3_1)?e.w3("(this Map)"):e.v3(r),this.i3()},an(Oe).a4=function(){return this.y3_1.p2_1[this.z3_1]},an(Oe).b4=function(){return cn(this.y3_1.q2_1)[this.z3_1]},an(Oe).equals=function(e){return!(null==e||!Yn(e,Rt)||!on(e.a4(),this.a4()))&&on(e.b4(),this.b4())},an(Oe).hashCode=function(){var e=this.a4(),t=null==e?null:nn(e),n=null==t?0:t,r=this.b4(),i=null==r?null:nn(r);return n^(null==i?0:i)},an(Oe).toString=function(){return this.a4()+"="+this.b4()},an(Te).i=function(){return this.x2_1},an(Te).o1=function(e){var t=xe(this,e);return t<0?null:cn(this.q2_1)[t]},an(Te).f2=function(e){return xe(this,e)>=0},an(Te).j1=function(e,t){var n=function(e,t){e.r();e:for(;;)for(var n=be(e,t),r=mt(N(e.t2_1,2),me(e)/2|0),i=0;;){var o=e.s2_1[n];if(o<=0){if(e.u2_1>=he(e)){ve(e,1);continue e}var s=e.u2_1;e.u2_1=s+1|0;var a=s;return e.p2_1[a]=t,e.r2_1[a]=n,e.s2_1[n]=a+1|0,e.x2_1=e.x2_1+1|0,ge(e),i>e.t2_1&&(e.t2_1=i),a}if(on(e.p2_1[o-1|0],t))return 0|-o;if((i=i+1|0)>r){ye(e,N(me(e),2));continue e}var l=n;n=l-1|0,0===l&&(n=me(e)-1|0)}}(this,e),r=function(e){var t=e.q2_1;if(null!=t)return t;var n=V(he(e));return e.q2_1=n,n}(this);if(n<0){var i=r[(0|-n)-1|0];return r[(0|-n)-1|0]=t,i}return r[n]=t,null},an(Te).equals=function(e){return e===this||!(null==e||!Yn(e,Nt))&&function(e,t){return e.x2_1===t.i()&&e.m2(t.p1())}(this,e)},an(Te).hashCode=function(){for(var e=0,t=this.i2();t.s();)e=e+t.s3()|0;return e},an(Te).toString=function(){var e=Fe(N(this.x2_1,3));e.w3("{");for(var t=0,n=this.i2();n.s();)t>0&&e.w3(", "),n.t3(e),t=t+1|0;return e.w3("}"),e.toString()},an(Te).r=function(){if(this.y2_1)throw cr()},an(Te).l2=function(e){var t=xe(this,e.a4());return!(t<0)&&on(cn(this.q2_1)[t],e.b4())},an(Te).c4=function(e){return this.l2(Yn(e,Rt)?e:$n())},an(Te).o2=function(){return new Se(this)},an(Te).i2=function(){return new Ce(this)},an(De).r=function(){return this.n2_1.r()},an(je).a=function(){return this.u3_1.length},an(je).b=function(e){var t=this.u3_1;if(!(e>=0&&e<=ai(t)))throw sr("index: "+e+", length: "+this.a()+"}");return Gt(t,e)},an(je).c=function(e,t){return this.u3_1.substring(e,t)},an(je).x3=function(e){return this.u3_1=this.u3_1+Et(e),this},an(je).e4=function(e){return this.u3_1=this.u3_1+Dt(e),this},an(je).f4=function(e,t,n){return this.g4(null==e?"null":e,t,n)},an(je).h4=function(){for(var e="",t=this.u3_1.length-1|0;t>=0;){var n=t;t=n-1|0;var r=Gt(this.u3_1,n);if(Ue(r)&&t>=0){var i=t;t=i-1|0;var o=Gt(this.u3_1,i);e=He(o)?e+new Ct(o)+Et(r):e+new Ct(r)+Et(o)}else e+=Et(r)}return this.u3_1=e,this},an(je).v3=function(e){return this.u3_1=this.u3_1+Dt(e),this},an(je).w3=function(e){var t=this.u3_1;return this.u3_1=t+(null==e?"null":e),this},an(je).toString=function(){return this.u3_1},an(je).g4=function(e,t,n){var r=tn(e);E.i4(t,n,r.length);var i=this.u3_1;return this.u3_1=i+r.substring(t,n),this},an(Ke).m4=function(e){var t=this.j4_1;return e.replace(t,"\\$&")},an(Ke).n4=function(e){var t=this.l4_1;return e.replace(t,"$$$$")},an(Je).t4=function(e,t){if(t<0||t>Kt(e))throw sr("Start index out of bounds: "+t+", input length: "+Kt(e));return Ze(this.q4_1,tn(e),t,this.q4_1)},an(Je).u4=function(e,t,n){return t=t===x?0:t,n===x?this.t4(e,t):n.t4.call(this,e,t)},an(Je).v4=function(e,t){if(!$i(t,92)&&!$i(t,36)){var n=tn(e),r=this.q4_1;return n.replace(r,t)}return this.w4(e,Xe(t))},an(Je).w4=function(e,t){var n=this.u4(e);if(null==n)return tn(e);var r=0,i=Kt(e),o=Fe();do{var s=cn(n);o.f4(e,r,s.x4().b5()),o.e4(t(s)),r=s.x4().c5()+1|0,n=s.u()}while(r<i&&null!=n);return r<i&&o.f4(e,r,i),o.toString()},an(Je).toString=function(){return this.q4_1.toString()},an(Qe).toString=function(){return"MatchGroup(value="+this.e5_1+")"},an(Qe).hashCode=function(){return rn(this.e5_1)},an(Qe).equals=function(e){if(this===e)return!0;if(!(e instanceof Qe))return!1;var t=e instanceof Qe?e:$n();return this.e5_1===t.e5_1},an(it).i=function(){return this.j5_1.length},an(it).k=function(){return bt(function(e){return new ht(e)}((t=this,Hn(0,t.i()-1|0))),(e=this,function(t){return e.j(t)})).k();var e,t},an(it).j=function(e){var t=this.j5_1[e];return null==t?null:new Qe(t)},an(it).f5=function(e){var t=this.j5_1.groups;if(null==t)throw ir("Capturing group with name {"+e+"} does not exist. No named capturing group was defined in Regex");var n=t;if(!function(e,t,n){return Object.prototype.hasOwnProperty.call(t,n)}(this.k5_1,n,e))throw ir("Capturing group with name {"+e+"} does not exist");var r=n[e];return null==r?null:new Qe(null!=r&&"string"==typeof r?r:$n())},an(ot).x4=function(){return this.l5_1},an(ot).d5=function(){return this.m5_1},an(ot).u=function(){return Ze(this.q5_1,this.r5_1,this.o5_1.o()?function(e,t){if(t<ai(e.r5_1)){var n=e.r5_1.charCodeAt(t);if(55296<=n&&n<=56319){var r=e.r5_1.charCodeAt(t+1|0);if(56320<=r&&r<=57343)return t+2|0}}return t+1|0}(this,this.o5_1.b5()):this.o5_1.c5()+1|0,this.q5_1)},an(ht).k=function(){return this.s5_1.k()},an(Ct).g6=function(e){return wt(this.v5_1,e)},an(Ct).h6=function(e){return function(e,t){return wt(e.v5_1,t instanceof Ct?t.v5_1:$n())}(this,e)},an(Ct).equals=function(e){return function(e,t){return t instanceof Ct&&e===t.v5_1}(this.v5_1,e)},an(Ct).hashCode=function(){return this.v5_1},an(Ct).toString=function(){return Et(this.v5_1)},an(zt).k6=function(){return this.i6_1},an(zt).l6=function(){return this.j6_1},an(zt).m6=function(e){return function(e,t){var n;switch(typeof e){case"number":n="number"==typeof t?Jt(e,t):t instanceof fn?Jt(e,t.r6()):Zt(e,t);break;case"string":case"boolean":n=Zt(e,t);break;default:n=function(e,t){return e.h6(t)}(e,t)}return n}(this.j6_1,e.j6_1)},an(zt).h6=function(e){return this.m6(e instanceof zt?e:$n())},an(zt).equals=function(e){return this===e},an(zt).hashCode=function(){return Qt(this)},an(zt).toString=function(){return this.i6_1},an(qt).s=function(){return!(this.n6_1===this.o6_1.length)},an(qt).u=function(){if(this.n6_1===this.o6_1.length)throw gr(""+this.n6_1);var e=this.n6_1;return this.n6_1=e+1|0,this.o6_1[e]},an(fn).w6=function(e){return vn(this,e)},an(fn).h6=function(e){return this.w6(e instanceof fn?e:$n())},an(fn).x6=function(e){return bn(this,e)},an(fn).y6=function(e){return xn(this,e)},an(fn).z6=function(){return this.a7().x6(new fn(1,0))},an(fn).a7=function(){return new fn(~this.p6_1,~this.q6_1)},an(fn).b7=function(){return this.p6_1},an(fn).r6=function(){return kn(this)},an(fn).valueOf=function(){return this.r6()},an(fn).equals=function(e){return e instanceof fn&&En(this,e)},an(fn).hashCode=function(){return e=this,Dn(),e.p6_1^e.q6_1;var e},an(fn).toString=function(){return An(this,10)},an(Tr).m=function(e){var t;e:if(Yn(this,Tt)&&this.o())t=!1;else{for(var n=this.k();n.s();)if(on(n.u(),e)){t=!0;break e}t=!1}return t},an(Tr).n=function(e){var t;e:if(Yn(e,Tt)&&e.o())t=!0;else{for(var n=e.k();n.s();){var r=n.u();if(!this.m(r)){t=!1;break e}}t=!0}return t},an(Tr).o=function(){return 0===this.i()},an(Tr).toString=function(){return _t(this,", ","[","]",x,x,(e=this,function(t){return t===e?"(this Collection)":Dt(t)}));var e},an(Tr).toArray=function(){return B(this)},an(Ir).s=function(){return this.g7_1<this.h7_1.i()},an(Ir).u=function(){if(!this.s())throw mr();var e=this.g7_1;return this.g7_1=e+1|0,this.h7_1.j(e)},an(Rr).w1=function(e,t){if(e<0||e>=t)throw sr("index: "+e+", size: "+t)},an(Rr).x1=function(e,t){if(e<0||e>t)throw sr("index: "+e+", size: "+t)},an(Rr).c7=function(e,t,n){if(e<0||t>n)throw sr("fromIndex: "+e+", toIndex: "+t+", size: "+n);if(e>t)throw ir("fromIndex: "+e+" > toIndex: "+t)},an(Rr).i4=function(e,t,n){if(e<0||t>n)throw sr("startIndex: "+e+", endIndex: "+t+", size: "+n);if(e>t)throw ir("startIndex: "+e+" > endIndex: "+t)},an(Rr).z2=function(e,t){var r=e+(e>>1)|0;return(r-t|0)<0&&(r=t),(r-2147483639|0)>0&&(r=t>2147483639?n.MAX_VALUE:2147483639),r},an(Rr).e1=function(e){for(var t=1,n=e.k();n.s();){var r=n.u(),i=N(31,t),o=null==r?null:nn(r);t=i+(null==o?0:o)|0}return t},an(Rr).d1=function(e,t){if(e.i()!==t.i())return!1;for(var n=t.k(),r=e.k();r.s();)if(!on(r.u(),n.u()))return!1;return!0},an(Nr).k=function(){return new Ir(this)},an(Nr).l=function(e){var t;e:{for(var n=0,r=this.k();r.s();){if(on(r.u(),e)){t=n;break e}n=n+1|0}t=-1}return t},an(Nr).equals=function(e){return e===this||!(null==e||!Yn(e,Ot))&&E.d1(this,e)},an(Nr).hashCode=function(){return E.e1(this)},an(Fr).m1=function(e){return!(null==zr(this,e))},an(Fr).n1=function(e){if(null==e||!Yn(e,Rt))return!1;var t=e.a4(),n=e.b4(),r=(Yn(this,Nt)?this:$n()).o1(t);return!(!on(n,r)||null==r&&!(Yn(this,Nt)?this:$n()).m1(t))},an(Fr).equals=function(e){if(e===this)return!0;if(null==e||!Yn(e,Nt))return!1;if(this.i()!==e.i())return!1;var t;e:{var n=e.p1();if(Yn(n,Tt)&&n.o())t=!0;else{for(var r=n.k();r.s();){var i=r.u();if(!this.n1(i)){t=!1;break e}}t=!0}}return t},an(Fr).o1=function(e){var t=zr(this,e);return null==t?null:t.b4()},an(Fr).hashCode=function(){return nn(this.p1())},an(Fr).i=function(){return this.p1().i()},an(Fr).toString=function(){return _t(this.p1(),", ","{","}",x,x,(e=this,function(t){return e.i7(t)}));var e},an(Fr).i7=function(e){return Lr(this,e.a4())+"="+Lr(this,e.b4())},an(Mr).r1=function(e){for(var t=0,n=e.k();n.s();){var r=n.u(),i=t,o=null==r?null:nn(r);t=i+(null==o?0:o)|0}return t},an(Mr).q1=function(e,t){return e.i()===t.i()&&e.n(t)},an(jr).i=function(){return this.j7_1.length},an(jr).o=function(){return 0===this.j7_1.length},an(jr).l7=function(e){return function(e,t){return ut(e,t)>=0}(this.j7_1,e)},an(jr).m=function(e){return(null==e||null!=e)&&this.l7(null==e||null!=e?e:$n())},an(jr).m7=function(e){var t;e:if(Yn(e,Tt)&&e.o())t=!0;else{for(var n=e.k();n.s();){var r=n.u();if(!this.l7(r)){t=!1;break e}}t=!0}return t},an(jr).n=function(e){return this.m7(e)},an(jr).k=function(){return new qt(this.j7_1)},an(Pr).equals=function(e){return!(null==e||!Yn(e,Ot))&&e.o()},an(Pr).hashCode=function(){return 1},an(Pr).toString=function(){return"[]"},an(Pr).i=function(){return 0},an(Pr).o=function(){return!0},an(Pr).o7=function(e){return!1},an(Pr).m=function(e){return!1},an(Pr).p7=function(e){return e.o()},an(Pr).n=function(e){return this.p7(e)},an(Pr).j=function(e){throw sr("Empty list doesn't contain element at index "+e+".")},an(Pr).q7=function(e){return-1},an(Pr).l=function(e){return-1},an(Pr).k=function(){return C},an(Ur).s=function(){return!1},an(Ur).u=function(){throw mr()},an(Hr).u=function(){return this.r7()},an(Yr).u=function(){return this.t7_1.v7_1(this.s7_1.u())},an(Yr).s=function(){return this.s7_1.s()},an(Gr).k=function(){return new Yr(this)},an(Kr).equals=function(e){return!(null==e||!Yn(e,It))&&e.o()},an(Kr).hashCode=function(){return 0},an(Kr).toString=function(){return"[]"},an(Kr).i=function(){return 0},an(Kr).o=function(){return!0},an(Kr).o7=function(e){return!1},an(Kr).m=function(e){return!1},an(Kr).p7=function(e){return e.o()},an(Kr).n=function(e){return this.p7(e)},an(Kr).k=function(){return C},an(Vr).i=function(){return this.x7_1.length},an(Vr).j=function(e){return E.w1(e,this.x7_1.length),this.x7_1[e]},an(Vr).y7=function(e){return null!==e&&$t(this.x7_1,e.j6_1)===e},an(Vr).m=function(e){return e instanceof zt&&this.y7(e instanceof zt?e:$n())},an(Vr).z7=function(e){if(null===e)return-1;var t=e.j6_1;return $t(this.x7_1,t)===e?t:-1},an(Vr).l=function(e){return e instanceof zt?this.z7(e instanceof zt?e:$n()):-1},an(ei).b5=function(){return this.a8_1},an(ei).c5=function(){return this.b8_1},an(ei).o=function(){return this.a8_1>this.b8_1},an(ei).equals=function(e){return e instanceof ei&&(!(!this.o()||!e.o())||this.a8_1===e.a8_1&&this.b8_1===e.b8_1)},an(ei).hashCode=function(){return this.o()?-1:N(31,this.a8_1)+this.b8_1|0},an(ei).toString=function(){return this.a8_1+".."+this.b8_1},an(ti).s=function(){return this.f8_1},an(ti).r7=function(){var e=this.g8_1;if(e===this.e8_1){if(!this.f8_1)throw mr();this.f8_1=!1}else this.g8_1=this.g8_1+this.d8_1|0;return e},an(ni).u5=function(e,t,n){return new ri(e,t,n)},an(ri).k=function(){return new ti(this.a8_1,this.b8_1,this.c8_1)},an(ri).o=function(){return this.c8_1>0?this.a8_1>this.b8_1:this.a8_1<this.b8_1},an(ri).equals=function(e){return e instanceof ri&&(!(!this.o()||!e.o())||this.a8_1===e.a8_1&&this.b8_1===e.b8_1&&this.c8_1===e.c8_1)},an(ri).hashCode=function(){return this.o()?-1:N(31,N(31,this.a8_1)+this.b8_1|0)+this.c8_1|0},an(ri).toString=function(){return this.c8_1>0?this.a8_1+".."+this.b8_1+" step "+this.c8_1:this.a8_1+" downTo "+this.b8_1+" step "+(0|-this.c8_1)},an(fi).u=function(){if(-1===this.h8_1&&_i(this),0===this.h8_1)throw mr();var e=this.k8_1,t=e instanceof ei?e:$n();return this.k8_1=null,this.h8_1=-1,t},an(fi).s=function(){return-1===this.h8_1&&_i(this),1===this.h8_1},an(di).k=function(){return new fi(this)},an(hi).toString=function(){return"("+this.v8_1+", "+this.w8_1+", "+this.x8_1+")"},an(hi).hashCode=function(){var e=null==this.v8_1?0:nn(this.v8_1);return e=N(e,31)+(null==this.w8_1?0:nn(this.w8_1))|0,N(e,31)+(null==this.x8_1?0:nn(this.x8_1))|0},an(hi).equals=function(e){if(this===e)return!0;if(!(e instanceof hi))return!1;var t=e instanceof hi?e:$n();return!!on(this.v8_1,t.v8_1)&&!!on(this.w8_1,t.w8_1)&&!!on(this.x8_1,t.x8_1)},an(mi).toString=function(){return"("+this.r8_1+", "+this.s8_1+")"},an(mi).t8=function(){return this.r8_1},an(mi).u8=function(){return this.s8_1},an(mi).hashCode=function(){var e=null==this.r8_1?0:nn(this.r8_1);return N(e,31)+(null==this.s8_1?0:nn(this.s8_1))|0},an(mi).equals=function(e){if(this===e)return!0;if(!(e instanceof mi))return!1;var t=e instanceof mi?e:$n();return!!on(this.r8_1,t.r8_1)&&!!on(this.s8_1,t.s8_1)},an(Te).m2=function(e){var t;e:if(Yn(e,Tt)&&e.o())t=!0;else{for(var n=e.k();n.s();){var r=n.u();if(null==r||!Yn(r,Rt)||!this.c4(r)){t=!1;break e}}t=!0}return t},t=new F,n=new M,new Ee,new Lt,E=new Rr,new Dr,A=new Mr,C=new Ur,I=new ni,e.$_$=e.$_$||{},e.$_$.a=x,e.$_$.b=Q,e.$_$.c=Re,e.$_$.d=function(e){return function(e,t){return Je.call(t,e,Wr()),t}(e,ln(an(Je)))},e.$_$.e=ir,e.$_$.f=sr,e.$_$.g=yt,e.$_$.h=kt,e.$_$.i=St,e.$_$.j=t,e.$_$.k=Nr,e.$_$.l=Nt,e.$_$.m=function(e,t){return Yn(e,Tt)?e.m(t):function(e,t){if(Yn(e,Ot))return e.l(t);for(var n=0,r=e.k();r.s();){var i=r.u();if(j(n),on(t,i))return n;n=n+1|0}return-1}(e,t)>=0},e.$_$.n=Br,e.$_$.o=function(e){if(e.o())throw gr("List is empty.");return e.j(0)},e.$_$.p=function(e,t){return e.l(t)},e.$_$.q=_t,e.$_$.r=qr,e.$_$.s=function(e){if(e.o())throw gr("List is empty.");return e.j(qr(e))},e.$_$.t=function(e){return e.length>0?Vn(e):Br()},e.$_$.u=function(e){return 0===e.length?Q():te(new jr(e,!0))},e.$_$.v=function(e){if(e.o())throw gr("List is empty.");return e.a1(0)},e.$_$.w=function(e){return new Vr(e)},e.$_$.x=Gt,e.$_$.y=Kt,e.$_$.z=Fn,e.$_$.a1=on,e.$_$.b1=Gn,e.$_$.c1=Yn,e.$_$.d1=Un,e.$_$.e1=an,e.$_$.f1=qn,e.$_$.g1=tn,e.$_$.h1=function(e){return e<0?0|-e:e},e.$_$.i1=function(e,t,n){return n=n!==x&&n,"string"==typeof t?li(e,t,x,n)>=0:ui(e,t,0,Kt(e),n)>=0},e.$_$.j1=function(e,t,n){return(n=n!==x&&n)?at(e,e.length-t.length|0,t,0,t.length,n):e.endsWith(t)},e.$_$.k1=li,e.$_$.l1=st,e.$_$.m1=function(e,t,n,r){r=r!==x&&r;var i=new RegExp(Ve().m4(t),r?"ui":"u"),o=Ve().n4(n);return e.replace(i,o)},e.$_$.n1=function(e,t,n,r){r=r!==x&&r;var i=new RegExp(Ve().m4(t),r?"gui":"gu"),o=Ve().n4(n);return e.replace(i,o)},e.$_$.o1=function(e,t,n,r){r=r!==x&&r;var i=new RegExp(Ve().m4(Et(t)),r?"gui":"gu"),o=Et(n);return e.replace(i,o)},e.$_$.p1=function(e){return Me(e).h4()},e.$_$.q1=function(e,t,n){return(n=n!==x&&n)?at(e,0,t,0,t.length,n):e.startsWith(t,0)},e.$_$.r1=Ge,e.$_$.s1=function(e){var t;e:{var n=Kt(e)-1|0;if(0<=n)do{var r=n;if(n=n+-1|0,!Ye(Gt(e,r))){t=Vt(e,0,r+1|0);break e}}while(0<=n);t=""}return t},e.$_$.t1=function(e,t){return function(e,t,n){if(t=t===x?"":t,st(n=n===x?"|":n))throw ir(tn("marginPrefix must be non-blank string."));for(var r=function(e){return function(e){var t=e.k();if(!t.s())return Br();var n=t.u();if(!t.s())return U(n);var r=Q();for(r.p(n);t.s();)r.p(t.u());return r}(function(e){return function(e,t,n,r){return bt(function(e,t,n,r,i){return n=n===x?0:n,r=r!==x&&r,function(e){var t;if(!(e>=0))throw ir(tn("Limit must be non-negative, but was "+e))}(i=i===x?0:i),new di(e,n,i,(o=Vn(t),s=r,function(e,t){var n=function(e,t,n,r,i){if(!r&&1===t.i()){var o=pt(t),s=i?function(e,t,n,r){return n=n===x?ai(e):n,(r=r!==x&&r)||"string"!=typeof e?ui(e,t,n,0,r,!0):e.lastIndexOf(t,n)}(e,o,n):li(e,o,n);return s<0?null:gi(s,o)}var a=i?vt(mt(n,ai(e)),0):Hn(gt(n,0),Kt(e));if("string"==typeof e){var l=a.a8_1,u=a.b8_1,c=a.c8_1;if(c>0&&l<=u||c<0&&u<=l)do{var $,_=l;l=l+c|0;e:{for(var f=t.k();f.s();){var d=f.u();if(at(d,0,e,_,d.length,r)){$=d;break e}}$=null}if(null!=$)return gi(_,$)}while(_!==u)}else{var p=a.a8_1,h=a.b8_1,m=a.c8_1;if(m>0&&p<=h||m<0&&h<=p)do{var g,v=p;p=p+m|0;e:{for(var b=t.k();b.s();){var y=b.u();if(ci(y,0,e,v,y.length,r)){g=y;break e}}g=null}if(null!=g)return gi(v,g)}while(v!==h)}return null}(e,o,t,s,!1);return null==n?null:gi(n.r8_1,n.s8_1.length)}));var o,s}(e,t,x,n=n!==x&&n,r=r===x?0:r),(i=e,function(e){return function(e,t){return tn(Vt(e,t.b5(),t.c5()+1|0))}(i,e)}));var i}(e,["\r\n","\n","\r"])}(e))}(e),i=(e.length,N(t.length,r.i()),function(e){return 0===Kt(e)?si:(t=e,function(e){return t+e});var t}(t)),o=qr(r),s=Q(),a=0,l=r.k();l.s();){var u=l.u(),c=a;a=c+1|0;var $,_=j(c);if(0!==_&&_!==o||!st(u)){var f;e:{var d=0,p=Kt(u)-1|0;if(d<=p)do{var h=d;if(d=d+1|0,!Ye(Gt(u,h))){f=h;break e}}while(d<=p);f=-1}var m,g,v=f;if(-1===v)m=null;else if(lt(u,n,v)){var b=v+n.length|0;m=u.substring(b)}else m=null;$=null==(g=null==m?null:i(m))?u:g}else $=null;var y=$;null==y||s.p(y)}return ft(s,Fe(),"\n").toString()}(e,"",t=t===x?"|":t)},e.$_$.u1=function(e){var t;e:{var n=0,r=Kt(e)-1|0;if(n<=r)do{var i=n;if(n=n+1|0,!Ye(Gt(e,i))){t=Vt(e,i,Kt(e));break e}}while(n<=r);t=""}return t},e.$_$.v1=function(e){var t=0,n=Kt(e)-1|0,r=!1;e:for(;t<=n;){var i=Ye(Gt(e,r?n:t));if(r){if(!i)break e;n=n-1|0}else i?t=t+1|0:r=!0}return Vt(e,t,n+1|0)},e.$_$.w1=zt,e.$_$.x1=mi,e.$_$.y1=$n,e.$_$.z1=function(e){throw ir(e)},e.$_$.a2=hi,e.$_$.b2=cn,e.$_$.c2=function(e){return new q(e)},e})?n.apply(t,[t]):n)||(e.exports=r)},162:function(e,t,n){var r,i,o;i=[t,n(675)],void 0===(o="function"==typeof(r=function(e,t){"use strict";var n=t.$_$.k,r=t.$_$.e1,i=t.$_$.r,o=t.$_$.f,s=t.$_$.z;function a(e){this.a9_1=e,n.call(this)}return(0,t.$_$.f1)(a,t.$_$.a,s,n),r(a).i=function(){return this.a9_1.length},r(a).j=function(e){if(!(0<=e&&e<=i(this)))throw o("index "+e+" is not in range [0.."+i(this)+"]");return this.a9_1[e]},e.$_$=e.$_$||{},e.$_$.a=function(e){return new a(e)},e})?r.apply(t,i):r)||(e.exports=o)},852:function(e,t,n){var r,i,o;i=[t,n(675)],void 0===(o="function"==typeof(r=function(e,t){"use strict";var n=t.$_$.e1,r=t.$_$.z;function i(e){this.y8_1=e}return(0,t.$_$.f1)(i,"EventListenerHandler",r),n(i).z8=function(e){this.y8_1(e)},n(i).handleEvent=function(e){return this.z8(e)},n(i).toString=function(){return"EventListenerHandler("+this.y8_1+")"},e.$_$=e.$_$||{},e.$_$.a=function(e){return new i(e)},e})?r.apply(t,i):r)||(e.exports=o)},136:function(e,t,n){var r,i,o;i=[t,n(523),n(675),n(162),n(852)],void 0===(o="function"==typeof(r=function(e,t,n,r,i){"use strict";var o,s,a,l,u,c,$,_,f,d,p,h,m,g,v,b,y,w,x,k,E,A,S,C,O,T,I,R,N,L,z,D,F,M,q,B,j,P,U,H,Y,G,W,K,V,X,J,Z,Q,ee,te,ne,re,ie,oe,se,ae,le,ue,ce,$e,_e,fe,de,pe=Math.imul,he=n.$_$.z1,me=n.$_$.j,ge=n.$_$.a2,ve=n.$_$.w1,be=(n.$_$.e1,n.$_$.z),ye=n.$_$.f1,we=n.$_$.n,xe=n.$_$.x1,ke=n.$_$.t,Ee=n.$_$.y1,Ae=n.$_$.o,Se=n.$_$.i1,Ce=n.$_$.b2,Oe=n.$_$.y,Te=n.$_$.q1,Ie=n.$_$.c2,Re=n.$_$.a,Ne=n.$_$.b,Le=n.$_$.t1,ze=n.$_$.i,De=n.$_$.g,Fe=n.$_$.h,Me=n.$_$.e,qe=n.$_$.d1,Be=n.$_$.o1,je=r.$_$.a,Pe=n.$_$.k1,Ue=n.$_$.l1,He=n.$_$.b1,Ye=n.$_$.v1,Ge=n.$_$.g1,We=n.$_$.q,Ke=n.$_$.s,Ve=n.$_$.a1,Xe=n.$_$.p,Je=n.$_$.j1,Ze=n.$_$.u,Qe=n.$_$.n1,et=n.$_$.u1,tt=n.$_$.s1,nt=n.$_$.m1,rt=n.$_$.p1,it=n.$_$.r1,ot=i.$_$.a,st=n.$_$.l,at=n.$_$.c1,lt=n.$_$.c,ut=n.$_$.w,ct=n.$_$.v,$t=n.$_$.h1,_t=n.$_$.m,ft=n.$_$.d,dt=n.$_$.x;function pt(e){switch(e){case"UNDO":return Vn();case"REDO":return Xn();case"CLEAN_FORMAT_TEXT":return Jn();case"MORE_OPTIONS":return Zn();case"CLEAN_FORMAT_LINE":return Qn();case"CLEAN_FORMAT_BLOCK":return er();case"BOLD":return tr();case"ITALIC":return nr();case"CODE":return rr();case"HIGHLIGHT":return ir();case"UNDERLINE":return or();case"SUPER_MORE_OPTIONS":return sr();case"STRIKE_THROUGH":return ar();case"SUPER_SCRIPT":return lr();case"SUB_SCRIPT":return ur();case"DOUBLE_CURVED_QUOTES":return cr();case"SINGLE_CURVED_QUOTES":return $r();case"HEADER":return _r();case"HEADER_1":return fr();case"HEADER_2":return dr();case"HEADER_3":return pr();case"HEADER_4":return hr();case"HEADER_5":return mr();case"HEADER_6":return gr();case"LIST":return vr();case"UNORDERED_LIST":return br();case"ORDERED_LIST":return yr();case"CHECK_BOX_CHECKED":return wr();case"CHECK_BOX_NOT_CHECKED":return xr();case"CITATION":return kr();case"LITERAL":return Er();case"ADMONITION":return Ar();case"ADMONITION_NOTE":return Sr();case"ADMONITION_TIP":return Cr();case"ADMONITION_CAUTION":return Or();case"ADMONITION_WARNING":return Tr();case"ADMONITION_IMPORTANT":return Ir();case"TABLE":return Yn(),P;case"TABLE_FORM":return Rr();case"SOURCE_CODE":return Nr();case"USER_MANUAL":return Lr();default:Yn(),he("No enum constant value.")}}function ht(e){return'<img width="20" height="20" src="/assets/icons/undo.svg">'}function mt(e){return Ei(e.id,!0),me}function gt(e){return'<img width="20" height="20" src="/assets/icons/redo.svg">'}function vt(e){return Ei(e.id,!1),me}function bt(e){return'<img width="25" height="25" src="/assets/icons/brush.svg">'}function yt(e){return pi(e,new ge(Mr(),"","")),me}function wt(e){return""}function xt(e){return me}function kt(e){return'<img width="25" height="25" src="/assets/icons/brush.svg"> <b><sub>(Line)</sub></b>'}function Et(e){return pi(e,new ge(Fr(),"","")),me}function At(e){return'<img width="25" height="25" src="/assets/icons/brush.svg"> <b><sub>(Block)</sub></b>'}function St(e){return pi(e,new ge(Dr(),"","")),me}function Ct(e){return"<b>B</b>"}function Ot(e){return pi(e,tr().f9_1),me}function Tt(e){return"<b><i>I</i></b>"}function It(e){return pi(e,nr().f9_1),me}function Rt(e){return"<b>&lt;/&gt;</b>"}function Nt(e){return pi(e,rr().f9_1),me}function Lt(e){return"<b>HL</b>"}function zt(e){return pi(e,ir().f9_1),me}function Dt(e){return"<b><u>U</u></b>"}function Ft(e){return pi(e,or().f9_1),me}function Mt(e){return"<b>+ </b>"}function qt(e){return me}function Bt(e){return"<b><s>S</s></b>"}function jt(e){return pi(e,ar().f9_1),me}function Pt(e){return"<b>A<sup>a</sup></b>"}function Ut(e){return pi(e,lr().f9_1),me}function Ht(e){return"<b>A<sub>a</sub></b>"}function Yt(e){return pi(e,ur().f9_1),me}function Gt(e){return"<b>“ ”</b>"}function Wt(e){return hi(e,cr().f9_1),me}function Kt(e){return"<b>‘ ’</b>"}function Vt(e){return hi(e,$r().f9_1),me}function Xt(e){return"<b>Header</b>"}function Jt(e){return me}function Zt(e){return"<h1>Document Title</h1>"}function Qt(e){return pi(e,fr().f9_1),me}function en(e){return"<h2>Section Title 1</h2>"}function tn(e){return pi(e,dr().f9_1),me}function nn(e){return"<h3>Section Title 2</h3>"}function rn(e){return pi(e,pr().f9_1),me}function on(e){return"<h4>Section Title 3</h4>"}function sn(e){return pi(e,hr().f9_1),me}function an(e){return"<h5>Section Title 4</h5>"}function ln(e){return pi(e,mr().f9_1),me}function un(e){return"<h6>Section Title 5</h6>"}function cn(e){return pi(e,gr().f9_1),me}function $n(e){return'<img width="20" height="20" src="/assets/icons/list.svg">'}function _n(e){return me}function fn(e){return"<b>Unordered list</b>"}function dn(e){return pi(e,br().f9_1),me}function pn(e){return"<b>Ordered list</b>"}function hn(e){return pi(e,yr().f9_1),me}function mn(e){return"<b>CheckBox Checked</b>"}function gn(e){return pi(e,wr().f9_1),me}function vn(e){return"<b>CheckBox not Checked</b>"}function bn(e){return pi(e,xr().f9_1),me}function yn(e){return"<b>[Citation]</b>"}function wn(e){return pi(e,kr().f9_1),me}function xn(e){return"<b>[Literal]</b>"}function kn(e){return pi(e,Er().f9_1),me}function En(e){return"<b>[Admonition]</b>"}function An(e){return me}function Sn(e){return"<b>NOTE</b>"}function Cn(e){return pi(e,Sr().f9_1),me}function On(e){return"<b>TIP</b>"}function Tn(e){return pi(e,Cr().f9_1),me}function In(e){return"<b>CAUTION</b>"}function Rn(e){return pi(e,Or().f9_1),me}function Nn(e){return"<b>WARNING</b>"}function Ln(e){return pi(e,Tr().f9_1),me}function zn(e){return"<b>IMPORTANT</b>"}function Dn(e){return pi(e,Ir().f9_1),me}function Fn(e){return'<img width="20" height="20" src="/assets/icons/table.svg">'}function Mn(e){return function(e){var t=document.getElementById(e.id+"-table-column");(t instanceof HTMLInputElement?t:Ee()).value="1";var n=document.getElementById(e.id+"-table-row");(n instanceof HTMLInputElement?n:Ee()).value="1",mi(e)}(e),me}function qn(e){return function(e,t){var n="";if(t>0){var r=1;if(r<=t)do{var i=r;r=r+1|0,n=n+'<div class="'+e.id+'-table-line">';var o=1;if(o<=t)do{var s=o;o=o+1|0,n=n+'<span class="wysiwyg-table-unit '+e.id+'-table-unit" row="'+i+'" column="'+s+'"></span>'}while(s!==t);n+="</div>"}while(i!==t)}return n+Le('<div>\n        |<input type="number" id="'+e.id+'-table-column" class="wysiwyg-table-input" min="1" autocomplete="off">\n        | X <input type="number" id="'+e.id+'-table-row" class="wysiwyg-table-input" min="1" autocomplete="off">\n        |<img src="/assets/icons/check.png" id="'+e.id+'-table-confirm" width="20" style="margin-left: 3px; cursor: pointer">\n        |</div>')}(e,9)}function Bn(e){return function(e){var t=document.getElementById(e.id+"-table-column"),n=it((t instanceof HTMLInputElement?t:Ee()).value),r=document.getElementById(e.id+"-table-row"),i=it((r instanceof HTMLInputElement?r:Ee()).value);if(n>0&&i>0){var o=document.createElement("span"),s=o instanceof HTMLSpanElement?o:Ee();s.className=Dr().k9_1;var a=function(e,t){var n=document.createElement("table"),r=n instanceof HTMLTableElement?n:Ee();r.classList.add("tableblock","frame-all","grid-all","stretch");var i=document.createElement("thead"),o=i instanceof HTMLTableSectionElement?i:Ee();o.append(Ui(t,!0)),r.append(o);var s=document.createElement("tbody"),a=s instanceof HTMLTableSectionElement?s:Ee(),l=1;if(l<e)do{l=l+1|0,a.append(Ui(t,!1))}while(l<e);return r.append(a),r}(i,n),l=function(e){var t=document.createElement("div"),n=t instanceof HTMLDivElement?t:Ee();n.classList.add("hidden"),n.setAttribute("contenteditable","false");for(var r=(null==de&&(de=ut([Zi(),Qi(),eo(),to()])),de).k();r.s();){var i=r.u(),o=document.createElement("button"),s=o instanceof HTMLButtonElement?o:Ee();s.setAttribute("type","button"),s.classList.add("wysiwyg-action-button"),s.style.padding="0",i.s9_1||s.classList.add("float-end"),s.onclick=Ki(i,e),s.innerHTML=i.r9_1,s.title=i.t9_1,n.append(s)}return n}(a);l.onclick=bi,e.prepend(s),s.append(l),s.append(a),e.click()}}(e),me}function jn(e){return"<b>SourceCode</b>"}function Pn(e){return function(e){var t,n=null==document.getElementById(e.id+"-source");if(n){var r=document.createElement("textarea");(t=r instanceof HTMLTextAreaElement?r:Ee()).id=e.id+"-source",t.className="wysiwyg-content-source-code",t.style.display="inline-block !important;",t.style.height="800px !important",t.style.width="0",t.setAttribute("autocomplete","off"),t.addEventListener("beforeinput",ot((o=e,function(e){var t=e.inputType;return"historyUndo"==t?(e.preventDefault(),Ce(Yr(o.id,Vn())).click()):"historyRedo"==t&&(e.preventDefault(),Ce(Yr(o.id,Xn())).click()),me}))),t.oninput=function(e,t){return function(n){return Ii(e.id),e.innerHTML=ti(t.value,!1),me}}(e,t),e.insertAdjacentElement("beforebegin",t),gi(e.id)}else{var i=document.getElementById(e.id+"-source");t=i instanceof HTMLTextAreaElement?i:Ee()}var o;var s={_v:0};window.requestAnimationFrame(function(e,t,n,r){return function(i){return vi(e,t,n,r),me}}(s,t,n,e))}(e),me}function Un(e){return"<b>?</b>"}function Hn(e){var t=window.open("","User manual"),n=ei("\n= User Manual\n\nThis is user manual of asciidoc wysiwyg editor.\n\n=== Auto-convert\n\nThe editor accepts source code and will convert it in a real-time. +\nFor example, try to input the text listed below and see the result :\n\n* +++*Bold*+++ -> *Bold*\n* +++link:https://www.google.com[Google]+++ -> link:https://www.google.com[Google]\n* +++== Section+++ -> *Section*\n* ... (Any else)\n\n[NOTE]\n====\nBut sometimes the auto-convert is inconvenient, or maybe you find a bug that prevents you from going further, +\nyou can open **SourceCode** mode (Presented below) to edit the source code directly.\n====\n\n=== Manual-convert\n\nThe editor also provides various buttons (in the top-menu) so that the edition could be easier. +\nThe buttons are grouped to various types :\n\n. “**Undo** / **Redo**”\n\n. “image:brush.svg[]”: Clean format for **Text**/**Line**/**Block** (Correspond to next 3 types)\n\n. “**Text**”, which works on **the selected text** :\n* **B** (Make the text as Bold)\n* **__I__** (Italic)\n* **</>** (Code)\n* ...\n\n. “**Line**”, which works on **the current line** to make the line as :\n* **Header (Section)**\n* **List**\n* ... Will give more in the future\n\n. “**Block**”, which puts **the selected text** into a new block that has a certain style :\n* **+++[Citation]+++** : Citation block. link:https://docs.asciidoctor.org/asciidoc/latest/syntax-quick-reference/#ex-quotes[See example]\n* **+++[Literal]+++** : Literal block. It only allows pure text inside (No asciidoc convert) \n* **+++[ADMONITION]+++** : Admonition blocks. link:https://docs.asciidoctor.org/asciidoc/latest/syntax-quick-reference/#admonitions[See example]\n* ... Will give more in the future\n\n. “**SourceCode**”: Open a new section to show the source code and allow editing\n\n. “**?**”: User-manual\n\n=== To develop\n\n. UI\n* Provide more buttons\n* Design of button icon display (Current icon display is really a draft)\n* Should have a button to hide/show extra buttons (Avoid making the menu too large)\n* ...\n\n. Critical Bug\n* Asciidoc **Table** is unavailable\n* Bad performance when user pastes a text with multi-lines (Okay if only one single line)\n* ...\n",!1);return t.document.body.innerHTML=n,me}function Yn(){if(G)return me;G=!0;var e=ht,t=new ge(qr(),"","");o=new Gn("UNDO",0,e,"Undo",t,mt);var n=gt,r=new ge(qr(),"","");s=new Gn("REDO",1,n,"Redo",r,vt);var i=bt,W=new ge(qr(),"","");a=new Gn("CLEAN_FORMAT_TEXT",2,i,"Clean TEXT format",W,yt);var K=wt,V=new ge(qr(),"","");l=new Gn("MORE_OPTIONS",3,K,"",V,xt);var X=kt,J=new ge(qr(),"","");u=new Gn("CLEAN_FORMAT_LINE",4,X,"Clean LINE format",J,Et);var Z=At,Q=new ge(qr(),"","");c=new Gn("CLEAN_FORMAT_BLOCK",5,Z,"Clean BLOCK format",Q,St);var ee=Ct,te=new ge(Mr(),"**","**");$=new Gn("BOLD",6,ee,"Bold",te,Ot);var ne=Tt,re=new ge(Mr(),"__","__");_=new Gn("ITALIC",7,ne,"Italic",re,It);var ie=Rt,oe=new ge(Mr(),"``","``");f=new Gn("CODE",8,ie,"Code",oe,Nt);var se=Lt,ae=new ge(Mr(),"##","##");d=new Gn("HIGHLIGHT",9,se,"Highlight",ae,zt);var le=Dt,ue=new ge(Mr(),"[.underline]#","#");p=new Gn("UNDERLINE",10,le,"Underline",ue,Ft);var ce=Mt,$e=new ge(qr(),"","");h=new Gn("SUPER_MORE_OPTIONS",11,ce,"More options",$e,qt);var _e=Bt,fe=new ge(Mr(),"[.line-through]#","#");m=new Gn("STRIKE_THROUGH",12,_e,"Strike through",fe,jt);var de=Pt,pe=new ge(Mr(),"^","^");g=new Gn("SUPER_SCRIPT",13,de,"Super script",pe,Ut);var he=Ht,ve=new ge(Mr(),"~","~");v=new Gn("SUB_SCRIPT",14,he,"Sub script",ve,Yt);var be=Gt,ye=new ge(Mr(),"“","”");b=new Gn("DOUBLE_CURVED_QUOTES",15,be,"Double curved quotes",ye,Wt);var we=Kt,xe=new ge(Mr(),"‘","’");y=new Gn("SINGLE_CURVED_QUOTES",16,we,"Single curved quotes",xe,Vt);var ke=Xt,Ee=new ge(qr(),"","");w=new Gn("HEADER",17,ke,"Header",Ee,Jt);var Ae=Zt,Se=new ge(Fr(),"= ","");x=new Gn("HEADER_1",18,Ae,"",Se,Qt);var Ce=en,Oe=new ge(Fr(),"== ","");k=new Gn("HEADER_2",19,Ce,"",Oe,tn);var Te=nn,Ie=new ge(Fr(),"=== ","");E=new Gn("HEADER_3",20,Te,"",Ie,rn);var Re=on,Ne=new ge(Fr(),"==== ","");A=new Gn("HEADER_4",21,Re,"",Ne,sn);var Le=an,ze=new ge(Fr(),"===== ","");S=new Gn("HEADER_5",22,Le,"",ze,ln);var De=un,Fe=new ge(Fr(),"====== ","");C=new Gn("HEADER_6",23,De,"",Fe,cn);var Me=$n,qe=new ge(qr(),"","");O=new Gn("LIST",24,Me,"List",qe,_n);var Be=fn,je=new ge(Fr(),"* ","");T=new Gn("UNORDERED_LIST",25,Be,"",je,dn);var Pe=pn,Ue=new ge(Fr(),". ","");I=new Gn("ORDERED_LIST",26,Pe,"",Ue,hn);var He=mn,Ye=new ge(Fr(),"* [x] ","");R=new Gn("CHECK_BOX_CHECKED",27,He,"",Ye,gn);var Ge=vn,We=new ge(Fr(),"* [ ] ","");N=new Gn("CHECK_BOX_NOT_CHECKED",28,Ge,"",We,bn);var Ke=yn,Ve=new ge(Dr(),"[quote]\n____\n","\n____");L=new Gn("CITATION",29,Ke,"Citation",Ve,wn);var Xe=xn,Je=new ge(Dr(),"----\n","\n----");z=new Gn("LITERAL",30,Xe,"Literal block",Je,kn);var Ze=En,Qe=new ge(qr(),"","");D=new Gn("ADMONITION",31,Ze,"Admonition",Qe,An);var et=Sn,tt=new ge(Dr(),"[NOTE]\n====\n","\n====");F=new Gn("ADMONITION_NOTE",32,et,"",tt,Cn);var nt=On,rt=new ge(Dr(),"[TIP]\n====\n","\n====");M=new Gn("ADMONITION_TIP",33,nt,"",rt,Tn);var it=In,ot=new ge(Dr(),"[CAUTION]\n====\n","\n====");q=new Gn("ADMONITION_CAUTION",34,it,"",ot,Rn);var st=Nn,at=new ge(Dr(),"[WARNING]\n====\n","\n====");B=new Gn("ADMONITION_WARNING",35,st,"",at,Ln);var lt=zn,ut=new ge(Dr(),"[IMPORTANT]\n====\n","\n====");j=new Gn("ADMONITION_IMPORTANT",36,lt,"",ut,Dn);var ct=Fn,$t=new ge(qr(),"","");P=new Gn("TABLE",37,ct,"Table",$t,Mn);var _t=qn,ft=new ge(qr(),"","");U=new Gn("TABLE_FORM",38,_t,"",ft,Bn);var dt=jn,pt=new ge(qr(),"","");H=new Gn("SOURCE_CODE",39,dt,"Source Code",pt,Pn);var Yn=Un,Wn=new ge(qr(),"","");Y=new Gn("USER_MANUAL",40,Yn,"User Manual",Wn,Hn)}function Gn(e,t,n,r,i,o){ve.call(this,e,t),this.d9_1=n,this.e9_1=r,this.f9_1=i,this.g9_1=o}function Wn(){if(Z)return me;Z=!0,W=new Kn("CONTENT",0,"div","wysiwyg-content",null),K=new Kn("PARAGRAPH",1,"span","wysiwyg-content-paragraph",zr()),V=new Kn("LINE",2,"span","wysiwyg-content-line",Dr()),X=new Kn("SPAN",3,"span","wysiwyg-content-span",Fr()),J=new Kn("OTHER",4,"","",zr())}function Kn(e,t,n,r,i){ve.call(this,e,t),this.j9_1=n,this.k9_1=r,this.l9_1=i}function Vn(){return Yn(),o}function Xn(){return Yn(),s}function Jn(){return Yn(),a}function Zn(){return Yn(),l}function Qn(){return Yn(),u}function er(){return Yn(),c}function tr(){return Yn(),$}function nr(){return Yn(),_}function rr(){return Yn(),f}function ir(){return Yn(),d}function or(){return Yn(),p}function sr(){return Yn(),h}function ar(){return Yn(),m}function lr(){return Yn(),g}function ur(){return Yn(),v}function cr(){return Yn(),b}function $r(){return Yn(),y}function _r(){return Yn(),w}function fr(){return Yn(),x}function dr(){return Yn(),k}function pr(){return Yn(),E}function hr(){return Yn(),A}function mr(){return Yn(),S}function gr(){return Yn(),C}function vr(){return Yn(),O}function br(){return Yn(),T}function yr(){return Yn(),I}function wr(){return Yn(),R}function xr(){return Yn(),N}function kr(){return Yn(),L}function Er(){return Yn(),z}function Ar(){return Yn(),D}function Sr(){return Yn(),F}function Cr(){return Yn(),M}function Or(){return Yn(),q}function Tr(){return Yn(),B}function Ir(){return Yn(),j}function Rr(){return Yn(),U}function Nr(){return Yn(),H}function Lr(){return Yn(),Y}function zr(){return Wn(),W}function Dr(){return Wn(),K}function Fr(){return Wn(),V}function Mr(){return Wn(),X}function qr(){return Wn(),J}function Br(){var e=Vn(),t=we(),n=new xe(e,t),r=Xn(),i=we(),o=new xe(r,i),s=we(),a=new xe(null,s),l=Jn(),u=we(),c=new xe(l,u),$=new xe(Zn(),ke([Qn(),er()])),_=we(),f=new xe(null,_),d=tr(),p=we(),h=new xe(d,p),m=nr(),g=we(),v=new xe(m,g),b=rr(),y=we(),w=new xe(b,y),x=ir(),k=we(),E=new xe(x,k),A=or(),S=we(),C=new xe(A,S),O=new xe(sr(),ke([ar(),lr(),ur(),cr(),$r()])),T=we(),I=new xe(null,T),R=new xe(_r(),ke([fr(),dr(),pr(),hr(),mr(),gr()])),N=new xe(vr(),ke([br(),yr(),wr(),xr()])),L=we(),z=new xe(null,L),D=kr(),F=we(),M=new xe(D,F),q=Er(),B=we(),j=new xe(q,B),P=new xe(Ar(),ke([Sr(),Cr(),Or(),Tr(),Ir()])),U=we(),H=new xe(null,U),Y=Nr(),G=we(),W=new xe(Y,G),K=we(),V=new xe(null,K),X=Lr(),J=we();return ke([n,o,a,c,$,f,h,v,w,E,C,O,I,R,N,z,M,j,P,H,W,V,new xe(X,J)])}function jr(e,t,n,r){if(e.setAttribute("type","button"),e.onclick=(h=t,m=n,function(e){return h.g9_1(m),me}),e.innerHTML=t.d9_1(n),e.title=t.e9_1,e.name=t.toString(),e.className="wysiwyg-action-button",r?e.classList.add("wysiwyg-action-button-dropdown"):(e.onmousedown=Vr,t.equals(Zn())&&e.setAttribute("style","padding: 0 2px !important; margin-right: 5px")),t.equals(Rr())){e.classList.add("hover-no-background");var i=document.getElementsByClassName(n.id+"-table-unit"),o=document.getElementById(n.id+"-table-column"),s=o instanceof HTMLInputElement?o:Ee(),a=document.getElementById(n.id+"-table-row"),l=a instanceof HTMLInputElement?a:Ee(),u=0,c=i.length;if(u<c)do{var $=u;u=u+1|0;var _=i[$],f=_ instanceof HTMLSpanElement?_:Ee();f.onmouseenter=Xr(s,f,l,n)}while(u<c);for(var d=ke([s,l]).k();d.s();){var p=d.u();p.oninput=Jr(n),p.onclick=Zr,p.onkeypress=Qr(n)}}var h,m;return e}function Pr(e){for(var t=ci(Mr()),n=t.o()?null:Ae(t),r=ci(Fr()),i=r.o()?null:Ae(r),o=ci(Dr()),s=o.o()?null:Ae(o),a=Hr(e).k();a.s();){var l=a.u(),u=pt(l.name);if(!ke([Vn(),Xn()]).m(u)){var c=u.f9_1;switch(c.v8_1.j6_1){case 3:if(null==n||Ce(window.getSelection()).isCollapsed)Wr(l,!0);else{Wr(l,!1);var $=n.getAttribute("wysiwygPrefix"),_=null==$?"":$,f=n.getAttribute("wysiwygSuffix"),d=null==f?"":f;Gr(l,!!Se(_,c.w8_1)&&Se(d,c.x8_1))}break;case 2:if(null!=s&&(fi(s)||null==i&&0!==s.getElementsByClassName(Fr().k9_1).length))Wr(l,!0);else{var p;if(Te(l.name,"HEADER")&&null!=s){var h,m=s.getAttribute("wysiwygPrefix");if(Oe(null==m?"":m)>0)h=!0;else{var g=s.getAttribute("wysiwygSuffix");h=Oe(null==g?"":g)>0}p=h}else p=!1;if(p)Wr(l,!0);else{Wr(l,!1);var v=null==i?null:i.getAttribute("wysiwygPrefix"),b=null==v?"":v,y=null==i?null:i.getAttribute("wysiwygSuffix"),w=null==y?"":y;Gr(l,b===c.w8_1&&w===c.x8_1)}}break;case 1:if(null==s)Wr(l,!0);else{var x=s.getAttribute("wysiwygPrefix"),k=null==x?"":x,E=s.getAttribute("wysiwygSuffix"),A=null==E?"":E;0===Oe(k)&&0===Oe(A)?Ce(window.getSelection()).isCollapsed?Wr(l,!0):(Wr(l,!1),Gr(l,!1)):k===c.w8_1&&A===c.x8_1?(Wr(l,!1),Gr(l,!0)):Wr(l,!0)}break;case 4:Wr(l,!1),Gr(l,!1)}if(l.classList.contains("wysiwyg-action-button-dropdown")){var S=Ce(l.closest(".dropdown-menu")).previousElementSibling;if("button"===(null==S?null:S.getAttribute("type")))if(l.disabled){var C=!0,O=Ie(Ce(l.closest(".dropdown-menu")).getElementsByClassName("wysiwyg-action-button-dropdown")),T=0,I=O.i()-1|0;if(T<=I)e:do{var R=T;T=T+1|0;var N=O.j(R);if(!(N instanceof HTMLButtonElement?N:Ee()).disabled){C=!1;break e}}while(T<=I);Wr(S instanceof HTMLButtonElement?S:Ee(),C)}else l.classList.contains("activated")&&Gr(S instanceof HTMLButtonElement?S:Ee(),!0)}}}}function Ur(e){for(var t=Hr(e=e===Re?null:e).k();t.s();){var n=t.u(),r=pt(n.name);ke([Vn(),Xn()]).m(r)||(ke([Nr(),Lr()]).m(r)?(Wr(n,!1),Gr(n,!1)):Wr(n,!0))}}function Hr(e){return Ie(null!=(e=e===Re?null:e)?Ce(document.getElementById(e+"-editor")).getElementsByClassName("wysiwyg-action-button"):document.getElementsByClassName("wysiwyg-action-button"))}function Yr(e,t){for(var n=Hr(e),r=Ne(),i=n.k();i.s();){var o=i.u();o.name===t.toString()&&r.p(o)}var s=r;return s.o()?null:Ae(s)}function Gr(e,t){t?e.classList.add("activated"):e.classList.remove("activated")}function Wr(e,t){e.disabled=t,t&&Gr(e,!1)}function Kr(e){var t=Ie(Ce(document.getElementById(e+"-editor")).getElementsByClassName("wysiwyg-action-menu"));if(!t.o())for(var n=Ie(Ae(t).getElementsByClassName("show"));!n.o();)Ae(n).classList.remove("show")}function Vr(e){return e.preventDefault(),me}function Xr(e,t,n,r){return function(i){return e.value=Ce(t.getAttribute("column")),n.value=Ce(t.getAttribute("row")),mi(r),me}}function Jr(e){return function(t){return mi(e),me}}function Zr(e){return e.stopPropagation(),me}function Qr(e){return function(t){if(13===(0===t.keyCode?t.which:t.keyCode)){t.preventDefault();var n=document.getElementById(e.id+"-table-confirm");(n instanceof HTMLImageElement?n:Ee()).click()}return me}}function ei(e,n){return n=n===Re||n,t.convert(e,n)}function ti(e,n){return n=n===Re||n,t.customConvert(e,n)}function ni(e,t){var n=e.getAttribute("wysiwygPrefix"),r=null==n?"":n,i=e.getAttribute("wysiwygSuffix"),o=null==i?"":i;switch(t.j6_1){case 3:var s,a=e.getAttribute("wysiwygContent"),l=null==a?"":a;if(Oe(l)>0){var u;ze();var c=De(0);if(160<Fe(c))u=!0;else{ze();var $=De(65535);u=160>Fe($)}if(u)throw Me("Invalid Char code: 160");var _,f=qe(160);ze();var d=De(0);if(32<Fe(d))_=!0;else{ze();var p=De(65535);_=32>Fe(p)}if(_)throw Me("Invalid Char code: 32");var h=qe(32);s=r+Be(l,f,h)+o}else s="";return s;case 2:var m,g=je(e.getElementsByClassName(Mr().k9_1)),v="",b=new ge("","",""),y=0,w=g.i()-1|0;if(y<=w)do{var x=y;y=y+1|0;var k=g.j(x).getAttribute("wysiwygContent"),E=null==k?"":k;if(Oe(E)>0){var A,S=g.j(x).getAttribute("wysiwygPrefix"),C=null==S?"":S,O=g.j(x).getAttribute("wysiwygSuffix"),T=null==O?"":O;if(0===Oe(C)&&0===Oe(T))A=!0;else{var I,R=b.v8_1;if(0===Oe(R)){var N=b.w8_1;I=0===Oe(N)}else I=!1;A=I}if(A)v+=b.v8_1+b.x8_1+b.w8_1,b=new ge(C,T,E);else if(Se(b.v8_1,C)&&Se(b.w8_1,T)){var L=Pe(b.v8_1,C),z=b.v8_1.substring(0,L),D=b.v8_1,F=L+C.length|0,M=z+D.substring(F),q=Pe(b.w8_1,T),B=b.w8_1.substring(0,q),j=b.w8_1,P=q+T.length|0,U=B+j.substring(P);b=new ge(C,T,M+b.x8_1+U+E)}else if(Se(C,b.v8_1)&&Se(T,b.w8_1)){var H=Pe(C,b.v8_1),Y=C.substring(0,H),G=H+b.v8_1.length|0,W=Y+C.substring(G),K=Pe(T,b.w8_1),V=T.substring(0,K),X=K+b.w8_1.length|0,J=V+T.substring(X);b=new ge(b.v8_1,b.w8_1,b.x8_1+W+E+J)}else v+=b.v8_1+b.x8_1+b.w8_1,b=new ge(C,T,E)}}while(y<=w);if(v+=b.v8_1+b.x8_1+b.w8_1,Ue(v))m="";else{var Z,Q=v;ze();var ee=De(0);if(160<Fe(ee))Z=!0;else{ze();var te=De(65535);Z=160>Fe(te)}if(Z)throw Me("Invalid Char code: 160");var ne,re=qe(160);ze();var ie=De(0);if(32<Fe(ie))ne=!0;else{ze();var oe=De(65535);ne=32>Fe(oe)}if(ne)throw Me("Invalid Char code: 32");var se=qe(32);m=r+Be(Q,re,se)+o}return m;case 1:var ae,le=je(e.getElementsByClassName(Fr().k9_1));if(le.o()){var ue,ce=e.textContent;ae=null==(ue=null==ce?null:Ge(Ye(He(ce)?ce:Ee())))?"":ue}else{var $e=Ne(),_e=ni(Ae(le),Fr()),fe=1,de=le.i();if(fe<de)do{var pe=fe;fe=fe+1|0;var he=ni(le.j(pe),Fr());if(Oe(he)>0&&Oe(_e)>0){var me=le.j(pe-1|0).getAttribute("wysiwygPrefix"),ve=null==me?"":me,be=le.j(pe).getAttribute("wysiwygPrefix"),ye=null==be?"":be;_e=_e+(0===Oe(ve)?0===Oe(ye)?" +":"\n":0===Oe(ye)||ve!==ye?"\n":"")}$e.p(_e),_e=he}while(fe<de);$e.p(_e),ae=We($e,"\n")}return Ue(ae)?"":r+ae+o;case 0:for(var we=je(e.getElementsByClassName(Dr().k9_1)),xe=Ne(),ke=we.k();ke.s();){var Ce=ni(ke.u(),Dr());Oe(Ce)>0&&xe.p(Ce)}return We(xe,"\n\n");default:return""}}function ri(e,t,n){t=t===Re?null:t,n=n===Re?null:n;var r=Ce(window.getSelection()).getRangeAt(0);if(null==t)r.selectNode(e);else{var i,o=t;if(o<0&&(o=0),e.nodeType===Node.TEXT_NODE){var s=e.textContent;i=(null==s?"":s).length}else i=e.childNodes.length;o>i&&(o=i),null==n?(r.setStart(e,o),r.setEnd(e,o)):n?r.setStart(e,o):r.setEnd(e,o)}}function ii(e){for(var t=e;null!=t&&t.nodeType!==Node.TEXT_NODE;)t=t.firstChild;return t}function oi(e,t){return null==e||null==t?null:e.nodeType===Node.TEXT_NODE?Ce(e.parentElement).closest("."+t.k9_1):e.nodeType===Node.ELEMENT_NODE?(e instanceof Element?e:Ee()).closest("."+t.k9_1):null}function si(e,t,n){if(null!=e&&null!=t&&e.nodeType===Node.ELEMENT_NODE){if((e instanceof Element?e:Ee()).classList.contains(t.k9_1))return e;var r=je(e.getElementsByClassName(t.k9_1));if(!r.o())return n?Ae(r):Ke(r)}return null}function ai(){var e=window.getSelection();return null==(null==e?null:e.anchorNode)||null==e.focusNode||(Ve(e.anchorNode,e.focusNode)?e.anchorOffset<=e.focusOffset:Ve(Ce(e.anchorNode),e.getRangeAt(0).startContainer))}function li(e,t){var n=oi(e,null==t?null:t.l9_1);if(null==n)return null;for(var r=n,i=je(Ce(r).getElementsByClassName(Ce(t).k9_1)),o=Xe(Ce(i),e)-1|0;o<0&&null!=i;){var s=null==(r=li(r,t.l9_1))?null:r.getElementsByClassName(t.k9_1);o=null!=(i=null==s?null:je(s))?i.i()-1|0:-1}return null==i?null:i.j(o)}function ui(e,t){var n=oi(e,null==t?null:t.l9_1);if(null==n)return null;for(var r=n,i=je(Ce(r).getElementsByClassName(Ce(t).k9_1)),o=Xe(Ce(i),e)+1|0;o===(null==i?null:i.i());){var s=null==(r=ui(r,t.l9_1))?null:r.getElementsByClassName(t.k9_1);i=null==s?null:je(s),o=0}return null==i?null:i.j(o)}function ci(e){var t=Ne(),n=window.getSelection();if(null!=(null==n?null:n.anchorNode)&&null!=n.focusNode){var r=ai(),i=r?n.anchorNode:n.focusNode,o=r?n.focusNode:n.anchorNode,s=oi(Ce(i),e),a=!1;if(null==s&&i.nodeType===Node.ELEMENT_NODE){a=!0;for(var l=i.childNodes,u=r?n.anchorOffset:n.focusOffset,c=u;null==s&&c<l.length;)null!=(s=si(l[c],e,!0))&&ri(s,0,!0),c=c+1|0;for(c=u-1|0;null==s&&c>=0;){if(null!=(s=si(l[c],e,!1)))if(e.equals(Mr())){var $=ii(s),_=null==$?s:$,f=s.getAttribute("wysiwygContent");ri(_,(null==f?"":f).length,!0)}else ri(s,s.childNodes.length,!0);c=c-1|0}}if(null==s&&!n.isCollapsed){for(var d=e.l9_1,p=oi(i,d);null!=d&&null==p;)p=oi(i,d=d.l9_1);var h=null==p?null:p.getElementsByClassName(e.k9_1),m=null==h?null:je(h);if(!0===(null==m?null:!m.o())){var g=null,v=0,b=m.i()-1|0;if(v<=b)e:do{var y=v;if(v=v+1|0,Ve(i.compareDocumentPosition(m.j(y)),Node.DOCUMENT_POSITION_FOLLOWING)){g=m.j(y);break e}}while(v<=b);null!=g&&n.containsNode(g,!0)&&ri(s=g,0,!0)}}if(null!=s){n.containsNode(s,!0)&&t.p(s);for(var w=ui(s,e);null!=w&&n.containsNode(w,!0);)t.p(w),w=ui(w,e);var x=Ke(t);if(!Ve(oi(o,e),x))if(Ve(x,s)&&a)ri(Ce(n.anchorNode),n.anchorOffset,!1);else if(e.equals(Mr())){var k=ii(x),E=null==k?x:k,A=x.getAttribute("wysiwygContent");ri(E,(null==A?"":A).length,!1)}else ri(x,x.childNodes.length,!1)}}return t}function $i(e,t,n,r){t=t===Re?"":t,n=n===Re?"":n,r=r===Re?"":r;var i=document.createElement(e.j9_1);return i.className=e.k9_1,Oe(t)>0&&i.setAttribute("wysiwygPrefix",t),Oe(n)>0&&i.setAttribute("wysiwygSuffix",n),Oe(r)>0&&i.setAttribute("wysiwygContent",r),i}function _i(e){if(null==e)return null;var t=!0,n=je(e.getElementsByClassName(Mr().k9_1)),r=0,i=n.i()-1|0;if(r<=i)e:do{var o=r;r=r+1|0;var s=n.j(o).getAttribute("wysiwygContent");if(!Ue(null==s?"":s)){t=!1;break e}}while(r<=i);return t}function fi(e){var t=e.getAttribute("wysiwygPrefix"),n=null==t?"":t,r=e.getAttribute("wysiwygSuffix"),i=null==r?"":r;return!(!Je(n,"----\n")||!Te(i,"\n----"))||!!Je(n,"....\n")&&Te(i,"\n....")}function di(e,t){var n=Ze([e]),r=e.getAttribute("wysiwygPrefix"),i=null==r?"":r,o=e.getAttribute("wysiwygSuffix"),s=null==o?"":o;switch(t.j6_1){case 3:var a,l=e.getAttribute("wysiwygContent"),u=null==l?"":l;return a=0===Oe(i)&&0===Oe(s)?Qe(Qe(u,"<","&lt;"),">","&gt;"):ei(i+u+s),e.innerHTML=a,n;case 1:var c;if(0===e.getElementsByClassName(Fr().k9_1).length){var $=e.textContent;c=i+(null==$?"":$)+s}else c=ni(e,Dr());var _=c,f=document.createElement("span");f.innerHTML=ti(_,!1);var d=je(f.getElementsByClassName(Dr().k9_1));if(d.o())e.innerHTML="";else{var p=Ae(d);e.innerHTML=p.innerHTML;var h=p.getAttribute("wysiwygPrefix");e.setAttribute("wysiwygPrefix",null==h?"":h);var m=p.getAttribute("wysiwygSuffix");for(e.setAttribute("wysiwygSuffix",null==m?"":m);d.i()>1;)n.b1(1,Ke(d)),e.insertAdjacentElement("afterend",Ke(d))}return n;default:return n}}function pi(e,t){if(null==t)return me;switch(Ai(e.id),Ve(e,document.activeElement)||e.focus(),t.v8_1.j6_1){case 3:!function(e,t){var n=Ce(window.getSelection());if(!n.isCollapsed){var r=ci(Mr());if(!r.o()){var i=ai(),o=i?n.anchorOffset:n.focusOffset,s=i?n.focusOffset:n.anchorOffset,a=Ae(r),l=a.getAttribute("wysiwygPrefix"),u=null==l?"":l,c=a.getAttribute("wysiwygSuffix"),$=null==c?"":c,_=a.getAttribute("wysiwygContent"),f=null==_?"":_,d=o,p=f.length,h=f.substring(d,p),m=o=o+(h.length-Ge(et(He(h)?h:Ee())).length|0)|0,g=f.length,v=f.substring(m,g);a.setAttribute("wysiwygContent",v);var b=o,y=f.substring(0,b),w=Ge(tt(He(y)?y:Ee()));if(Oe(w)>0){var x=$i(Mr(),u,$,Ge(tt(He(y)?y:Ee())));di(x,Mr()),a.insertAdjacentElement("beforebegin",x)}if((y.length-Ge(tt(He(y)?y:Ee())).length|0)>0){var k=$i(Mr(),"",""," ");di(k,Mr()),a.insertAdjacentElement("beforebegin",k)}1===r.i()&&(s=s-o|0);var E=Ke(r),A=E.getAttribute("wysiwygContent"),S=null==A?"":A,C=s,O=S.substring(0,C),T=s=s-(O.length-Ge(tt(He(O)?O:Ee())).length|0)|0,I=S.substring(0,T);E.setAttribute("wysiwygContent",I);var R=s,N=S.length,L=S.substring(R,N),z=Ge(et(He(L)?L:Ee()));if(Oe(z)>0){var D=E.getAttribute("wysiwygPrefix"),F=null==D?"":D,M=E.getAttribute("wysiwygSuffix"),q=null==M?"":M,B=$i(Mr(),F,q,Ge(et(He(L)?L:Ee())));di(B,Mr()),E.insertAdjacentElement("afterend",B)}if((L.length-Ge(et(He(L)?L:Ee())).length|0)>0){var j=$i(Mr(),"",""," ");di(j,Mr()),E.insertAdjacentElement("afterend",j)}var P=Ne(),U=null,H=0,Y=r.i();if(H<Y)do{var G=H;H=H+1|0;var W=r.j(G),K=W.getAttribute("wysiwygContent"),V=null==K?"":K;if(0===Oe(V))W.remove();else{if(!Ue(V)){var X,J;if(0===Oe(e)&&0===Oe(t))X="",J="";else{var Z=W.getAttribute("wysiwygPrefix"),Q=null==Z?"":Z,ee=W.getAttribute("wysiwygSuffix"),te=null==ee?"":ee,ne=!(Se(u,e)&&Se($,t)),re=!!Se(Q,e)&&Se(te,t);if(ne)X=re?Q:e+Q,J=re?te:te+t;else{var ie;if(X=re?nt(Q,e,""):Q,re){var oe=Ge(rt(He(te)?te:Ee())),se=nt(oe,t,"");ie=Ge(rt(He(se)?se:Ee()))}else ie=te;J=ie}}W.setAttribute("wysiwygPrefix",X),W.setAttribute("wysiwygSuffix",J),di(W,Mr())}if(P.o())P.p(W);else if(Ue(V))W.remove(),U=W;else{var ae,le=Ke(P),ue=le.getAttribute("wysiwygPrefix"),ce=null==ue?"":ue,$e=le.getAttribute("wysiwygSuffix"),_e=null==$e?"":$e,fe=W.getAttribute("wysiwygPrefix");if(ce===(null==fe?"":fe)){var de=W.getAttribute("wysiwygSuffix");ae=_e===(null==de?"":de)}else ae=!1;ae&&Ve(oi(W,Fr()),oi(le,Fr()))?(le.setAttribute("wysiwygContent",Ce(le.getAttribute("wysiwygContent"))+(null!=U?" ":"")+V),di(le,Mr()),W.remove()):(null!=U&&W.insertAdjacentElement("beforebegin",U),P.p(W)),U=null}}}while(H<Y);if(!P.o()){ri(Ae(P),0,!0);var pe=ii(Ke(P)),he=null==pe?Ke(P):pe,me=null==pe?null:pe.textContent,ge=null==me?null:me.length;ri(he,null==ge?0:ge,!1)}}}}(t.w8_1,t.x8_1);break;case 2:!function(e,t){var n=ci(Fr());if(n.o()){var r=Ce(window.getSelection()),i=oi(Ce(r.focusNode),Dr());if(null==i){var o=oi(Ce(r.focusNode),zr());null!=o&&(i=$i(Dr()),o.append(i))}if(null!=i&&!fi(i)&&0===i.getElementsByClassName(Fr().k9_1).length){var s=$i(Fr());i.append(s),n.p(s)}}if(!n.o()){var a=Ae(n);if(1===n.i()&&!0===_i(a)){var l=a.getAttribute("wysiwygPrefix"),u=null==l?"":l,c=a.getAttribute("wysiwygSuffix"),$=null==c?"":c;a.setAttribute("wysiwygPrefix",u===e&&$===t?"":e),a.setAttribute("wysiwygSuffix",u===e&&$===t?"":t),a.append($i(Mr(),"","","+++<span id='wysiwyg-tmp-span'>Text</span>+++")),di(Ce(oi(a,Dr())),Dr());var _=Ce(oi(document.getElementById("wysiwyg-tmp-span"),Mr())),f=Ce(oi(_,Fr()));_.remove(),ri(f,0)}else{var d,p=ci(Dr()),h=Ae(p),m=h.getAttribute("wysiwygPrefix"),g=null==m?"":m,v=h.getAttribute("wysiwygSuffix"),b=null==v?"":v;if(0===Oe(g)&&0===Oe(b)){var y=1,w=p.i();if(y<w)e:do{var x=y;y=y+1|0;var k,E=p.j(x),A=E.getAttribute("wysiwygPrefix");if((null==A?"":A)!==g)k=!0;else{var S=E.getAttribute("wysiwygSuffix");k=!((null==S?"":S)===b)}if(k)break e;for(var C=je(E.getElementsByClassName(Fr().k9_1));!C.o();)h.append(Ae(C));E.remove()}while(y<w)}var O=a.getAttribute("wysiwygPrefix");if((null==O?"":O)!==e)d=!0;else{var T=a.getAttribute("wysiwygSuffix");d=!((null==T?"":T)===t)}var I=d,R=null,N=null,L=h.getElementsByClassName(Fr().k9_1),z=0,D=0,F=L.length;if(D<F)do{var M=D;D=D+1|0;var q=L[M];n.m(q)&&(q.setAttribute("wysiwygPrefix",I?e:""),q.setAttribute("wysiwygSuffix",I?t:""),null==R&&(R=z),N=z),!1===_i(q)&&(z=z+1|0)}while(D<F);for(var B=Ne(),j=di(h,Dr()).k();j.s();){var P=j.u();B.v(je(P.getElementsByClassName(Fr().k9_1)))}if(null!=R&&null!=N){var U=R,H=B.i()-1|0,Y=Math.min(U,H),G=B.j(Y),W=je(G.getElementsByClassName(Mr().k9_1));ri(W.o()?G:Ae(W),0,!0);var K=N,V=B.i()-1|0,X=Math.min(K,V),J=B.j(X),Z=je(J.getElementsByClassName(Mr().k9_1));if(Z.o())ri(J,J.childNodes.length,!1);else{var Q=ii(Ke(Z)),ee=null==Q?Ke(Z):Q,te=null==Q?null:Q.textContent,ne=null==te?null:te.length;ri(ee,null==ne?0:ne,!1)}}}}}(t.w8_1,t.x8_1);break;case 1:!function(e,t){var n=ci(Dr());if(!n.o()){var r=Ce(window.getSelection()),i=Ae(n),o=i.getAttribute("wysiwygPrefix"),s=null==o?"":o,a=i.getAttribute("wysiwygSuffix"),l=null==a?"":a;if(0===Oe(e)&&0===Oe(t)||s===e&&l===t){var u=i,c=0,$=n.i();if(c<$)e:do{var _=c;c=c+1|0;var f=n.j(_);if(0!==Oe(e)||0!==Oe(t)){var d,p=f.getAttribute("wysiwygPrefix");if((null==p?"":p)!==s)d=!0;else{var h=f.getAttribute("wysiwygSuffix");d=!((null==h?"":h)===l)}if(d)break e}f.setAttribute("wysiwygPrefix",""),f.setAttribute("wysiwygSuffix",""),u=Ke(di(f,Dr()))}while(c<$);var m=je(i.getElementsByClassName(Mr().k9_1));ri(m.o()?i:Ae(m),0,!0);var g=je(u.getElementsByClassName(Mr().k9_1));if(g.o())ri(u,u.childNodes.length,!1);else{var v=ii(Ke(g)),b=null==v?Ke(g):v,y=null==v?null:v.textContent,w=null==y?null:y.length;ri(b,null==w?0:w,!1)}}else if(0===Oe(s)&&0===Oe(l)){var x=Ge(r);if(!Ue(x)){var k=ci(Fr()),E=ci(Mr()),A=ai(),S=A?r.anchorOffset:r.focusOffset,C=A?r.focusOffset:r.anchorOffset,O=je(i.getElementsByClassName(Fr().k9_1)),T=Ae(k),I=je(T.getElementsByClassName(Mr().k9_1)),R=Ae(E),N=R.getAttribute("wysiwygContent"),L=null==N?"":N;if(O.l(T)>0||I.l(R)>0||S>0||Te(L," ")){var z=$i(Dr());for(i.insertAdjacentElement("beforebegin",z);!O.o()&&!Ve(Ae(O),T);)z.append(Ae(O));if(I.l(R)>0||S>0||Te(L," ")){var D=Fr(),F=T.getAttribute("wysiwygPrefix"),M=null==F?"":F,q=T.getAttribute("wysiwygSuffix"),B=$i(D,M,null==q?"":q);for(z.append(B);!I.o()&&!Ve(Ae(I),R);)B.append(Ae(I));if(S>0||Te(L," ")){var j=S,P=L.length,U=L.substring(j,P);S=S+(U.length-Ge(et(He(U)?U:Ee())).length|0)|0,1===E.i()&&(C=C-S|0);var H=S,Y=L.substring(0,H),G=Ge(tt(He(Y)?Y:Ee()));if(Oe(G)>0){var W=R.getAttribute("wysiwygPrefix"),K=null==W?"":W,V=R.getAttribute("wysiwygSuffix"),X=null==V?"":V,J=$i(Mr(),K,X,Ge(tt(He(Y)?Y:Ee())));di(J,Mr()),B.append(J)}var Z=S,Q=L.length,ee=L.substring(Z,Q);Oe(ee)>0?(R.setAttribute("wysiwygContent",ee),di(R,Mr())):R.remove()}}di(z,Dr())}var te=!0,ne=1,re=n.i();if(ne<re)e:do{var ie=ne;ne=ne+1|0;var oe,se=n.j(ie),ae=se.getAttribute("wysiwygPrefix");if(!0===(null==ae?null:Oe(ae)>0))oe=!0;else{var le=se.getAttribute("wysiwygSuffix");oe=!0===(null==le?null:Oe(le)>0)}if(oe){te=!1;break e}for(;se.childNodes.length>0;){var ue=se.childNodes[0];i.append(ue)}se.remove()}while(ne<re);if(te){var ce=je(i.getElementsByClassName(Fr().k9_1)),$e=Ke(k),_e=je($e.getElementsByClassName(Mr().k9_1)),fe=Ke(E),de=fe.getAttribute("wysiwygContent"),pe=null==de?"":de;if(ce.l($e)<(ce.i()-1|0)||_e.l(fe)<(_e.i()-1|0)||C<pe.length||Je(pe," ")){var he=$i(Dr());for(i.insertAdjacentElement("afterend",he);!ce.o()&&!Ve(Ke(ce),$e);)he.prepend(Ke(ce));if(_e.l(fe)<(_e.i()-1|0)||C<pe.length||Je(pe," ")){var me=Fr(),ge=$e.getAttribute("wysiwygPrefix"),ve=null==ge?"":ge,be=$e.getAttribute("wysiwygSuffix"),ye=$i(me,ve,null==be?"":be);for(he.prepend(ye);!_e.o()&&!Ve(Ke(_e),fe);)ye.prepend(Ke(_e));if(C<pe.length||Je(pe," ")){var we=C,xe=pe.substring(0,we),ke=C=C-(xe.length-Ge(tt(He(xe)?xe:Ee())).length|0)|0,Se=pe.substring(0,ke);fe.setAttribute("wysiwygContent",Se),di(fe,Mr());var Ie=C,Re=pe.length,Le=pe.substring(Ie,Re),ze=Ge(et(He(Le)?Le:Ee()));if(Oe(ze)>0){var De=fe.getAttribute("wysiwygPrefix"),Fe=null==De?"":De,Me=fe.getAttribute("wysiwygSuffix"),qe=null==Me?"":Me,Be=$i(Mr(),Fe,qe,Ge(et(He(Le)?Le:Ee())));di(Be,Mr()),ye.prepend(Be)}}}0===he.getElementsByClassName(Mr().k9_1).length?he.remove():di(he,Dr())}}i.setAttribute("wysiwygPrefix",e),i.setAttribute("wysiwygSuffix",t);for(var Pe=Ne(),Ye=di(i,Dr()).k();Ye.s();){var We=Ye.u();Pe.v(je(We.getElementsByClassName(Mr().k9_1)))}if(Pe.o())ri(i,0,!0),ri(i,i.childNodes.length,!1);else{ri(Ae(Pe),0,!0);var Xe=ii(Ke(Pe)),Ze=null==Xe?Ke(Pe):Xe,Qe=null==Xe?null:Xe.textContent,nt=null==Qe?null:Qe.length;ri(Ze,null==nt?0:nt,!1)}}}}}(t.w8_1,t.x8_1)}gi(e.id),Kr(e.id)}function hi(e,t){Ai(e.id),Ve(e,document.activeElement)||e.focus();var n=ci(Mr());if(!n.o()){var r=ai(),i=Ce(window.getSelection()),o=r?i.anchorOffset:i.focusOffset,s=r?i.focusOffset:i.anchorOffset,a=t.w8_1,l=t.x8_1,u=Ae(n),c=u.getAttribute("wysiwygContent"),$=null==c?"":c,_=$.substring(0,o)+a,f=$.length,d=$.substring(o,f);u.setAttribute("wysiwygContent",_+d),di(u,Mr()),1===n.i()&&(s=s+a.length|0);var p=Ke(n),h=p.getAttribute("wysiwygContent"),m=null==h?"":h,g=s,v=m.substring(0,g)+l,b=s,y=m.length,w=m.substring(b,y);p.setAttribute("wysiwygContent",v+w),di(p,Mr());var x=ii(u),k=ii(p);null!=x&&null!=k?(ri(x,o+a.length|0,!0),ri(k,s,!1)):ri(u,0)}gi(e.id),Kr(e.id)}function mi(e){var t=document.getElementsByClassName(e.id+"-table-unit"),n=0,r=t.length;if(n<r)do{var i=n;n=n+1|0;var o=t[i];(o instanceof HTMLSpanElement?o:Ee()).style.background="transparent"}while(n<r);var s=document.getElementById(e.id+"-table-column"),a=it((s instanceof HTMLInputElement?s:Ee()).value),l=document.getElementById(e.id+"-table-row"),u=it((l instanceof HTMLInputElement?l:Ee()).value),c=document.getElementsByClassName(e.id+"-table-line"),$=0;if($<u)do{var _=$;if($=$+1|0,_<c.length){var f=c[_],d=(f instanceof HTMLDivElement?f:Ee()).getElementsByClassName(e.id+"-table-unit"),p=0;if(p<a)do{var h=p;if(p=p+1|0,h<d.length){var m=d[h];(m instanceof HTMLSpanElement?m:Ee()).style.background=0===_?"#0000005c":"#33333336"}}while(p<a)}}while($<u)}function gi(e){var t=document.getElementById(e+"-source");if(null!=t){var n=t instanceof HTMLTextAreaElement?t:Ee(),r=document.getElementById(e);n.value=ni(r instanceof Element?r:Ee(),zr())}}function vi(e,t,n,r){e._v=e._v+1|0;var i=pe(29+(pe(e._v-1|0,58-e._v|0)/2|0)|0,40)/435|0;t.setAttribute("style","width: "+(n?i:40-i|0)+"%; height: 800px !important"),r.setAttribute("style","width: "+(90-(n?i:40-i|0)|0)+"%"),i<=38?window.requestAnimationFrame(function(e,t,n,r){return function(i){return vi(e,t,n,r),me}}(e,t,n,r)):n?(t.style.width="40%",r.style.width="50%"):(t.remove(),r.style.width="90%")}function bi(e){return e.stopPropagation(),me}function yi(){return Ni(),Q}function wi(){return Ni(),ee}function xi(e){Ni(),te=e}function ki(){return Ni(),ne}function Ei(e,t){Ni();var n=t?yi():wi(),r=n.o1(e);if(!0===(null==r?null:!r.o())){Ci(e,!t);var i=Ke(Ce(n.o1(e))),o=Ce(document.getElementById(e));o.innerHTML=i.r8_1,Ve(o,document.activeElement)&&(null==i.s8_1.s8_1?Ti(e,i.s8_1.r8_1,null):(Ti(e,i.s8_1.r8_1,!0),Ti(e,Ce(i.s8_1.s8_1),!1))),Ce(n.o1(e)).q(i),Si(e),gi(e)}}function Ai(e){Ni();var t=wi();if((at(t,st)?t:Ee()).m1(e)&&!Ce(wi().o1(e)).o()){var n=wi(),r=Ne();n.j1(e,r)}Ci(e,!0),Si(e)}function Si(e){Ni(),Wr(Ce(Yr(e,Vn())),null==yi().o1(e)||Ce(yi().o1(e)).o()),Wr(Ce(Yr(e,Xn())),null==wi().o1(e)||Ce(wi().o1(e)).o())}function Ci(e,t){Ni();var n,r=Ce(window.getSelection());if(r.isCollapsed)n=new xe(Ce(document.getElementById(e)).innerHTML,new xe(Oi(e,r.anchorNode,r.anchorOffset),null));else{var i=Oi(e,r.anchorNode,r.anchorOffset),o=Oi(e,r.focusNode,r.focusOffset);n=new xe(Ce(document.getElementById(e)).innerHTML,ai()?new xe(i,o):new xe(o,i))}var s=n,a=t?yi():wi();if((at(a,st)?a:Ee()).m1(e))Ce(a.o1(e)).p(s);else{var l=Ze([s]);a.j1(e,l)}}function Oi(e,t,n){Ni();var r=oi(t,Dr());if(null!=r){var i=je(Ce(document.getElementById(e)).getElementsByClassName(Dr().k9_1)).l(r),o=oi(t,Fr());if(null!=o){var s=je(r.getElementsByClassName(Fr().k9_1)).l(o),a=oi(t,Mr());if(null!=a){var l=je(o.getElementsByClassName(Mr().k9_1)),u=0,c=0,$=l.i()-1|0;if(c<=$)e:do{var _=c;if(c=c+1|0,Ve(l.j(_),a)){u=u+n|0;break e}var f=u,d=l.j(_).textContent;u=f+(null==d?"":d).length|0}while(c<=$);return new ge(i,s,u)}return new ge(i,s,0)}return new ge(i,0,fi(r)?n:0)}return new ge(0,0,0)}function Ti(e,t,n){Ni();var r=Ce(document.getElementById(e)),i=je(r.getElementsByClassName(Dr().k9_1));if(i.i()>t.v8_1){var o=i.j(t.v8_1),s=je(o.getElementsByClassName(Fr().k9_1));if(s.i()>t.w8_1){var a=s.j(t.w8_1),l=je(a.getElementsByClassName(Mr().k9_1));if(l.o())ri(a,0,n);else{var u=t.x8_1,c=0,$=l.i()-1|0;if(c<=$)e:do{var _=c;c=c+1|0;var f=l.j(_),d=f.textContent,p=null==d?"":d;if(p.length>=u){var h=ii(f);ri(null==h?f:h,u,n);break e}if(_===(l.i()-1|0)){var m=ii(f);ri(null==m?f:m,p.length,n)}else u=u-p.length|0}while(c<=$)}}else if(fi(o)){var g,v=je(o.getElementsByTagName("pre"));if(v.o())g=o;else{var b=ii(Ae(v));g=null==b?o:b}ri(g,t.x8_1,n)}else ri(o,0,n)}else ri(r,0,n)}function Ii(e){var t;Ni(),Ni(),te&&(Ai(e),xi(!1)),null!=ki()&&window.clearTimeout(Ce(ki())),t=window.setTimeout(Ri,500),Ni(),ne=t}function Ri(){return Ni(),xi(!0),me}function Ni(){re||(re=!0,Q=lt(),ee=lt(),te=!0,ne=null)}function Li(){return null==le&&(le=ut([Vi(),Xi(),Ji()])),le}function zi(){if(ae)return me;ae=!0,ie=new Di("LEFT",0,"halign-left"),oe=new Di("CENTER",1,"halign-center"),se=new Di("RIGHT",2,"halign-right")}function Di(e,t,n){ve.call(this,e,t),this.o9_1=n}function Fi(e,t){return Wi(e,Vi()),me}function Mi(e,t){return Wi(e,Xi()),me}function qi(e,t){return Wi(e,Ji()),me}function Bi(e,t){return Ce((n=e).previousElementSibling).remove(),n.remove(),me;var n}function ji(){if(fe)return me;fe=!0,ue=new Pi("ALIGN_LEFT",0,'<img width="20" height="20" src="/assets/icons/align-left.svg">',!0,"Align left",Fi),ce=new Pi("ALIGN_CENTER",1,'<img width="20" height="20" src="/assets/icons/align-center.svg">',!0,"Align center",Mi),$e=new Pi("ALIGN_RIGHT",2,'<img width="20" height="20" src="/assets/icons/align-right.svg">',!0,"Align right",qi),_e=new Pi("DELETE",3,'<img width="20" height="20" src="/assets/icons/delete.svg">',!1,"Delete table",Bi)}function Pi(e,t,n,r,i,o){ve.call(this,e,t),this.r9_1=n,this.s9_1=r,this.t9_1=i,this.u9_1=o}function Ui(e,t){var n=document.createElement("tr"),r=n instanceof HTMLTableRowElement?n:Ee(),i=1;if(i<=e)do{var o=i;i=i+1|0;var s=document.createElement(t?"th":"td"),a=s instanceof HTMLTableCellElement?s:Ee();a.classList.add("tableblock","halign-left","valign-top");var l=document.createElement("span"),u=l instanceof HTMLSpanElement?l:Ee();u.classList.add("wysiwyg-content-cell"),a.append(u),r.append(a)}while(o!==e);return r}function Hi(e,t){return e.nodeName===t?e:null==e.parentNode?null:Ce(e.parentNode).nodeName===t?e.parentNode:Hi(Ce(e.parentNode),t)}function Yi(e){var t=e.getElementsByTagName("table"),n=0,r=t.length;if(n<r)do{var i=n;n=n+1|0;var o=t[i];if(null!=Ce(o).previousElementSibling){var s=t[i];Ce(Ce(s).previousElementSibling).classList.add("hidden")}}while(n<r)}function Gi(e,t){var n=-1,r=-1,i=0,o=e.rows.length;if(i<o)e:do{var s=i;i=i+1|0;var a=e.rows[s];if(Ce(a).contains(t instanceof Node?t:Ee())){n=s;break e}}while(i<o);var l=0,u=e.rows[n],c=Ce(u).childNodes.length;if(l<c)e:do{var $=l;l=l+1|0;var _=e.rows[n],f=Ce(_).childNodes[$];if(Ve(f,t instanceof Node?t:Ee())){r=$;break e}}while(l<c);return n<0||r<0?null:new xe(n,r)}function Wi(e,t){for(var n=function(e){var t=Ne(),n=window.getSelection();if(null!=(null==n?null:n.anchorNode)&&null!=n.focusNode){var r=ai(),i=r?n.anchorNode:n.focusNode,o=r?n.focusNode:n.anchorNode,s=Hi(Ce(i),"TH"),a=null==s?Hi(i,"TD"):s,l=Hi(Ce(o),"TH"),u=null==l?Hi(o,"TD"):l;if(null!=a&&null!=u)if(Ve(a,u)){var c=Ce(Gi(e,a)).s8_1,$=0,_=e.rows.length;if($<_)do{var f=$;$=$+1|0;var d=e.rows[f],p=Ce(d).children[c];t.p(p instanceof HTMLTableCellElement?p:Ee())}while($<_)}else{var h=Ce(Gi(e,a)).s8_1,m=Ce(Gi(e,u)).s8_1,g=0,v=e.rows.length;if(g<v)do{var b=g;g=g+1|0;var y=h;if(y<=m)do{var w=y;y=y+1|0;var x=e.rows[b],k=Ce(x).children[w];t.p(k instanceof HTMLTableCellElement?k:Ee())}while(w!==m)}while(g<v)}}return t}(e).k();n.s();){for(var r=n.u(),i=Li().k();i.s();){var o=i.u();r.classList.remove(o.o9_1)}r.classList.add(t.o9_1)}}function Ki(e,t){return function(n){return e.u9_1(t,n),me}}function Vi(){return zi(),ie}function Xi(){return zi(),oe}function Ji(){return zi(),se}function Zi(){return ji(),ue}function Qi(){return ji(),ce}function eo(){return ji(),$e}function to(){return ji(),_e}function no(){var e=document.getElementsByClassName("modal");if(e.length>0){var t=e[e.length-1|0],n=t instanceof HTMLDivElement?t:Ee(),r={childList:!1,attributes:!0,characterData:void 0,subtree:!1,attributeOldValue:void 0,characterDataOldValue:void 0,attributeFilter:void 0};new MutationObserver(oo).observe(n,r)}}function ro(){var e=document.getElementsByClassName("wysiwyg-content asciidoctor"),t=0,n=e.length;if(t<n)do{var r=t;t=t+1|0;var i=e[r],o=Ce(i),s=o instanceof HTMLElement?o:Ee(),a=Ce(document.getElementById(s.id+"-editor"));if(!Ce(a.firstElementChild).classList.contains("wysiwyg-action-menu")){var l=document.createElement("div");l.className="wysiwyg-action-menu",a.prepend(l);var u=document.createElement("div");u.className="wysiwyg-action-menu-left",l.append(u);for(var c=Br().k();c.s();){var $=c.u(),_=$.r8_1;if(null!=_){var f=document.createElement("button"),d=f instanceof HTMLButtonElement?f:Ee();if(u.append(d),jr(d,_,s,!1),!$.s8_1.o()){d.classList.add("dropdown-toggle"),d.setAttribute("data-bs-toggle","dropdown"),d.setAttribute("aria-expanded","false"),d.setAttribute("data-bs-auto-close","outside");var p=document.createElement("div"),h=p instanceof HTMLDivElement?p:Ee();u.append(h),h.className="dropdown-menu",h.style.zIndex="999";for(var m=$.s8_1.k();m.s();){var g=m.u(),v=document.createElement("button"),b=v instanceof HTMLButtonElement?v:Ee();h.append(b),jr(b,g,s,!0)}}}else{var y=document.createElement("span");y.className="wysiwyg-action-button-separator",u.append(y)}}Ur(s.id),Si(s.id),s.onkeydown=so,s.addEventListener("beforeinput",ot(ao(s))),s.oninput=lo(s),s.onclick=uo(s);var w=s.textContent;!0===(null==w?null:Oe(w)>0)&&(s.innerHTML=ti(Ce(s.textContent),!1))}}while(t<n)}function io(e){if(document.getElementsByClassName("wysiwyg-content asciidoctor").length>0){var t=window.getSelection(),n=oi(null==t?null:t.anchorNode,zr()),r=null==n?null:n.id;null!=r?window.setTimeout((i=r,function(){return Pr(i),me}),0):Ur()}var i;return me}function oo(e,t){for(var n=0,r=e.length;n<r;){var i,o=e[n];if(n=n+1|0,"attributes"===o.type&&"style"===o.attributeName&&o.target instanceof HTMLDivElement){var s=o.target;i="block"===(s instanceof HTMLDivElement?s:Ee()).style.display}else i=!1;i&&(ro(),no())}return me}function so(e){var t=0===e.keyCode?e.which:e.keyCode;return(9===t||e.shiftKey&&13===t)&&e.preventDefault(),me}function ao(e){return function(t){var n=t.inputType;if("historyUndo"==n)t.preventDefault(),Ce(Yr(e.id,Vn())).click();else if("historyRedo"==n)t.preventDefault(),Ce(Yr(e.id,Xn())).click();else{var r=Ce(window.getSelection()),i=ci(Mr()),o=ci(Fr()),s=ci(Dr()),a=!1;if(!s.o()&&fi(Ae(s))){var l=Ae(s),u=1,c=s.i();if(u<c)e:do{var $=u;if(u=u+1|0,!fi(s.j($))){var _=document.createTreeWalker(l,NodeFilter.SHOW_TEXT).lastChild(),f=null==_?l:_,d=null==_?null:_.textContent,p=null==d?null:d.length;ri(f,null==p?0:p,!1);break e}l=s.j($)}while(u<c);if(Ii(e.id),"insertParagraph"==n){t.preventDefault();var h=r.getRangeAt(0),m=document.createTextNode("\n");h.deleteContents(),h.insertNode(m),h.setStartAfter(m),h.setEndAfter(m),a=!0}}else if("insertText"!=n&&"insertFromPaste"!=n||!i.o())if("deleteContentBackward"!=n&&"deleteContentForward"!=n&&"insertParagraph"!=n||!o.o()){if("insertParagraph"==n&&!0===_i(li(Ae(o),Fr())))t.preventDefault();else if("insertParagraph"==n&&!0===_i(Ae(o))){var g=Ae(o).getAttribute("wysiwygPrefix");Oe(null==g?"":g)>0?t.preventDefault():Ii(e.id)}else if("insertText"==n||"insertFromPaste"==n||"insertParagraph"==n||"deleteContentBackward"==n||"deleteContentForward"==n){Ii(e.id);var v=ai(),b=v?r.anchorOffset:r.focusOffset,y=v?r.focusOffset:r.anchorOffset,w=!1;if("insertText"==n){if(i.i()>1){var x=Ce(ii(Ae(i)));ri(x,b,!0),ri(x,Ce(x.textContent).length,!1)}}else if("insertFromPaste"==n||"insertParagraph"==n){var k=Ae(i),E=k.getAttribute("wysiwygPrefix"),A=null==E?"":E,S=k.getAttribute("wysiwygSuffix"),C=null==S?"":S,O=k.getAttribute("wysiwygContent"),T=null==O?"":O;if(b>0){var I=T.substring(0,b),R=$i(Mr(),A,C,Ge(tt(He(I)?I:Ee())));if(di(R,Mr()),k.insertAdjacentElement("beforebegin",R),(I.length-Ge(tt(He(I)?I:Ee())).length|0)>0){var N=$i(Mr(),"",""," ");N.innerHTML="&nbsp;",k.insertAdjacentElement("beforebegin",N)}}if(1===i.i()&&y<T.length){var L=T.length,z=T.substring(y,L),D=$i(Mr(),A,C,Ge(et(He(z)?z:Ee())));if(di(D,Mr()),k.insertAdjacentElement("afterend",D),(z.length-Ge(et(He(z)?z:Ee())).length|0)>0){var F=$i(Mr(),"",""," ");F.innerHTML="&nbsp;",k.insertAdjacentElement("afterend",F)}}var M=1===i.i()?y:T.length,q=T.substring(b,M),B=0===Oe(q)?"T":q;k.setAttribute("wysiwygContent",B),di(k,Mr());var j=ii(k);ri(null==j?k:j,0,!0);var P=null==j?k:j,U=null==j?null:j.textContent,H=null==U?null:U.length;ri(P,null==H?k.childNodes.length:H,!1)}else if("deleteContentBackward"==n||"deleteContentForward"==n)if(r.isCollapsed){var Y;if(i.o())Y=!1;else{var G=Ae(i).getAttribute("wysiwygContent");Y=0===Oe(null==G?"":G)}Y&&(Ae(i).remove(),ct(i));var W,K=Ce(oi(i.o()?r.focusNode:Ae(i),Fr())),V=je(Ce(oi(K,Dr())).getElementsByClassName(Fr().k9_1)),X=je(K.getElementsByClassName(Mr().k9_1));if("deleteContentBackward"==n){var J,Z=K.getAttribute("wysiwygPrefix");if(Oe(null==Z?"":Z)>0)J=!0;else{var Q=K.getAttribute("wysiwygSuffix");J=Oe(null==Q?"":Q)>0}W=J}else W=!1;if(W&&!0===_i(K)&&V.l(K)===(V.i()-1|0))t.preventDefault(),K.setAttribute("wysiwygPrefix",""),K.setAttribute("wysiwygSuffix",""),Pr(e.id),w=!0;else{var ee,te;if("deleteContentForward"!=n||i.o())te=!1;else{var ne=Ae(i).getAttribute("wysiwygContent");te=y===(null==ne?"":ne).length}if(te&&X.l(Ae(i))<(X.i()-1|0)){var re=X.j(X.l(Ae(i))+1|0).getAttribute("wysiwygContent");ee=Oe(null==re?"":re)>0}else ee=!1;if(ee){t.preventDefault();var ie=X.j(X.l(Ae(i))+1|0),oe=Ce(ie.getAttribute("wysiwygContent")).substring(1);if(0===Oe(oe))ie.remove();else{if((oe.length-Ge(et(He(oe)?oe:Ee())).length|0)>0){var se=$i(Mr(),"",""," ");se.innerHTML="&nbsp;",ie.insertAdjacentElement("beforebegin",se)}var ae=Ge(et(He(oe)?oe:Ee()));ie.setAttribute("wysiwygContent",ae),di(ie,Mr())}a=!0}else{var le;if("deleteContentBackward"==n&&!i.o()&&1===b&&X.l(Ae(i))>0){var ue=X.j(X.l(Ae(i))-1|0).getAttribute("wysiwygContent");le=Oe(null==ue?"":ue)>0}else le=!1;if(le){t.preventDefault();var ce=Ae(i),$e=Ce(ce.getAttribute("wysiwygContent")).substring(1);if(0===Oe($e))ce.remove();else{var _e=ii(X.j(X.l(ce)-1|0)),fe=null==_e?ce:_e,de=null==_e?null:_e.textContent,pe=null==de?null:de.length;if(ri(fe,null==pe?0:pe),($e.length-Ge(et(He($e)?$e:Ee())).length|0)>0){var he=$i(Mr(),"",""," ");he.innerHTML="&nbsp;",ce.insertAdjacentElement("beforebegin",he)}var ge=Ge(et(He($e)?$e:Ee()));ce.setAttribute("wysiwygContent",ge),di(ce,Mr())}a=!0}else{var ve=null,be=null;if("deleteContentBackward"==n&&(!!X.o()||!(i.o()||0!==X.l(Ae(i)))&&0===b))t.preventDefault(),ve=li(K,Fr()),be=K,a=!0;else{var ye;if("deleteContentForward"==n){var we;if(X.o())we=!0;else{var xe;if(i.o()||X.l(Ae(i))!==(X.i()-1|0))xe=!1;else{var ke=Ae(i).getAttribute("wysiwygContent");xe=y===(null==ke?"":ke).length}we=xe}ye=we}else ye=!1;ye&&(t.preventDefault(),ve=K,be=ui(K,Fr()),a=!0)}if(null!=ve&&null!=be){o=Ze([ve,be]);var Se=Ce(oi(ve,Dr())),Te=Ce(oi(be,Dr()));s=Ve(Se,Te)?Ze([Se]):Ze([Se,Te]);var Ie=je(ve.getElementsByClassName(Mr().k9_1));if(Ie.o())ri(ve,0);else{var Re=ii(Ke(Ie)),Ne=null==Re?Ke(Ie):Re,Le=null==Re?null:Re.textContent,ze=null==Le?null:Le.length;ri(Ne,null==ze?0:ze)}}}}}}else if(i.i()>1){var De=Ce(ii(Ae(i)));ri(De,b,!0),ri(De,Ce(De.textContent).length,!1)}if(o.i()>1){var Fe=Ae(o),Me=1,qe=o.i();if(Me<qe)do{var Be=Me;Me=Me+1|0;for(var Pe=je(o.j(Be).getElementsByClassName(Mr().k9_1));!Pe.o();)Fe.append(Ae(Pe));o.j(Be).remove();var Ye=o.j(Be).getAttribute("wysiwygPrefix");Oe(null==Ye?"":Ye)>0&&(w=!0)}while(Me<qe)}if(s.i()>1){var We=1,Xe=s.i();if(We<Xe)do{var nt=We;We=We+1|0,je(s.j(nt).getElementsByClassName(Fr().k9_1)).o()?s.j(nt).remove():di(s.j(nt),Dr())}while(We<Xe)}if(i.i()>1){var rt=1,it=i.i();if(rt<it)do{var ot=rt;rt=rt+1|0;var st=i.j(ot),at=st.getAttribute("wysiwygContent"),lt=null==at?"":at;if(ot===(i.i()-1|0)&&y<lt.length){var ut=lt.length,_t=lt.substring(y,ut),ft=Ge(et(He(_t)?_t:Ee()));if(st.setAttribute("wysiwygContent",ft),di(st,Mr()),(_t.length-Ge(et(He(_t)?_t:Ee())).length|0)>0){var dt=$i(Mr(),"",""," ");dt.innerHTML="&nbsp;",st.insertAdjacentElement("beforebegin",dt)}}else st.remove()}while(rt<it)}if("insertParagraph"==n){t.preventDefault();var pt=Ae(i),ht=Ce(oi(pt,Fr())),mt=ht.getAttribute("wysiwygPrefix"),gt=null==mt?"":mt,vt="= "===gt||Je(gt,":: ")?"":"* [x] "===gt||"* [ ] "===gt?"* ":gt,bt=Fr(),yt=ht.getAttribute("wysiwygSuffix"),wt=$i(bt,vt,null==yt?"":yt);ht.insertAdjacentElement("afterend",wt);for(var xt=je(ht.getElementsByClassName(Mr().k9_1));!Ve(Ke(xt),pt);)wt.prepend(Ke(xt));pt.remove();var kt=je(wt.getElementsByClassName(Mr().k9_1));ri(kt.o()?wt:Ae(kt),0),Oe(gt)>0&&(Pr(e.id),w=!0),a=!0}if(w){var Et=oi(Ce(r.anchorNode),Fr());if(null!=Et){var At=Ce(oi(Et,Dr())),St=je(At.getElementsByClassName(Fr().k9_1)),Ct=0,Ot=0,Tt=St.i()-1|0;if(Ot<=Tt)e:do{var It=Ot;if(Ot=Ot+1|0,Ve(St.j(It),Et)){!0===_i(Et)&&Et.append($i(Mr(),"","","+++<span id='wysiwyg-tmp-span'>Text</span>+++"));break e}!1===_i(St.j(It))&&(Ct=Ct+1|0)}while(Ot<=Tt);var Rt=0,Nt=oi(Ce(r.anchorNode),Mr());if(null!=Nt){var Lt=je(Et.getElementsByClassName(Mr().k9_1)),zt=0,Dt=Lt.i()-1|0;if(zt<=Dt)e:do{var Ft=zt;if(zt=zt+1|0,Ve(Lt.j(Ft),Nt)){var Mt=Rt,qt=r.anchorOffset,Bt=r.focusOffset;Rt=Mt+Math.min(qt,Bt)|0;break e}var jt=Rt,Pt=Lt.j(Ft).textContent;Rt=jt+(null==Pt?"":Pt).length|0}while(zt<=Dt)}var Ut=$t(r.focusOffset-r.anchorOffset|0),Ht=di(At,Dr()),Yt=oi(document.getElementById("wysiwyg-tmp-span"),Mr());null==Yt||Yt.remove();var Gt=0,Wt=Ht.i()-1|0;if(Gt<=Wt)e:do{var Kt=Gt;Gt=Gt+1|0;var Vt=je(Ht.j(Kt).getElementsByClassName(Fr().k9_1));if(Vt.i()>Ct){var Xt=Vt.j(Ct),Jt=je(Xt.getElementsByClassName(Mr().k9_1));if(Jt.o())ri(Xt,0);else{var Zt=0,Qt=Jt.i()-1|0;if(Zt<=Qt)t:do{var en=Zt;Zt=Zt+1|0;var tn=Jt.j(en),nn=tn.textContent,rn=null==nn?"":nn;if(rn.length>=Rt){var on=ii(tn);ri(null==on?tn:on,Rt,!0),ri(null==on?tn:on,Rt+Ut|0,!1);break t}if(en===(Jt.i()-1|0)){var sn=ii(tn);ri(null==sn?tn:sn,rn.length)}else Rt=Rt-rn.length|0}while(Zt<=Qt)}break e}Ct=Ct-Vt.i()|0}while(Gt<=Wt)}}}}else t.preventDefault();else{var an,ln=Ce(r.anchorNode).textContent;if(null==ln||Ue(ln)){var un=Ce(r.focusNode).textContent;an=null==un||Ue(un)}else an=!1;if(!an)return t.preventDefault(),me;Ii(e.id);var cn=oi(r.focusNode,Fr());if(null==cn){var $n=oi(r.focusNode,Dr());null==$n&&($n=$i(Dr()),e.append($n)),cn=$i(Fr()),$n.append(cn)}var _n=$i(Mr());_n.innerHTML="<br>",cn.append(_n),ri(_n)}if("insertFromPaste"==n){t.preventDefault();var fn=t.dataTransfer.getData("text/plain"),dn=null!=fn&&"string"==typeof fn?fn:Ee();document.execCommand("insertHTML",!1,Qe(Qe(Qe(dn," ","&nbsp;"),"<","&lt;"),">","&gt;"))}a&&gi(e.id)}return me}}function lo(e){return function(t){var n,r=Ce(window.getSelection()),i=Ce(r.focusNode),o=oi(i,Mr());if(null!=o){var s=o.textContent;o.setAttribute("wysiwygContent",null==s?"":s);var a,l,u=Ce(oi(Ce(r.focusNode),Dr())),c=u.textContent,$=null==(a=null==c?null:Ge(Ye(He(c)?c:Ee())))?"":a;ze();var _=De(0);if(160<Fe(_))l=!0;else{ze();var f=De(65535);l=160>Fe(f)}if(l)throw Me("Invalid Char code: 160");var d,p=qe(160);ze();var h=De(0);if(32<Fe(h))d=!0;else{ze();var m=De(65535);d=32>Fe(m)}if(d)throw Me("Invalid Char code: 32");var g=qe(32),v=Be($,p,g),b=ft("\n{3,}").v4(v,"\n\n"),y=ft(" +\n").v4(b,"\n"),w=document.createElement("span");w.innerHTML=ti(ni(u,Dr()),!1);var x,k,E=w.textContent,A=null==(x=null==E?null:Ge(Ye(He(E)?E:Ee())))?"":x;ze();var S=De(0);if(160<Fe(S))k=!0;else{ze();var C=De(65535);k=160>Fe(C)}if(k)throw Me("Invalid Char code: 160");var O,T=qe(160);ze();var I=De(0);if(32<Fe(I))O=!0;else{ze();var R=De(65535);O=32>Fe(R)}if(O)throw Me("Invalid Char code: 32");var N=qe(32),L=Be(A,T,N),z=ft("\n{3,}").v4(L,"\n\n"),D=ft(" +\n").v4(z,"\n");if(y!==D){for(var F=di(u,Dr()),M=0;y.length>M&&D.length>M&&dt(y,(y.length-1|0)-M|0)===dt(D,(D.length-1|0)-M|0);)M=M+1|0;if(null!=t.data){var q=D.length-M|0,B=D.substring(q),j=B,P=Ge(et(He(j)?j:Ee()));if(Te(P,t.data)){var U=B;M=M-((B.length-Ge(et(He(U)?U:Ee())).length|0)+t.data.length|0)|0}else{var H=D.length-M|0,Y=B=D.substring(0,H),G=Ge(tt(He(Y)?Y:Ee()));if(Je(G,t.data)){var W=B;M=M+(B.length-Ge(tt(He(W)?W:Ee())).length|0)|0}}}var K=document,V=Ce(document.getElementById(e.id)),X=NodeFilter.SHOW_TEXT,J=K.createTreeWalker(V,X,(n=F,function(e){return _t(n,oi(e,Dr()))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT})),Z=J.lastChild(),Q=!0,ee=!0;e:for(;null!=Z;){var te=Z.textContent,ne=null==te?"":te,re=ft("\n{2,}").v4(ne,"\n");if(!Ue(re)||!Q){if(!(re.length<=M)){var ie=Z;t:for(;;){var oe;if(null!=ie){var se=ie.textContent;oe=!!Ue(null==se?"":se)||null==oi(ie,Mr())}else oe=!1;if(!oe)break t;ie=J.nextNode()}ri(null==ie?Z:ie,Ve(ie,Z)?re.length-M|0:0);break e}M=M-re.length|0}Ue(re)?(Q=ee,ee=!0):(Q=!1,ee=!1),Z=J.previousNode()}}else{var ae=o.getAttribute("wysiwygContent"),le=null==ae?"":ae;if(!Ue(le)&&(le.length-Ge(Ye(He(le)?le:Ee())).length|0)>0){var ue,ce=je(Ce(oi(o,Fr())).getElementsByClassName(Mr().k9_1)),$e=ce.l(o);if((le.length-Ge(et(He(le)?le:Ee())).length|0)>0&&$e>0){var _e=ce.j($e-1|0).getAttribute("wysiwygContent");ue=!Ue(null==_e?"":_e)}else ue=!1;if(ue){var fe=$i(Mr(),"",""," ");fe.innerHTML="&nbsp;",o.insertAdjacentElement("beforebegin",fe),ri(fe,1)}var de=Ge(Ye(He(le)?le:Ee()));o.setAttribute("wysiwygContent",de),di(o,Mr());var pe,he=t.data;if(!Ue(null==he?"":he)){var ge=Ce(ii(o));ri(ge,Ce(ge.textContent).length)}if((le.length-Ge(tt(He(le)?le:Ee())).length|0)>0){var ve,be;if(($e=ce.l(o))===(ce.i()-1|0))be=!0;else{var ye=ce.j($e+1|0).getAttribute("wysiwygContent");be=!Ue(null==ye?"":ye)}be?((ve=$i(Mr(),"",""," ")).innerHTML="&nbsp;",o.insertAdjacentElement("afterend",ve)):ve=ce.j($e+1|0);var we=Ce(ii(ve));ri(we,Ce(we.textContent).length),pe=me}pe}}}else{var xe=oi(i,Fr());null!=xe&&0===xe.getElementsByClassName(Mr().k9_1).length&&(xe.innerHTML="",me)}return gi(e.id),me}}function uo(e){return function(t){var n=t.target,r=Hi(n instanceof Node?n:Ee(),"TABLE");if(null!=r){var i=Ce(r.parentElement).firstElementChild;Yi(e),Ce(i).classList.remove("hidden")}else Yi(e);return me}}return ye(Gn,"ActionButton",be,ve),ye(Kn,"WysiwygType",be,ve),ye(Di,"ALIGN",be,ve),ye(Pi,"TableButton",be,ve),ro(),no(),document.addEventListener("click",ot(io)),e})?r.apply(t,i):r)||(e.exports=o)},896:(e,t,n)=>{"use strict";function r(e){Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(e){var t=e.klass,n=e.defs,r=[];return e.nil,e.add_stubs("new"),function(r,i,o){var s=t(r,null,"File"),a=[s].concat(o),l=e.$r(a);return n(s,"$read",(function(e){var t="",n=-1;try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.addEventListener("load",(function(){0!==(n=this.status)&&200!==n||(t=this.responseText)})),r.overrideMimeType("text/plain"),r.send()}catch(t){throw l("IOError").$new("Error reading file or directory: "+e+"; reason: "+t.message)}if(404===n||0===n&&!t)throw l("IOError").$new("No such file or directory: "+e);return t}))}(r[0],0,r)},Opal.modules["asciidoctor/js/opal_ext/browser"]=function(t){var n,r,i,o,s=t.const_set,a=t.top,l=[];if(t.nil,t.add_stubs("require"),"object"==typeof e&&"object"==typeof e.runtime){var u=e.runtime;n=u.platform,r=u.engine,i=u.framework,o=u.ioModule}return n=n||"browser",r=r||"",i=i||"",s(l[0],"JAVASCRIPT_IO_MODULE",o=o||"xmlhttprequest"),s(l[0],"JAVASCRIPT_PLATFORM",n),s(l[0],"JAVASCRIPT_ENGINE",r),s(l[0],"JAVASCRIPT_FRAMEWORK",i),a.$require("asciidoctor/js/opal_ext/browser/file")},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/abstract_node"]=function(e){var t=e.module,n=e.klass,r=e.hash2,i=e.truthy,o=e.def,s=[],a=e.nil,l=e.$$$;return e.add_stubs("web_path,path_resolver,uriish?,[],attr?,start_with?,descends_from?,base_dir,join,prepare_source_string,read,fetch,warn,logger,normalize_system_path,read_asset"),function(s,u){var c=[t(s,"Asciidoctor")].concat(u);return function(t,s,u){var c=n(t,null,"AbstractNode"),$=[c].concat(u),_=e.$r($);return c.$$prototype.document=a,o(c,"$read_contents",(function(t,n){var o=this,s=a,u=a,c=a;if(null==n&&(n=r([],{})),s=o.document,!(i(_("Helpers")["$uriish?"](t))||i(u=n["$[]"]("start"))&&i(_("Helpers")["$uriish?"](u))&&i(t=s.$path_resolver().$web_path(t,u))))return t=o.$normalize_system_path(t,n["$[]"]("start"),a,r(["target_name"],{target_name:i(c=n["$[]"]("label"))?c:"asset"})),o.$read_asset(t,r(["normalize","warn_on_failure","label"],{normalize:n["$[]"]("normalize"),warn_on_failure:n.$fetch("warn_on_failure",!0),label:n["$[]"]("label")}));if(!(i(s.$path_resolver()["$descends_from?"](t,s.$base_dir()))||i(t["$start_with?"]("chrome://"))||i(s["$attr?"]("allow-uri-read"))))return i(n.$fetch("warn_on_failure",!0))&&o.$logger().$warn("cannot retrieve contents of "+(i(c=n["$[]"]("label"))?c:"asset")+" at URI: "+t+" (allow-uri-read attribute not enabled)"),a;try{return i(n["$[]"]("normalize"))?_("Helpers").$prepare_source_string(l("File").$read(t)).$join(_("LF")):l("File").$read(t)}catch(r){if(!e.rescue(r,[_("StandardError")]))throw r;try{return i(n.$fetch("warn_on_failure",!0))&&o.$logger().$warn("could not retrieve contents of "+(i(c=n["$[]"]("label"))?c:"asset")+" at URI: "+t),a}finally{e.pop_exception()}}}),-2),o(c,"$generate_data_uri_from_uri",(function(e,t){null==t&&(t=!1);var n="",r="",i=-1;try{var o=new XMLHttpRequest;o.open("GET",e,!1),o.overrideMimeType("text/plain; charset=x-user-defined"),o.addEventListener("load",(function(){if(0===(i=this.status)||200===i){for(var e="",t=this.responseText,o=0,s=t.length;o<s;++o){var a=255&t.charCodeAt(o);e+=String.fromCharCode(a)}r=btoa(e),n=this.getResponseHeader("content-type")}})),o.send(null),n||(e.endsWith(".jpeg")||e.endsWith(".jpg")||e.endsWith(".jpe")?n="image/jpg":e.endsWith(".png")?n="image/png":e.endsWith(".svg")?n="image/svg+xml":e.endsWith(".bmp")?n="image/bmp":(e.endsWith(".tif")||e.endsWith(".tiff"))&&(n="image/tiff"))}catch(e){i=0}return 404!==i&&(0!==i||r&&n)?"data:"+n+";base64,"+r:(this.$logger().$warn("could not retrieve image data from URI: "+e),e)}),-2)}(c[0],0,c)}(s[0],s)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/open_uri"]=function(e){var t=e.module,n=e.slice,r=e.send,i=e.to_a,o=e.defs,s=[],a=e.nil;return e.add_stubs("new,path"),function(s,l){var u=[t(s,"OpenURI")].concat(l),c=e.$r(u);return o(c("OpenURI"),"$open_uri",(function t(o,s){var l,u,$=t.$$p||a;return t.$$p=null,l=n(arguments,1),u=r(c("File"),"new",[this.$path()].concat(i(l))),$!==a?e.yield1($,u):u}),-2)}(s[0],s)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/path_resolver"]=function(e){var t,n,r,i=e.module,o=e.klass,s=e.truthy,a=e.def,l=[];return e.nil,e.add_stubs("absolute_path?,start_with?"),t=l,n=[i(l[0],"Asciidoctor")].concat(t)[0],r=o(n,null,"PathResolver"),a(r,"$root?",(function(e){var t;return s(t=this["$absolute_path?"](e))?t:e["$start_with?"]("file://","http://","https://","chrome://")}))},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/reader"]=function(e){var t=e.module,n=e.klass,r=e.truthy,i=e.eqeq,o=e.not,s=e.def,a=[],l=e.nil;return e.add_stubs("posixify,new,base_dir,start_with?,uriish?,key?,attributes,descends_from?,replace_next_line,absolute_path?,==,empty?,!,slice,length"),function(a,u){var c=[t(a,"Asciidoctor")].concat(u),$=e.$r(c);return function(t,a,u){var c=n(t,a,"PreprocessorReader"),$=[c].concat(u),_=e.$r($),f=c.$$prototype;return f.path_resolver=f.document=f.include_stack=f.dir=l,s(c,"$resolve_include_path",(function(e,t,n){var s,a,u=this,c=l,$=l,f=l,d=l,p=l,h=l;if(c=(u.path_resolver=r(s=u.path_resolver)?s:_("PathResolver").$new("\\")).$posixify(e),a=["file",u.document.$base_dir()][1],r(c["$start_with?"]("file://")))$=f=c;else if(r(_("Helpers")["$uriish?"](c))){if(!r(u.path_resolver["$descends_from?"](c,a))&&!r(u.document.$attributes()["$key?"]("allow-uri-read")))return u.$replace_next_line("link:"+e+"["+t+"]");$=f=c}else if(r(u.path_resolver["$absolute_path?"](c)))$=f="file://"+(r(c["$start_with?"]("/"))?"":"/")+c;else if(i(d=r(p=u.include_stack["$empty?"]())?a:u.dir,"."))$=f=c;else if(r(d["$start_with?"]("file://"))||o(_("Helpers")["$uriish?"](d)))$=d+"/"+c,f=r(p)?c:i(a,".")||o(h=u.path_resolver["$descends_from?"]($,a))?$:$.$slice(h,$.$length());else if(r(p))$=d+"/"+(f=c);else{if(!r(h=u.path_resolver["$descends_from?"](d,a))&&!r(u.document.$attributes()["$key?"]("allow-uri-read")))return u.$replace_next_line("link:"+e+"["+t+"]");$=d+"/"+c,f=r(h)?$.$slice(h,$.$length()):c}return[$,"file",f]}))}(c[0],$("Reader"),c)}(a[0],a)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser"]=function(e){var t=e.eqeq,n=e.top,r=e.$r([]),i=e.nil;return e.add_stubs("==,require"),t(r("JAVASCRIPT_IO_MODULE"),"xmlhttprequest")?(n.$require("asciidoctor/js/asciidoctor_ext/browser/abstract_node"),n.$require("asciidoctor/js/asciidoctor_ext/browser/open_uri"),n.$require("asciidoctor/js/asciidoctor_ext/browser/path_resolver"),n.$require("asciidoctor/js/asciidoctor_ext/browser/reader")):i},Opal.modules.set=Opal.return_val(Opal.nil),Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(e){var t=e.module,n=e.slice,r=e.send,i=e.to_a,o=e.def,s=e.return_val,a=[],l=e.nil;return e.add_stubs("new"),function(a,u){var c=t(a,"Kernel"),$=[c].concat(u),_=e.$r($);return o(c,"$open",(function t(o,s){var a,u,c=t.$$p||l;return t.$$p=null,a=n(arguments,1),u=r(_("File"),"new",[o].concat(i(a))),c!==l?e.yield1(c,u):u}),-2),o(c,"$__dir__",s(""))}(a[0],a)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(e){var t=e.klass,n=e.def,r=e.truthy,i=e.gvars,o=e.return_val,s=e.defs,a=[],l=e.nil;return e.add_stubs("attr_reader,delete,gsub,read,size,to_enum,chomp,each_line,readlines,split"),function(s,a,u){var c=t(s,null,"File"),$=[c].concat(u),_=e.$r($),f=c.$$prototype;f.eof=f.path=l,c.$attr_reader("eof"),c.$attr_reader("lineno"),c.$attr_reader("path"),n(c,"$initialize",(function(e,t){var n,r=this;return null==t&&(t="r"),r.path=e,r.contents=l,r.eof=!1,r.lineno=0,n=/:(.*)/,t=(t=t.$delete("b")).$gsub(n,""),r.flags=t}),-2),n(c,"$read",(function(){var e=this,t=l;return r(e.eof)?"":(t=_("File").$read(e.path),e.eof=!0,e.lineno=t.$size(),t)})),n(c,"$each_line",(function t(n){var o=t.$$p||l,s=this,a=l;if(null==i["/"]&&(i["/"]=l),t.$$p=null,null==n&&(n=i["/"]),r(s.eof))return o!==l?s:[].$to_enum();if(o!==l){a=_("File").$read(s.path),s.eof=!1,s.lineno=0;for(var u=a.$chomp(),c=a.length!=u.length,$=u.split(n),f=0,d=$.length;f<d;f++)s.lineno+=1,f<d-1||c?e.yield1(o,$[f]+n):e.yield1(o,$[f]);return s.eof=!0,s}return s.$read().$each_line()}),-1),n(c,"$readlines",(function(){return _("File").$readlines(this.path)})),function(t,r){var s=[t].concat(r),a=e.$r(s);n(t,"$readlines",(function(e,t){return null==i["/"]&&(i["/"]=l),null==t&&(t=i["/"]),a("File").$read(e).$split(t)}),-2),n(t,"$file?",o(!0)),n(t,"$readable?",o(!0)),n(t,"$read",o(""))}(e.get_singleton_class(c),$)}(a[0],0,a),function(n,r,i){var o=t(n,null,"IO"),a=[o].concat(i),l=e.$r(a);return s(o,"$read",(function(e){return l("File").$read(e)}))}(a[0],0,a)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(e){var t,n=e.klass,r=e.send,i=e.def,o=e.nil;return e.add_stubs("[]="),(t=n([][0],null,"MatchData")).$$prototype.matches=o,i(t,"$[]=",(function(e,t){var n;return n=[e,t],r(this.matches,"[]=",n),n[n.length-1]}))},Opal.modules["asciidoctor/js/opal_ext/string"]=function(e){var t,n=e.klass,r=e.truthy,i=e.rb_lt,o=e.def,s=e.alias,a=e.rb_ge,l=e.eqeq,u=e.rb_minus,c=e.nil;return e.add_stubs("method_defined?,<,length,bytes,to_s,byteslice,limit_bytesize,>=,==,-,_original_byteslice,unpack,_original_unpack"),t=n([][0],null,"String"),r(t["$method_defined?"]("limit_bytesize"))||o(t,"$limit_bytesize",(function(e){var t=this;return r(i(e,t.$bytes().$length()))?t.$byteslice(0,e).$to_s():t.$to_s()})),r(t["$method_defined?"]("limit"))||s(t,"limit","limit_bytesize"),s(t,"_original_byteslice","byteslice"),o(t,"$byteslice",(function(e,t){var n=this;return null==t&&(t=1),l(e,3)&&r(a(t,e))&&r(65279===n.charCodeAt())?n.substr(1).$byteslice(0,u(t,3)):n.$_original_byteslice(e,t)}),-2),s(t,"_original_unpack","unpack"),o(t,"$unpack",(function(e){var t=this;if(l(e,"C3")){if(r(65279===t.charCodeAt()))return[239,187,191];for(var n=[],i=0;i<3;i++)i<t.length?n.push(t.charCodeAt(i)):n.push(c);return n}return t.$_original_unpack(e)}))},Opal.modules["asciidoctor/js/opal_ext/uri"]=function(e){var t=e.module,n=e.defs,r=e.return_self,i=e.def,o=[];return e.nil,e.add_stubs("extend"),function(o,s){var a=t(o,"URI"),l=[a].concat(s),u=e.$r(l);return n(a,"$parse",(function(e){return e.$extend(u("URI"))})),i(a,"$path",r)}(o[0],o)},Opal.modules["asciidoctor/js/opal_ext/base64"]=function(e){var t,n,r,i=e.module,o=e.defs,s=e.ensure_kwargs,a=e.truthy,l=e.nil;return e.add_stubs("delete"),r=i([][0],"Base64"),t=e.global.btoa||function(e){return(e instanceof Buffer?e:Buffer.from(e.toString(),"binary")).toString("base64")},n=e.global.atob||function(e){return Buffer.from(e,"base64").toString("binary")},o(r,"$decode64",(function(e){return n(e.replace(/\r?\n/g,""))})),o(r,"$encode64",(function(e){return t(e).replace(/(.{60})/g,"$1\n").replace(/([^\n])$/g,"$1\n")})),o(r,"$strict_decode64",(function(e){return n(e)})),o(r,"$strict_encode64",(function(e){return t(e)})),o(r,"$urlsafe_decode64",(function(e){return n(e.replace(/\-/g,"+").replace(/_/g,"/"))})),o(r,"$urlsafe_encode64",(function(e,n){var r,i=l;return null==(r=(n=s(n)).$$smap.padding)&&(r=!0),i=t(e).replace(/\+/g,"-").replace(/\//g,"_"),a(r)||(i=i.$delete("=")),i}),-2)},Opal.modules["asciidoctor/js/opal_ext/number"]=function(e){var t=e.klass,n=e.truthy,r=e.rb_gt,i=e.def,o=[],s=e.$r(o);return e.nil,e.add_stubs("coerce_to!,>"),function(o,s,a){var l=t(o,s,"Number"),u=[l].concat(a),c=e.$r(u);return i(l,"$round",(function(e){return e=c("Opal")["$coerce_to!"](e,c("Integer"),"to_int"),n(r(e,0))?Number(this.toFixed(e)):Math.round(this)}),-1)}(o[0],s("Numeric"),o)},Opal.modules["asciidoctor/js/opal_ext"]=function(e){var t=e.top;e.nil,e.add_stubs("require"),t.$require("asciidoctor/js/opal_ext/kernel"),t.$require("asciidoctor/js/opal_ext/file"),t.$require("asciidoctor/js/opal_ext/match_data"),t.$require("asciidoctor/js/opal_ext/string"),t.$require("asciidoctor/js/opal_ext/uri"),t.$require("asciidoctor/js/opal_ext/base64"),t.$require("asciidoctor/js/opal_ext/number"),e.config.unsupported_features_severity="ignore",t.$require("asciidoctor/js/opal_ext/browser")},Opal.modules["asciidoctor/js/rx"]=function(e){var t=e.module,n=e.const_set,r=e.send,i=e.gvars,o=e.truthy,s=e.defs,a=e.rb_plus,l=[],u=e.nil;return e.add_stubs("gsub,+,unpack_hex_range"),function(l,c){var $=t(l,"Asciidoctor"),_=[$].concat(c),f=e.$r(_);return n(_[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/),s($,"$unpack_hex_range",(function(e){return r(e,"gsub",[f("HEX_RANGE_RX")],(function(){var e,t;return"\\u"+((e=i["~"])===u?u:e["$[]"](1))+(o(t=(e=i["~"])===u?u:e["$[]"](2))?"-\\u"+((e=i["~"])===u?u:e["$[]"](2)):t)}))})),n(_[0],"P_L",a("A-Za-z",$.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"))),n(_[0],"P_Nl",$.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF")),n(_[0],"P_Nd",a("0-9",$.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19"))),n(_[0],"P_Pc",$.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F")),n(_[0],"CC_ALPHA",""+f("P_L")+f("P_Nl")),n(_[0],"CG_ALPHA","["+f("CC_ALPHA")+"]"),n(_[0],"CC_ALNUM",""+f("CC_ALPHA")+f("P_Nd")),n(_[0],"CG_ALNUM","["+f("CC_ALNUM")+"]"),n(_[0],"CC_WORD",""+f("CC_ALNUM")+f("P_Pc")),n(_[0],"CG_WORD","["+f("CC_WORD")+"]"),n(_[0],"CG_BLANK","[ \\t]"),n(_[0],"CC_EOL","(?=\\n|$)"),n(_[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),n(_[0],"CC_ALL","[\\s\\S]"),n(_[0],"CC_ANY","[^\\n]")}(l[0],l)},Opal.modules.strscan=function(e){var t=e.klass,n=e.def,r=e.truthy,i=e.eqeqeq,o=e.Opal,s=e.return_ivar,a=e.send,l=e.alias,u=[],c=e.nil;return e.add_stubs("attr_reader,anchor,empty?,===,to_s,coerce_to!,scan_until,length,size,rest,pos=,beginning_of_line?,get_byte,private"),function(u,$,_){var f=t(u,null,"StringScanner"),d=[f].concat(_),p=e.$r(d),h=f.$$prototype;return h.pos=h.string=h.working=h.matched=h.prev_pos=h.match=c,f.$attr_reader("pos","matched"),n(f,"$initialize",(function(e){var t=this;return t.string=e,t.pos=0,t.matched=c,t.working=e,t.match=[]})),f.$attr_reader("string"),n(f,"$beginning_of_line?",(function(){var e=this;return 0===e.pos||"\n"===e.string.charAt(e.pos-1)})),n(f,"$scan",(function(e){var t=this,n=(e=t.$anchor(e)).exec(t.working);return null==n?t.matched=c:(t.prev_pos=t.pos,t.pos+=n[0].length,t.working=t.working.substring(n[0].length),t.matched=n[0],t.match=n,n[0])})),n(f,"$scan_until",(function(e){var t=this;e=t.$anchor(e);for(var n=t.working,r=0;n.length!=r;++r){var i=e.exec(n.substr(r));if(null!==i){var o=r+i[0].length,s=n.substr(0,o);return t.matched=i[0],t.match=i,t.prev_pos=t.pos+r,t.pos+=o,t.working=n.substr(o),s}}return t.matched=c})),n(f,"$[]",(function(e){var t;if(r(this.match["$empty?"]()))return c;i(p("Symbol"),t=e)?e=e.$to_s():i(p("String"),t)||(e=o["$coerce_to!"](e,p("Integer"),"to_int"));var n=this.match;return e<0&&(e+=n.length),e<0||e>=n.length||null==n[e]?c:n[e]})),n(f,"$check",(function(e){var t=this,n=(e=t.$anchor(e)).exec(t.working);return t.matched=null==n?c:n[0]})),n(f,"$check_until",(function(e){var t=this,n=t.prev_pos,r=t.pos,i=t.working,o=t.$scan_until(e);return t.prev_pos=n,t.pos=r,t.working=i,o})),n(f,"$peek",(function(e){return this.working.substring(0,e)})),n(f,"$eos?",(function(){return 0===this.working.length})),n(f,"$exist?",(function(e){var t=e.exec(this.working);return null==t?c:0==t.index?0:t.index+1})),n(f,"$skip",(function(e){var t=this,n=(e=t.$anchor(e)).exec(t.working);if(null==n)return t.match=[],t.matched=c;var r=n[0],i=r.length;return t.matched=r,t.match=n,t.prev_pos=t.pos,t.pos+=i,t.working=t.working.substring(i),i})),n(f,"$skip_until",(function(e){var t=this.$scan_until(e);return t===c?c:(this.matched=t.substr(-1),t.length)})),n(f,"$get_byte",(function(){var e=this,t=c;return e.pos<e.string.length?(e.prev_pos=e.pos,e.pos+=1,t=e.matched=e.working.substring(0,1),e.working=e.working.substring(1)):e.matched=c,t})),n(f,"$match?",(function(e){var t=this,n=(e=t.$anchor(e)).exec(t.working);return null==n?c:(t.prev_pos=t.pos,n[0].length)})),n(f,"$pos=",(function(e){var t=this;return e<0&&(e+=t.string.$length()),t.pos=e,t.working=t.string.slice(e)})),n(f,"$matched_size",(function(){return this.matched===c?c:this.matched.length})),n(f,"$post_match",(function(){var e=this;return e.matched===c?c:e.string.substr(e.pos)})),n(f,"$pre_match",(function(){var e=this;return e.matched===c?c:e.string.substr(0,e.prev_pos)})),n(f,"$reset",(function(){var e=this;return e.working=e.string,e.matched=c,e.pos=0})),n(f,"$rest",s("working")),n(f,"$rest?",(function(){return 0!==this.working.length})),n(f,"$rest_size",(function(){return this.$rest().$size()})),n(f,"$terminate",(function(){var e,t=this;return t.match=c,e=[t.string.$length()],a(t,"pos=",e),e[e.length-1]})),n(f,"$unscan",(function(){var e=this;return e.pos=e.prev_pos,e.prev_pos=c,e.match=c,e})),l(f,"bol?","beginning_of_line?"),l(f,"getch","get_byte"),f.$private(),n(f,"$anchor",(function(e){var t=e.toString().match(/\/([^\/]+)$/);return t=t?t[1]:void 0,new RegExp("^(?:"+e.source+")",t)}))}(u[0],0,u)},Opal.modules["asciidoctor/js"]=function(e){var t=e.top;return e.nil,e.add_stubs("require"),t.$require("asciidoctor/js/opal_ext"),t.$require("asciidoctor/js/rx"),t.$require("strscan")},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(e){var t,n=e.klass,r=e.truthy,i=e.alias,o=[],s=e.nil;return e.add_stubs("method_defined?,nil?,empty?"),t=n(o[0],null,"NilClass"),r(t["$method_defined?"]("nil_or_empty?"))||i(t,"nil_or_empty?","nil?"),function(e,t){var o=n(e,null,"String");r(o["$method_defined?"]("nil_or_empty?"))||i(o,"nil_or_empty?","empty?")}(o[0]),function(e,t){var o=n(e,null,"Array");r(o["$method_defined?"]("nil_or_empty?"))||i(o,"nil_or_empty?","empty?")}(o[0]),function(e,t){var o=n(e,null,"Hash");r(o["$method_defined?"]("nil_or_empty?"))||i(o,"nil_or_empty?","empty?")}(o[0]),function(e,t){var o=n(e,null,"Numeric");return r(o["$method_defined?"]("nil_or_empty?"))?s:i(o,"nil_or_empty?","nil?")}(o[0])},Opal.modules["asciidoctor/core_ext/hash/merge"]=function(e){var t=e.eqeq,n=e.send,r=e.slice,i=e.truthy,o=e.rb_lt,s=e.rb_gt,a=e.send2,l=e.find_super,u=e.def,c=e.top,$=e.$r([]),_=e.nil;return e.add_stubs("==,arity,instance_method,send,new,<,length,dup,>,inject,merge,[]"),t($("Hash").$instance_method("merge").$arity(),1)?$("Hash").$send("prepend",n($("Module"),"new",[],(function e(){return u(null==e.$$s?this:e.$$s,"$merge",(function e(t){var u,c,$,f=this;return e.$$p=null,u=r(arguments),i(o($=(c=u).$length(),1))?f.$dup():i(s($,1))?n(c,"inject",[f],(function(e,t){return null==e&&(e=_),null==t&&(t=_),e.$merge(t)})):a(f,l(f,"merge",e,!1,!0),"merge",[c["$[]"](0)],null)}),-1)}),{$$s:c})):_},Opal.modules["asciidoctor/core_ext/match_data/names"]=function(e){var t=e.truthy,n=e.klass,r=e.def,i=[],o=e.$r(i),s=e.nil;return e.add_stubs("method_defined?"),t(o("MatchData")["$method_defined?"]("names"))?s:r(n(i[0],null,"MatchData"),"$names",(function(){return[]}))},Opal.modules["asciidoctor/core_ext"]=function(e){var t=e.top;return e.nil,t.$require("asciidoctor/core_ext.rb/../core_ext/nil_or_empty"),t.$require("asciidoctor/core_ext.rb/../core_ext/hash/merge"),t.$require("asciidoctor/core_ext.rb/../core_ext/match_data/names")},Opal.modules["asciidoctor/helpers"]=function(e){var t=e.module,n=e.truthy,r=e.eqeq,i=e.gvars,o=e.def,s=e.send,a=e.neqeq,l=e.const_set,u=e.hash2,c=e.to_ary,$=e.rb_times,_=e.eqeqeq,f=e.rb_plus,d=e.Class,p=e.Object,h=[],m=e.nil,g=e.$$$;return e.add_stubs("module_function,require,include?,include,==,path,message,raise,warn,logger,chomp,empty?,slice,unpack,[],[]=,byteslice,bytesize,map,rstrip,encode,encoding,nil_or_empty?,!=,tap,each_line,<<,!,start_with?,match?,gsub,rindex,index,basename,extname,length,directory?,dirname,mkdir_p,mkdir,private_constant,join,divmod,*,===,+,to_s,to_i,succ,class_for_name,const_get"),function(h,v){var b=[t(h,"Asciidoctor")].concat(v);return function(h,v){var b=t(h,"Helpers"),y=[b].concat(v),w=e.$r(y);return b.$module_function(),o(b,"$require_library",(function(t,o,s){var a=this,l=m;null==i["!"]&&(i["!"]=m),null==o&&(o=!0),null==s&&(s="abort");try{return a.$require(t)}catch(u){if(!e.rescue(u,[g("LoadError")]))throw u;try{if(n(a["$include?"](w("Logging")))||a.$include(w("Logging")),n(o))switch(r(o,!0)&&(o=t),s){case"abort":l=r(i["!"].$path(),o)?"":" (reason: "+(n(i["!"].$path())?"cannot load '"+i["!"].$path()+"'":i["!"].$message())+")",a.$raise(g("LoadError"),"asciidoctor: FAILED: required gem '"+o+"' is not available"+l+". Processing aborted.");break;case"warn":l=r(i["!"].$path(),o)?"":" (reason: "+(n(i["!"].$path())?"cannot load '"+i["!"].$path()+"'":i["!"].$message())+")",a.$logger().$warn("optional gem '"+o+"' is not available"+l+". Functionality disabled.")}else switch(s){case"abort":a.$raise(g("LoadError"),"asciidoctor: FAILED: "+i["!"].$message().$chomp(".")+". Processing aborted.");break;case"warn":a.$logger().$warn(i["!"].$message().$chomp(".")+". Functionality disabled.")}return m}finally{e.pop_exception()}}}),-2),o(b,"$prepare_source_array",(function(e,t){var i,o=m,a=m;return null==t&&(t=!0),n(e["$empty?"]())?[]:r(i=(o=(a=e["$[]"](0)).$unpack("C3")).$slice(0,2),w("BOM_BYTES_UTF_16LE"))?(e["$[]="](0,a.$byteslice(2,a.$bytesize())),n(t)?s(e,"map",[],(function(e){return null==e&&(e=m),e.$encode(w("UTF_8"),g(g("Encoding"),"UTF_16LE")).$rstrip()})):s(e,"map",[],(function(e){return null==e&&(e=m),e.$encode(w("UTF_8"),g(g("Encoding"),"UTF_16LE")).$chomp()}))):r(i,w("BOM_BYTES_UTF_16BE"))?(e["$[]="](0,a.$byteslice(2,a.$bytesize())),n(t)?s(e,"map",[],(function(e){return null==e&&(e=m),e.$encode(w("UTF_8"),g(g("Encoding"),"UTF_16BE")).$rstrip()})):s(e,"map",[],(function(e){return null==e&&(e=m),e.$encode(w("UTF_8"),g(g("Encoding"),"UTF_16BE")).$chomp()}))):(r(o,w("BOM_BYTES_UTF_8"))&&e["$[]="](0,a.$byteslice(3,a.$bytesize())),r(a.$encoding(),w("UTF_8"))?n(t)?s(e,"map",[],(function(e){return null==e&&(e=m),e.$rstrip()})):s(e,"map",[],(function(e){return null==e&&(e=m),e.$chomp()})):n(t)?s(e,"map",[],(function(e){return null==e&&(e=m),e.$encode(w("UTF_8")).$rstrip()})):s(e,"map",[],(function(e){return null==e&&(e=m),e.$encode(w("UTF_8")).$chomp()})))}),-2),o(b,"$prepare_source_string",(function(e,t){var i,o=m;return null==t&&(t=!0),n(e["$nil_or_empty?"]())?[]:(r(i=(o=e.$unpack("C3")).$slice(0,2),w("BOM_BYTES_UTF_16LE"))?e=e.$byteslice(2,e.$bytesize()).$encode(w("UTF_8"),g(g("Encoding"),"UTF_16LE")):r(i,w("BOM_BYTES_UTF_16BE"))?e=e.$byteslice(2,e.$bytesize()).$encode(w("UTF_8"),g(g("Encoding"),"UTF_16BE")):r(o,w("BOM_BYTES_UTF_8"))?(e=e.$byteslice(3,e.$bytesize()),r(e.$encoding(),w("UTF_8"))||(e=e.$encode(w("UTF_8")))):a(e.$encoding(),w("UTF_8"))&&(e=e.$encode(w("UTF_8"))),n(t)?s([],"tap",[],(function(t){return null==t&&(t=m),s(e,"each_line",[],(function(e){return null==e&&(e=m),t["$<<"](e.$rstrip())}))})):s([],"tap",[],(function(t){return null==t&&(t=m),s(e,"each_line",[],(function(e){return null==e&&(e=m),t["$<<"](e.$chomp())}))})))}),-2),r(g("RUBY_ENGINE"),"jruby")?o(b,"$uriish?",(function(e){var t,r;return n(t=n(r=e["$include?"](":"))?e["$start_with?"]("uri:classloader:")["$!"]():r)?w("UriSniffRx")["$match?"](e):t})):o(b,"$uriish?",(function(e){var t;return n(t=e["$include?"](":"))?w("UriSniffRx")["$match?"](e):t})),o(b,"$encode_uri_component",(function(e){return encodeURIComponent(e).replace(/%20|[!'()*]/g,(function(e){return"%20"===e?"+":"%"+e.charCodeAt(0).toString(16)}))})),o(b,"$encode_spaces_in_uri",(function(e){return n(e["$include?"](" "))?e.$gsub(" ","%20"):e})),o(b,"$rootname",(function(e){var t;return n(t=e.$rindex("."))?n(e.$index("/",t))?e:e.$slice(0,t):e})),o(b,"$basename",(function(e,t){return null==t&&(t=m),n(t)?g("File").$basename(e,r(t,!0)?this.$extname(e):t):g("File").$basename(e)}),-2),o(b,"$extname?",(function(e){var t,r;return n(t=r=e.$rindex("."))?e.$index("/",r)["$!"]():t})),n(g(g("File"),"ALT_SEPARATOR"))?o(b,"$extname",(function(e,t){var r;return null==t&&(t=""),n(r=e.$rindex("."))?n(e.$index("/",r))||n(e.$index(g(g("File"),"ALT_SEPARATOR"),r))?t:e.$slice(r,e.$length()):t}),-2):o(b,"$extname",(function(e,t){var r;return null==t&&(t=""),n(r=e.$rindex("."))?n(e.$index("/",r))?t:e.$slice(r,e.$length()):t}),-2),o(b,"$mkdir_p",(function(t){var i;if(n(g("File")["$directory?"](t)))return m;r(i=g("File").$dirname(t),".")||this.$mkdir_p(i);try{return g("Dir").$mkdir(t)}catch(r){if(!e.rescue(r,[g("SystemCallError")]))throw r;try{return n(g("File")["$directory?"](t))?m:this.$raise()}finally{e.pop_exception()}}})),l(y[0],"ROMAN_NUMERALS",u(["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],{M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1})),b.$private_constant("ROMAN_NUMERALS"),o(b,"$int_to_roman",(function(e){return s(w("ROMAN_NUMERALS"),"map",[],(function(t,n){var r,i,o;return null==t&&(t=m),null==n&&(n=m),i=e.$divmod(n),o=null==(r=c(i))[0]?m:r[0],e=null==r[1]?m:r[1],$(t,o)})).$join()})),o(b,"$nextval",(function(e){var t=m;return _(g("Integer"),e)?f(e,1):r((t=e.$to_i()).$to_s(),e.$to_s())?f(t,1):e.$succ()})),o(b,"$resolve_class",(function(e){return _(d,e)?e:_(g("String"),e)?this.$class_for_name(e):m})),o(b,"$class_for_name",(function(t){var n=m;try{return _(d,n=p.$const_get(t,!1))||this.$raise(),n}catch(n){if(!e.rescue(n,[w("StandardError")]))throw n;try{return this.$raise(g("NameError"),"Could not resolve class for name: "+t)}finally{e.pop_exception()}}}))}(b[0],b)}(h[0],h)},Opal.modules.logger=function(e){var t=e.klass,n=e.module,r=e.const_set,i=e.send,o=e.def,s=e.eqeqeq,a=e.rb_plus,l=e.truthy,u=e.rb_le,c=e.rb_lt,$=[],_=e.nil,f=e.$$$;return e.add_stubs("include,to_h,map,constants,const_get,to_s,format,chr,strftime,message_as_string,===,+,message,class,join,backtrace,inspect,attr_reader,attr_accessor,new,key,upcase,raise,add,to_proc,<=,<,write,call,[],now"),function($,d,p){var h=t($,null,"Logger"),m=[h].concat(p),g=e.$r(m),v=h.$$prototype;return v.level=v.progname=v.pipe=v.formatter=_,function(e,t){var i=[n(e,"Severity")].concat(t);r(i[0],"DEBUG",0),r(i[0],"INFO",1),r(i[0],"WARN",2),r(i[0],"ERROR",3),r(i[0],"FATAL",4),r(i[0],"UNKNOWN",5)}(m[0],m),h.$include(g("Severity")),r(m[0],"SEVERITY_LABELS",i(g("Severity").$constants(),"map",[],(function(e){return null==e&&(e=_),[g("Severity").$const_get(e),e.$to_s()]})).$to_h()),function(n,i,u){var c=t(n,null,"Formatter"),$=[c].concat(u),d=e.$r($);r($[0],"MESSAGE_FORMAT","%s, [%s] %5s -- %s: %s\n"),r($[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N"),o(c,"$call",(function(e,t,n,r){return this.$format(d("MESSAGE_FORMAT"),e.$chr(),t.$strftime(d("DATE_TIME_FORMAT")),e,n,this.$message_as_string(r))})),o(c,"$message_as_string",(function(e){var t,n=_;return s(f("String"),t=e)?e:s(f("Exception"),t)?a(e.$message()+" ("+e.$class()+")\n",(l(n=e.$backtrace())?n:[]).$join("\n")):e.$inspect()}))}(m[0],0,m),h.$attr_reader("level"),h.$attr_accessor("progname"),h.$attr_accessor("formatter"),o(h,"$initialize",(function(e){var t=this;return t.pipe=e,t.level=g("DEBUG"),t.formatter=g("Formatter").$new()})),o(h,"$level=",(function(e){var t=this,n=_;return s(f("Integer"),e)?t.level=e:l(n=g("SEVERITY_LABELS").$key(e.$to_s().$upcase()))?t.level=n:t.$raise(g("ArgumentError"),"invalid log level: "+e)})),o(h,"$info",(function e(t){var n=e.$$p||_;return e.$$p=null,null==t&&(t=_),i(this,"add",[g("INFO"),_,t],n.$to_proc())}),-1),o(h,"$debug",(function e(t){var n=e.$$p||_;return e.$$p=null,null==t&&(t=_),i(this,"add",[g("DEBUG"),_,t],n.$to_proc())}),-1),o(h,"$warn",(function e(t){var n=e.$$p||_;return e.$$p=null,null==t&&(t=_),i(this,"add",[g("WARN"),_,t],n.$to_proc())}),-1),o(h,"$error",(function e(t){var n=e.$$p||_;return e.$$p=null,null==t&&(t=_),i(this,"add",[g("ERROR"),_,t],n.$to_proc())}),-1),o(h,"$fatal",(function e(t){var n=e.$$p||_;return e.$$p=null,null==t&&(t=_),i(this,"add",[g("FATAL"),_,t],n.$to_proc())}),-1),o(h,"$unknown",(function e(t){var n=e.$$p||_;return e.$$p=null,null==t&&(t=_),i(this,"add",[g("UNKNOWN"),_,t],n.$to_proc())}),-1),o(h,"$info?",(function(){return u(this.level,g("INFO"))})),o(h,"$debug?",(function(){return u(this.level,g("DEBUG"))})),o(h,"$warn?",(function(){return u(this.level,g("WARN"))})),o(h,"$error?",(function(){return u(this.level,g("ERROR"))})),o(h,"$fatal?",(function(){return u(this.level,g("FATAL"))})),o(h,"$add",(function t(n,r,i){var o=t.$$p||_,s=this,a=_;return t.$$p=null,null==r&&(r=_),null==i&&(i=_),l(c(n=l(a=n)?a:g("UNKNOWN"),s.level))||(i=l(a=i)?a:s.progname,l(r)||(o!==_?r=e.yieldX(o,[]):(r=i,i=s.progname)),s.pipe.$write(s.formatter.$call(l(a=g("SEVERITY_LABELS")["$[]"](n))?a:"ANY",f("Time").$now(),i,r))),!0}),-2)}($[0],0,$)},Opal.modules["asciidoctor/logging"]=function(e){var t=e.module,n=e.klass,r=e.slice,i=e.send2,o=e.find_super,s=e.to_a,a=e.send,l=e.def,u=e.truthy,c=e.rb_gt,$=e.const_set,_=e.hash2,f=e.eqeqeq,d=e.gvars,p=e.alias,h=e.defs,m=e.top,g=[],v=e.nil,b=e.$$$;return e.add_stubs("require,attr_reader,progname=,formatter=,new,level=,>,[],===,inspect,to_h,map,constants,const_get,<<,clear,empty?,max,attr_accessor,memoize_logger,private,logger,extend,private_class_method,merge"),m.$require("logger"),function(m,g){var y=[t(m,"Asciidoctor")].concat(g);return function(d,p,h){var m=n(d,p,"Logger"),g=[m].concat(h),y=e.$r(g);m.$$prototype.max_severity=v,m.$attr_reader("max_severity"),l(m,"$initialize",(function e(t){var n,l,u=e.$$p||v,c=this;return e.$$p=null,n=r(arguments),i(c,o(c,"initialize",e,!1,!0),"initialize",s(n),u),c["$progname="]("asciidoctor"),c["$formatter="](y("BasicFormatter").$new()),l=[y("WARN")],a(c,"level=",l),l[l.length-1]}),-1),l(m,"$add",(function e(t,n,r){var s=e.$$p||v,a=this,l=v;return e.$$p=null,null==n&&(n=v),null==r&&(r=v),u(c(t=u(l=t)?l:y("UNKNOWN"),a.max_severity=u(l=a.max_severity)?l:t))&&(a.max_severity=t),i(a,o(a,"add",e,!1,!0),"add",[t,n,r],s)}),-2),function(t,r,i){var o=n(t,r,"BasicFormatter"),s=[o].concat(i),a=e.$r(s);$(s[0],"SEVERITY_LABEL_SUBSTITUTES",_(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"})),l(o,"$call",(function(e,t,n,r){var i;return n+": "+(u(i=a("SEVERITY_LABEL_SUBSTITUTES")["$[]"](e))?i:e)+": "+(f(b("String"),r)?r:r.$inspect())+a("LF")}))}(g[0],y("Formatter"),g),function(e){var n=t(e,"AutoFormattingMessage");l(n,"$inspect",(function(){var e,t=this;return u(e=t["$[]"]("source_location"))?e+": "+t["$[]"]("text"):t["$[]"]("text")}))}(g[0])}(y[0],b("Logger"),y),function(t,r,i){var o=n(t,r,"MemoryLogger"),s=[o].concat(i),c=e.$r(s);o.$$prototype.messages=v,$(s[0],"SEVERITY_SYMBOL_BY_VALUE",a(c("Severity").$constants(!1),"map",[],(function(e){return null==e&&(e=v),[c("Severity").$const_get(e),e]})).$to_h()),o.$attr_reader("messages"),l(o,"$initialize",(function(){return this["$level="](c("WARN")),this.messages=[]})),l(o,"$add",(function t(n,r,i){var o=t.$$p||v,s=v;return t.$$p=null,null==r&&(r=v),null==i&&(i=v),r=u(s=r)?s:o!==v?e.yieldX(o,[]):i,this.messages["$<<"](_(["severity","message"],{severity:c("SEVERITY_SYMBOL_BY_VALUE")["$[]"](u(s=n)?s:c("UNKNOWN")),message:r})),!0}),-2),l(o,"$clear",(function(){return this.messages.$clear()})),l(o,"$empty?",(function(){return this.messages["$empty?"]()})),l(o,"$max_severity",(function(){return u(this["$empty?"]())?v:a(this.messages,"map",[],(function(e){return null==e&&(e=v),c("Severity").$const_get(e["$[]"]("severity"))})).$max()}))}(y[0],b("Logger"),y),function(t,r,i){var o=n(t,r,"NullLogger"),s=[o].concat(i),$=e.$r(s);o.$$prototype.max_severity=v,o.$attr_reader("max_severity"),l(o,"$initialize",(function(){var e;return e=[$("WARN")],a(this,"level=",e),e[e.length-1]})),l(o,"$add",(function(e,t,n){var r=this,i=v;return null==t&&(t=v),null==n&&(n=v),u(c(e=u(i=e)?i:$("UNKNOWN"),r.max_severity=u(i=r.max_severity)?i:e))&&(r.max_severity=e),!0}),-2)}(y[0],b("Logger"),y),function(n,r){var i=t(n,"LoggerManager"),o=[i].concat(r),s=e.$r(o);i.logger_class=s("Logger"),function(t,n){[t].concat(n),t.$attr_accessor("logger_class"),l(t,"$logger",(function(e){var t,n=this;return null==n.logger&&(n.logger=v),null==n.logger_class&&(n.logger_class=v),null==d.stderr&&(d.stderr=v),null==e&&(e=d.stderr),n.$memoize_logger(),n.logger=u(t=n.logger)?t:n.logger_class.$new(e)}),-1),l(t,"$logger=",(function(e){var t,n=this;return null==n.logger_class&&(n.logger_class=v),null==d.stderr&&(d.stderr=v),n.logger=u(t=e)?t:n.logger_class.$new(d.stderr)})),t.$private(),l(t,"$memoize_logger",(function(){return function(e,t){return p(e,"logger","logger"),e.$attr_reader("logger")}(e.get_singleton_class(this))}))}(e.get_singleton_class(i),o)}(y[0],y),function(n,r){var i=t(n,"Logging"),o=[i].concat(r),s=e.$r(o);return h(i,"$included",(function(e){return e.$extend(s("Logging"))})),i.$private_class_method("included"),l(i,"$logger",(function(){return s("LoggerManager").$logger()})),l(i,"$message_with_context",(function(e,t){return null==t&&(t=_([],{})),_(["text"],{text:e}).$merge(t).$extend(b(s("Logger"),"AutoFormattingMessage"))}),-2)}(y[0],y)}(g[0],g)},Opal.modules["asciidoctor/rx"]=function(e){var t=e.module,n=e.const_set,r=e.regexp,i=e.hash2,o=e.send,s=e.truthy,a=e.hash,l=[],u=e.nil,c=e.$$$;return e.add_stubs("join,to_a,new,[]=,empty?,escape"),function(l,$){var _=[t(l,"Asciidoctor")].concat($),f=e.$r(_);return t(_[0],"Rx"),n(_[0],"AuthorInfoLineRx",r(["^(",f("CG_WORD"),"[",f("CC_WORD"),"\\-'.]*)(?: +(",f("CG_WORD"),"[",f("CC_WORD"),"\\-'.]*))?(?: +(",f("CG_WORD"),"[",f("CC_WORD"),"\\-'.]*))?(?: +<([^>]+)>)?$"])),n(_[0],"AuthorDelimiterRx",/;(?: |$)/),n(_[0],"RevisionInfoLineRx",r(["^(?:[^\\d{]*(",f("CC_ANY"),"*?),)? *(?!:)(",f("CC_ANY"),"*?)(?: *(?!^),?: *(",f("CC_ANY"),"*))?$"])),n(_[0],"ManpageTitleVolnumRx",r(["^(",f("CC_ANY"),"+?) *\\( *(",f("CC_ANY"),"+?) *\\)$"])),n(_[0],"ManpageNamePurposeRx",r(["^(",f("CC_ANY"),"+?) +- +(",f("CC_ANY"),"+)$"])),n(_[0],"ConditionalDirectiveRx",r(["^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[(",f("CC_ANY"),"+)?\\]$"])),n(_[0],"EvalExpressionRx",r(["^(",f("CC_ANY"),"+?) *([=!><]=|[><]) *(",f("CC_ANY"),"+)$"])),n(_[0],"IncludeDirectiveRx",r(["^(\\\\)?include::([^\\s\\[](?:[^\\[]*[^\\s\\[])?)\\[(",f("CC_ANY"),"+)?\\]$"])),n(_[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m),n(_[0],"AttributeEntryRx",r(["^:(!?",f("CG_WORD"),"[^:]*):(?:[ \\t]+(",f("CC_ANY"),"*))?$"])),n(_[0],"InvalidAttributeNameCharsRx",r(["[^",f("CC_WORD"),"-]"])),n(_[0],"AttributeEntryPassMacroRx",r(["^pass:([a-z]+(?:,[a-z-]+)*)?\\[(",f("CC_ALL"),"*)\\]$"])),n(_[0],"AttributeReferenceRx",r(["(\\\\)?\\{(",f("CG_WORD"),"[",f("CC_WORD"),"-]*|(set|counter2?):",f("CC_ANY"),"+?)(\\\\)?\\}"])),n(_[0],"BlockAnchorRx",r(["^\\[\\[(?:|([",f("CC_ALPHA"),"_:][",f("CC_WORD"),"\\-:.]*)(?:, *(",f("CC_ANY"),"+))?)\\]\\]$"])),n(_[0],"BlockAttributeListRx",r(["^\\[(|[",f("CC_WORD"),".#%{,\"']",f("CC_ANY"),"*)\\]$"])),n(_[0],"BlockAttributeLineRx",r(["^\\[(?:|[",f("CC_WORD"),".#%{,\"']",f("CC_ANY"),"*|\\[(?:|[",f("CC_ALPHA"),"_:][",f("CC_WORD"),"\\-:.]*(?:, *",f("CC_ANY"),"+)?)\\])\\]$"])),n(_[0],"BlockTitleRx",r(["^\\.(\\.?[^ \\t.]",f("CC_ANY"),"*)$"])),n(_[0],"AdmonitionParagraphRx",r(["^(",f("ADMONITION_STYLES").$to_a().$join("|"),"):[ \\t]+"])),n(_[0],"LiteralParagraphRx",r(["^([ \\t]+",f("CC_ANY"),"*)$"])),n(_[0],"AtxSectionTitleRx",r(["^(=={0,5})[ \\t]+(",f("CC_ANY"),"+?)(?:[ \\t]+\\1)?$"])),n(_[0],"ExtAtxSectionTitleRx",r(["^(=={0,5}|#\\#{0,5})[ \\t]+(",f("CC_ANY"),"+?)(?:[ \\t]+\\1)?$"])),n(_[0],"SetextSectionTitleRx",r(["^((?!\\.)",f("CC_ANY"),"*?",f("CG_ALNUM"),f("CC_ANY"),"*)$"])),n(_[0],"InlineSectionAnchorRx",r([" (\\\\)?\\[\\[([",f("CC_ALPHA"),"_:][",f("CC_WORD"),"\\-:.]*)(?:, *(",f("CC_ANY"),"+))?\\]\\]$"])),n(_[0],"InvalidSectionIdCharsRx",r(["<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ ",f("CC_WORD"),"\\-.]+?"])),n(_[0],"SectionLevelStyleRx",/^sect\d$/),n(_[0],"AnyListRx",r(["^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])[ \\t]*[^ \\t]",f("CC_ANY"),"*?(?::::{0,2}|;;)(?:$|[ \\t])|<(?:\\d+|\\.)>[ \\t])"])),n(_[0],"UnorderedListRx",r(["^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+(",f("CC_ANY"),"*)$"])),n(_[0],"OrderedListRx",r(["^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+(",f("CC_ANY"),"*)$"])),n(_[0],"OrderedListMarkerRxMap",i(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),n(_[0],"DescriptionListRx",r(["^(?!//[^/])[ \\t]*([^ \\t]",f("CC_ANY"),"*?)(:::{0,2}|;;)(?:$|[ \\t]+(",f("CC_ANY"),"*)$)"])),n(_[0],"DescriptionListSiblingRx",i(["::",":::","::::",";;"],{"::":r(["^(?!//[^/])[ \\t]*([^ \\t]",f("CC_ANY"),"*?[^:]|[^ \\t:])(::)(?:$|[ \\t]+(",f("CC_ANY"),"*)$)"]),":::":r(["^(?!//[^/])[ \\t]*([^ \\t]",f("CC_ANY"),"*?[^:]|[^ \\t:])(:::)(?:$|[ \\t]+(",f("CC_ANY"),"*)$)"]),"::::":r(["^(?!//[^/])[ \\t]*([^ \\t]",f("CC_ANY"),"*?[^:]|[^ \\t:])(::::)(?:$|[ \\t]+(",f("CC_ANY"),"*)$)"]),";;":r(["^(?!//[^/])[ \\t]*([^ \\t]",f("CC_ANY"),"*?)(;;)(?:$|[ \\t]+(",f("CC_ANY"),"*)$)"])})),n(_[0],"CalloutListRx",r(["^<(\\d+|\\.)>[ \\t]+(",f("CC_ANY"),"*)$"])),n(_[0],"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/),n(_[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)"),n(_[0],"CalloutExtractRxMap",o(c("Hash"),"new",[],(function(e,t){var n;return null==e&&(e=u),null==t&&(t=u),n=[t,r(["(",s(t["$empty?"]())?"":c("Regexp").$escape(t)+" ?",")?",f("CalloutExtractRxt")])],o(e,"[]=",n),n[n.length-1]}))),n(_[0],"CalloutScanRx",r(["\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*",f("CC_EOL"),")"])),n(_[0],"CalloutSourceRx",r(["((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*",f("CC_EOL"),")"])),n(_[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+f("CC_EOL")+")"),n(_[0],"CalloutSourceRxMap",o(c("Hash"),"new",[],(function(e,t){var n;return null==e&&(e=u),null==t&&(t=u),n=[t,r(["(",s(t["$empty?"]())?"":c("Regexp").$escape(t)+" ?",")?",f("CalloutSourceRxt")])],o(e,"[]=",n),n[n.length-1]}))),n(_[0],"ListRxMap",i(["ulist","olist","dlist","colist"],{ulist:f("UnorderedListRx"),olist:f("OrderedListRx"),dlist:f("DescriptionListRx"),colist:f("CalloutListRx")})),n(_[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/),n(_[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),n(_[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),n(_[0],"CustomBlockMacroRx",r(["^(",f("CG_WORD"),"[",f("CC_WORD"),"-]*)::(|\\S|\\S",f("CC_ANY"),"*?\\S)\\[(",f("CC_ANY"),"+)?\\]$"])),n(_[0],"BlockMediaMacroRx",r(["^(image|video|audio)::(\\S|\\S",f("CC_ANY"),"*?\\S)\\[(",f("CC_ANY"),"+)?\\]$"])),n(_[0],"BlockTocMacroRx",r(["^toc::\\[(",f("CC_ANY"),"+)?\\]$"])),n(_[0],"InlineAnchorRx",r(["(\\\\)?(?:\\[\\[([",f("CC_ALPHA"),"_:][",f("CC_WORD"),"\\-:.]*)(?:, *(",f("CC_ANY"),"+?))?\\]\\]|anchor:([",f("CC_ALPHA"),"_:][",f("CC_WORD"),"\\-:.]*)\\[(?:\\]|(",f("CC_ANY"),"*?[^\\\\])\\]))"])),n(_[0],"InlineAnchorScanRx",r(["(?:^|[^\\\\\\[])\\[\\[([",f("CC_ALPHA"),"_:][",f("CC_WORD"),"\\-:.]*)(?:, *(",f("CC_ANY"),"+?))?\\]\\]|(?:^|[^\\\\])anchor:([",f("CC_ALPHA"),"_:][",f("CC_WORD"),"\\-:.]*)\\[(?:\\]|(",f("CC_ANY"),"*?[^\\\\])\\])"])),n(_[0],"LeadingInlineAnchorRx",r(["^\\[\\[([",f("CC_ALPHA"),"_:][",f("CC_WORD"),"\\-:.]*)(?:, *(",f("CC_ANY"),"+?))?\\]\\]"])),n(_[0],"InlineBiblioAnchorRx",r(["^\\[\\[\\[([",f("CC_ALPHA"),"_:][",f("CC_WORD"),"\\-:.]*)(?:, *(",f("CC_ANY"),"+?))?\\]\\]\\]"])),n(_[0],"InlineEmailRx",r(["([\\\\>:/])?",f("CG_WORD"),"(?:&amp;|[",f("CC_WORD"),"\\-.%+])*@",f("CG_ALNUM"),"[",f("CC_ALNUM"),"_\\-.]*\\.[a-zA-Z]{2,5}\\b"])),n(_[0],"InlineFootnoteMacroRx",r(["\\\\?footnote(?:(ref):|:([",f("CC_WORD"),"-]+)?)\\[(?:|(",f("CC_ALL"),"*?[^\\\\]))\\](?!</a>)"],"m")),n(_[0],"InlineImageMacroRx",r(["\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|",f("CC_ALL"),"*?[^\\\\])\\]"],"m")),n(_[0],"InlineIndextermMacroRx",r(["\\\\?(?:(indexterm2?):\\[(",f("CC_ALL"),"*?[^\\\\])\\]|\\(\\((",f("CC_ALL"),"+?)\\)\\)(?!\\)))"],"m")),n(_[0],"InlineKbdBtnMacroRx",r(["(\\\\)?(kbd|btn):\\[(",f("CC_ALL"),"*?[^\\\\])\\]"],"m")),n(_[0],"InlineLinkRx",r(["(^|link:|",f("CG_BLANK"),"|&lt;|[>\\(\\)\\[\\];\"'])(\\\\?(?:https?|file|ftp|irc)://)(?:([^\\s\\[\\]]+)\\[(|",f("CC_ALL"),"*?[^\\\\])\\]|([^\\s\\[\\]<]*([^\\s,.?!\\[\\]<\\)])))"],"m")),n(_[0],"InlineLinkMacroRx",r(["\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|",f("CC_ALL"),"*?[^\\\\])\\]"],"m")),n(_[0],"MacroNameRx",r(["^",f("CG_WORD"),"[",f("CC_WORD"),"-]*$"])),n(_[0],"InlineStemMacroRx",r(["\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z-]+)*)?\\[(",f("CC_ALL"),"*?[^\\\\])\\]"],"m")),n(_[0],"InlineMenuMacroRx",r(["\\\\?menu:(",f("CG_WORD"),"|[",f("CC_WORD"),"&][^\\n\\[]*[^\\s\\[])\\[ *(?:|(",f("CC_ALL"),"*?[^\\\\]))\\]"],"m")),n(_[0],"InlineMenuRx",r(['\\\\?"([',f("CC_WORD"),'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'])),n(_[0],"InlinePassRx",a(!1,["+","-]",r(["((?:^|[^",f("CC_WORD"),";:\\\\])(?=(\\[)|\\+)|\\\\(?=\\[)|(?=\\\\\\+))(?:\\2(x-|[^\\]]+ x-)\\]|(?:\\[([^\\]]+)\\])?(?=(\\\\)?\\+))(\\5?(\\+|`)(\\S|\\S",f("CC_ALL"),"*?\\S)\\7)(?!",f("CG_WORD"),")"],"m")],!0,["`",u,r(["(^|[^`",f("CC_WORD"),"])(?:(\\Z)()|\\[([^\\]]+)\\](?=(\\\\))?)?(\\5?(`)([^`\\s]|[^`\\s]",f("CC_ALL"),"*?\\S)\\7)(?![`",f("CC_WORD"),"])"],"m")])),n(_[0],"InlinePassMacroRx",r(["(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)(",f("CC_ALL"),"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z-]+)*)?\\[(|",f("CC_ALL"),"*?[^\\\\])\\])"],"m")),n(_[0],"InlineXrefMacroRx",r(["\\\\?(?:&lt;&lt;([",f("CC_WORD"),"#/.:{]",f("CC_ALL"),"*?)&gt;&gt;|xref:([",f("CC_WORD"),"#/.:{]",f("CC_ALL"),"*?)\\[(?:\\]|(",f("CC_ALL"),"*?[^\\\\])\\]))"],"m")),n(_[0],"HardLineBreakRx",r(["^(",f("CC_ANY"),"*) \\+$"],"m")),n(_[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),n(_[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),n(_[0],"BlankLineRx",/\n{2,}/),n(_[0],"EscapedSpaceRx",/\\([ \t\n])/),n(_[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),n(_[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),n(_[0],"SubModifierSniffRx",/[+-]/),n(_[0],"TrailingDigitsRx",/\d+$/),n(_[0],"UriSniffRx",r(["^",f("CG_ALPHA"),"[",f("CC_ALNUM"),".+-]+:/{0,2}"])),n(_[0],"XmlSanitizeRx",/<[^>]+>/)}(l[0],l)},Opal.modules["asciidoctor/substitutors"]=function(e){var t=e.module,n=e.const_set,r=e.hash2,i=e.hash,o=e.rb_plus,s=e.regexp,a=e.not,l=e.truthy,u=e.send,c=e.def,$=e.alias,_=e.gvars,f=e.eqeq,d=e.to_ary,p=e.neqeq,h=e.to_a,m=e.eqeqeq,g=e.rb_gt,v=e.slice,b=e.rb_minus,y=e.rb_lt,w=e.rb_times,x=[],k=e.nil,E=e.$$$;return e.add_stubs("freeze,+,keys,!,empty?,===,[],join,include?,extract_passthroughs,each,sub_specialchars,sub_quotes,sub_attributes,sub_replacements,sub_macros,highlight_source,sub_callouts,sub_post_replacements,warn,logger,restore_passthroughs,clear,split,apply_subs,gsub,match?,compat_mode,convert_quoted_text,attributes,==,shift,store_attribute,!=,attribute_undefined,counter,key?,downcase,attribute_missing,info,squeeze,delete,reject,start_with?,do_replacement,inline_macros?,extensions,inline_macros,regexp,instance,slice,length,names,config,merge,[]=,normalize_text,parse_attributes,process_method,expand_subs,text=,text,convert,class,strip,index,min,compact,>,end_with?,map,chop,new,pop,rstrip,register,tr,basename,parse,lstrip,split_simple_csv,-,partition,extract_attributes_from_text,sub,encode_uri_component,style,extname?,rindex,catalog,info?,fetch,outfilesuffix,natural_xrefs,resolve_id,find,footnotes,id,<,size,<<,attr?,attr,to_s,read_next_id,callouts,highlight?,syntax_highlighter,sub_source,extract_callouts,name,to_i,to_sym,resolve_lines_to_highlight,highlight,nil_or_empty?,restore_callouts,count,to_a,|,sort,*,parse_quoted_text_attributes,resolve_pass_subs,basebackend?,error,chr,drop,&,resolve_subs,resolve_block_subs,parse_into,private,shorthand_property_syntax,each_char"),function(x,A){var S=[t(x,"Asciidoctor")].concat(A);return function(x,A){var S=t(x,"Substitutors"),C=[S].concat(A),O=e.$r(C);return n(C[0],"SpecialCharsRx",/[<&>]/),n(C[0],"SpecialCharsTr",r([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),n(C[0],"QuotedTextSniffRx",i(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),n(C[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),n(C[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),n(C[0],"NO_SUBS",[]).$freeze(),n(C[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),n(C[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),n(C[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),n(C[0],"SUB_GROUPS",r(["none","normal","verbatim","specialchars"],{none:O("NO_SUBS"),normal:O("NORMAL_SUBS"),verbatim:O("VERBATIM_SUBS"),specialchars:O("BASIC_SUBS")})),n(C[0],"SUB_HINTS",r(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),n(C[0],"SUB_OPTIONS",r(["block","inline"],{block:o(o(O("SUB_GROUPS").$keys(),O("NORMAL_SUBS")),["callouts"]),inline:o(O("SUB_GROUPS").$keys(),O("NORMAL_SUBS"))})),n(C[0],"CAN",""),n(C[0],"DEL",""),n(C[0],"PASS_START",""),n(C[0],"PASS_END",""),n(C[0],"PassSlotRx",s([O("PASS_START"),"(\\d+)",O("PASS_END")])),n(C[0],"HighlightedPassSlotRx",s(["<span\\b[^>]*>",O("PASS_START"),"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>",O("PASS_END"),"</span>"])),n(C[0],"RS","\\"),n(C[0],"R_SB","]"),n(C[0],"ESC_R_SB","\\]"),n(C[0],"PLUS","+"),c(S,"$apply_subs",(function(e,t){var n,r=this,i=k,o=k,s=k;return null==r.passthroughs&&(r.passthroughs=k),null==r.passthroughs_locked&&(r.passthroughs_locked=k),null==t&&(t=O("NORMAL_SUBS")),l(e["$empty?"]())||a(t)?e:(l(n=E("Array")["$==="](e))&&(e=l(e["$[]"](1))?e.$join(O("LF")):e["$[]"](0)),l(t["$include?"]("macros"))&&(e=r.$extract_passthroughs(e),l(r.passthroughs["$empty?"]())||(i=r.passthroughs,r.passthroughs_locked=l(o=r.passthroughs_locked)?o:s=!0)),u(t,"each",[],(function n(r){var i=null==n.$$s?this:n.$$s;switch(null==r&&(r=k),r){case"specialcharacters":return e=i.$sub_specialchars(e);case"quotes":return e=i.$sub_quotes(e);case"attributes":return l(e["$include?"](O("ATTR_REF_HEAD")))?e=i.$sub_attributes(e):k;case"replacements":return e=i.$sub_replacements(e);case"macros":return e=i.$sub_macros(e);case"highlight":return e=i.$highlight_source(e,t["$include?"]("callouts"));case"callouts":return l(t["$include?"]("highlight"))?k:e=i.$sub_callouts(e);case"post_replacements":return e=i.$sub_post_replacements(e);default:return i.$logger().$warn("unknown substitution type "+r)}}),{$$s:r}),l(i)&&(e=r.$restore_passthroughs(e),l(s)&&(i.$clear(),r.passthroughs_locked=k)),l(n)?e.$split(O("LF"),-1):e)}),-2),c(S,"$apply_normal_subs",(function(e){return this.$apply_subs(e,O("NORMAL_SUBS"))})),c(S,"$apply_header_subs",(function(e){return this.$apply_subs(e,O("HEADER_SUBS"))})),$(S,"apply_title_subs","apply_subs"),c(S,"$apply_reftext_subs",(function(e){return this.$apply_subs(e,O("REFTEXT_SUBS"))})),c(S,"$sub_specialchars",(function(e){return l(e["$include?"](">"))||l(e["$include?"]("&"))||l(e["$include?"]("<"))?e.$gsub(O("SpecialCharsRx"),O("SpecialCharsTr")):e})),$(S,"sub_specialcharacters","sub_specialchars"),c(S,"$sub_quotes",(function(e){var t,n=this;return null==n.document&&(n.document=k),l(O("QuotedTextSniffRx")["$[]"](t=n.document.$compat_mode())["$match?"](e))&&u(O("QUOTE_SUBS")["$[]"](t),"each",[],(function t(n,r,i){return null==n&&(n=k),null==r&&(r=k),null==i&&(i=k),e=u(e,"gsub",[i],(function e(){var t=null==e.$$s?this:e.$$s;return null==_["~"]&&(_["~"]=k),t.$convert_quoted_text(_["~"],n,r)}),{$$s:null==t.$$s?this:t.$$s})}),{$$s:n}),e})),c(S,"$sub_attributes",(function(e,t){var n=this,i=k,o=k,s=k,a=k,c=k,$=k,m=k,g=k;return null==n.document&&(n.document=k),null==t&&(t=r([],{})),i=n.document.$attributes(),o=s=a=c=$=m=k,e=u(e,"gsub",[O("AttributeReferenceRx")],(function e(){var n,r,g=null==e.$$s?this:e.$$s,v=k,b=k,y=k,w=k,x=k,E=k;if(null==g.document&&(g.document=k),f((n=_["~"])===k?k:n["$[]"](1),O("RS"))||f((n=_["~"])===k?k:n["$[]"](4),O("RS")))return"{"+((n=_["~"])===k?k:n["$[]"](2))+"}";if(l((n=_["~"])===k?k:n["$[]"](3)))switch((v=((n=_["~"])===k?k:n["$[]"](2)).$split(":",3)).$shift()){case"set":return r=O("Parser").$store_attribute(v["$[]"](0),l(b=v["$[]"](1))?b:"",g.document),null==(n=d(r))[0]||n[0],y=null==n[1]?k:n[1],o=l(y)||p($=l(b=$)?b:l(w=i["$[]"]("attribute-undefined"))?w:O("Compliance").$attribute_undefined(),"drop-line")?c=O("DEL"):s=O("CAN");case"counter2":return u(g.document,"counter",h(v)),o=c=O("DEL");default:return u(g.document,"counter",h(v))}else{if(l(i["$key?"](x=((n=_["~"])===k?k:n["$[]"](2)).$downcase())))return i["$[]"](x);if(l(y=O("INTRINSIC_ATTRIBUTES")["$[]"](x)))return y;switch(m=l(b=m)?b:l(w=l(E=t["$[]"]("attribute_missing"))?E:i["$[]"]("attribute-missing"))?w:O("Compliance").$attribute_missing()){case"drop":return o=c=O("DEL");case"drop-line":return f(a=l(b=a)?b:l(w=t["$[]"]("drop_line_severity"))?w:"info","info")&&u(g.$logger(),"info",[],(function(){return"dropping line containing reference to missing attribute: "+x})),o=s=O("CAN");case"warn":return g.$logger().$warn("skipping reference to missing attribute: "+x),(n=_["~"])===k?k:n["$[]"](0);default:return(n=_["~"])===k?k:n["$[]"](0)}}}),{$$s:n}),l(o)?l(c)?(g=e.$squeeze(O("DEL")).$split(O("LF"),-1),l(s)?u(g,"reject",[],(function(e){var t,n,r;return null==e&&(e=k),l(t=l(n=l(r=e["$=="](O("DEL")))?r:e["$=="](O("CAN")))?n:e["$start_with?"](O("CAN")))?t:e["$include?"](O("CAN"))})).$join(O("LF")).$delete(O("DEL")):u(g,"reject",[],(function(e){return null==e&&(e=k),e["$=="](O("DEL"))})).$join(O("LF")).$delete(O("DEL"))):l(e["$include?"](O("LF")))?u(e.$split(O("LF"),-1),"reject",[],(function(e){var t,n;return null==e&&(e=k),l(t=l(n=e["$=="](O("CAN")))?n:e["$start_with?"](O("CAN")))?t:e["$include?"](O("CAN"))})).$join(O("LF")):"":e}),-2),c(S,"$sub_replacements",(function(e){return l(O("ReplaceableTextRx")["$match?"](e))&&u(O("REPLACEMENTS"),"each",[],(function t(n,r,i){return null==n&&(n=k),null==r&&(r=k),null==i&&(i=k),e=u(e,"gsub",[n],(function e(){var t=null==e.$$s?this:e.$$s;return null==_["~"]&&(_["~"]=k),t.$do_replacement(_["~"],r,i)}),{$$s:null==t.$$s?this:t.$$s})}),{$$s:this}),e})),c(S,"$sub_macros",(function(t){var n,i,s,c,$=this,y=k,w=k,x=k,A=k;return null==$.document&&($.document=k),null==$.parent&&($.parent=k),null==$.context&&($.context=k),n=t["$include?"]("["),i=t["$include?"](":"),s=l(y=n)?i:y,c=l(y=s)?t["$include?"](":["):y,w=(x=$.document).$attributes(),l(A=x.$extensions())&&l(A["$inline_macros?"]())&&u(A.$inline_macros(),"each",[],(function n(i){var o=null==n.$$s?this:n.$$s;return null==i&&(i=k),t=u(t,"gsub",[i.$instance().$regexp()],(function t(){var n,o,s=null==t.$$s?this:t.$$s,a=k,c=k,$=k,d=k,p=k,h=k,g=k,v=k,b=k;return null==_["~"]&&(_["~"]=k),l((a=(n=_["~"])===k?k:n["$[]"](0))["$start_with?"](O("RS")))?((n=_["~"])===k?k:n["$[]"](0)).$slice(1,((n=_["~"])===k?k:n["$[]"](0)).$length()):(l(_["~"].$names()["$empty?"]())?(c=(n=[(o=_["~"])===k?k:o["$[]"](1),(o=_["~"])===k?k:o["$[]"](2)])[0],$=n[1]):(c=(n=[function(){try{return _["~"]["$[]"]("target")}catch(t){if(!e.rescue(t,[O("StandardError")]))throw t;try{return k}finally{e.pop_exception()}}}(),function(){try{return _["~"]["$[]"]("content")}catch(t){if(!e.rescue(t,[O("StandardError")]))throw t;try{return k}finally{e.pop_exception()}}}()])[0],$=n[1]),d=l(p=(h=i.$config())["$[]"]("default_attrs"))?p.$merge():r([],{}),l($)&&(l($["$empty?"]())?f(h["$[]"]("content_model"),"attributes")||d["$[]="]("text",$):($=s.$normalize_text($,!0,!0),f(h["$[]"]("content_model"),"attributes")?s.$parse_attributes($,l(y=l(g=h["$[]"]("positional_attrs"))?g:h["$[]"]("pos_attrs"))?y:[],r(["into"],{into:d})):d["$[]="]("text",$)),c=l(y=c)?y:f(h["$[]"]("format"),"short")?$:c),m(O("Inline"),v=i.$process_method()["$[]"](s,c,d))?(l(b=v.$attributes().$delete("subs"))&&l(b=s.$expand_subs(b,"custom inline macro"))&&v["$text="](s.$apply_subs(v.$text(),b)),v.$convert()):l(v)?(u(s.$logger(),"info",[],(function(){return"expected substitution value for custom inline macro to be of type Inline; got "+v.$class()+": "+a})),v):"")}),{$$s:o})}),{$$s:$}),l(w["$key?"]("experimental"))&&(l(c)&&(l(t["$include?"]("kbd:"))||l(t["$include?"]("btn:")))&&(t=u(t,"gsub",[O("InlineKbdBtnMacroRx")],(function e(){var t,n=null==e.$$s?this:e.$$s,i=k,s=k,a=k;return l((t=_["~"])===k?k:t["$[]"](1))?((t=_["~"])===k?k:t["$[]"](0)).$slice(1,((t=_["~"])===k?k:t["$[]"](0)).$length()):f((t=_["~"])===k?k:t["$[]"](2),"kbd")?(l((i=((t=_["~"])===k?k:t["$[]"](3)).$strip())["$include?"](O("R_SB")))&&(i=i.$gsub(O("ESC_R_SB"),O("R_SB"))),l(g(i.$length(),1))&&l(s=l(s=i.$index(",",1))?[s,i.$index("+",1)].$compact().$min():i.$index("+",1))?(a=i.$slice(s,1),l(i["$end_with?"](a))?(i=u(i.$chop().$split(a,-1),"map",[],(function(e){return null==e&&(e=k),e.$strip()})))["$[]="](-1,o(i["$[]"](-1),a)):i=u(i.$split(a),"map",[],(function(e){return null==e&&(e=k),e.$strip()}))):i=[i],O("Inline").$new(n,"kbd",k,r(["attributes"],{attributes:r(["keys"],{keys:i})})).$convert()):O("Inline").$new(n,"button",n.$normalize_text((t=_["~"])===k?k:t["$[]"](3),!0,!0)).$convert()}),{$$s:$})),l(s)&&l(t["$include?"]("menu:"))&&(t=u(t,"gsub",[O("InlineMenuMacroRx")],(function e(){var t,n,i=null==e.$$s?this:e.$$s,o=k,s=k,a=k,c=k;return l(((t=_["~"])===k?k:t["$[]"](0))["$start_with?"](O("RS")))?((t=_["~"])===k?k:t["$[]"](0)).$slice(1,((t=_["~"])===k?k:t["$[]"](0)).$length()):(n=(t=_["~"])===k?k:t["$[]"](1),l(o=(t=_["~"])===k?k:t["$[]"](2))?(l(o["$include?"](O("R_SB")))&&(o=o.$gsub(O("ESC_R_SB"),O("R_SB"))),l(s=l(o["$include?"]("&gt;"))?"&gt;":l(o["$include?"](","))?",":k)?c=(a=u(o.$split(s),"map",[],(function(e){return null==e&&(e=k),e.$strip()}))).$pop():(a=(t=[[],o.$rstrip()])[0],c=t[1])):(a=(t=[[],k])[0],c=t[1]),O("Inline").$new(i,"menu",k,r(["attributes"],{attributes:r(["menu","submenus","menuitem"],{menu:n,submenus:a,menuitem:c})})).$convert())}),{$$s:$})),l(t["$include?"]('"'))&&l(t["$include?"]("&gt;"))&&(t=u(t,"gsub",[O("InlineMenuRx")],(function e(){var t,n,i,o,s,a=null==e.$$s?this:e.$$s,c=k;return l(((t=_["~"])===k?k:t["$[]"](0))["$start_with?"](O("RS")))?((t=_["~"])===k?k:t["$[]"](0)).$slice(1,((t=_["~"])===k?k:t["$[]"](0)).$length()):(n=u(((i=_["~"])===k?k:i["$[]"](1)).$split("&gt;"),"map",[],(function(e){return null==e&&(e=k),e.$strip()})),o=null==(t=d(n))[0]?k:t[0],s=(c=v(t,1)).$pop(),O("Inline").$new(a,"menu",k,r(["attributes"],{attributes:r(["menu","submenus","menuitem"],{menu:o,submenus:c,menuitem:s})})).$convert())}),{$$s:$}))),l(s)&&(l(t["$include?"]("image:"))||l(t["$include?"]("icon:")))&&(t=u(t,"gsub",[O("InlineImageMacroRx")],(function e(){var t,n,i=null==e.$$s?this:e.$$s,o=k,s=k,a=k;return l(((t=_["~"])===k?k:t["$[]"](0))["$start_with?"](O("RS")))?((t=_["~"])===k?k:t["$[]"](0)).$slice(1,((t=_["~"])===k?k:t["$[]"](0)).$length()):(l(((t=_["~"])===k?k:t["$[]"](0))["$start_with?"]("icon:"))?(o=(t=["icon",["size"]])[0],s=t[1]):(o=(t=["image",["alt","width","height"]])[0],s=t[1]),n=(t=_["~"])===k?k:t["$[]"](1),a=i.$parse_attributes((t=_["~"])===k?k:t["$[]"](2),s,r(["unescape_input"],{unescape_input:!0})),f(o,"icon")||(x.$register("images",n),a["$[]="]("imagesdir",w["$[]"]("imagesdir"))),l(y=a["$[]"]("alt"))||a["$[]="]("alt",(t=["default-alt",O("Helpers").$basename(n,!0).$tr("_-"," ")],u(a,"[]=",t),t[t.length-1])),O("Inline").$new(i,"image",k,r(["type","target","attributes"],{type:o,target:n,attributes:a})).$convert())}),{$$s:$})),(l(t["$include?"]("(("))&&l(t["$include?"]("))"))||l(c)&&l(t["$include?"]("dexterm")))&&(t=u(t,"gsub",[O("InlineIndextermMacroRx")],(function e(){var t,n,i=null==e.$$s?this:e.$$s,o=k,s=k,a=k,c=k,$=k,f=k,p=k,h=k,m=k,g=k,y=k,w=k,x=k,E=k;switch((t=_["~"])===k?k:t["$[]"](1)){case"indexterm":return l(((t=_["~"])===k?k:t["$[]"](0))["$start_with?"](O("RS")))?((t=_["~"])===k?k:t["$[]"](0)).$slice(1,((t=_["~"])===k?k:t["$[]"](0)).$length()):(l((o=i.$normalize_text((t=_["~"])===k?k:t["$[]"](2),!0,!0))["$include?"]("="))?l(s=(a=O("AttributeList").$new(o,i).$parse())["$[]"](1))?(a["$[]="]("terms",[s]),l(c=a["$[]"]("see-also"))&&a["$[]="]("see-also",l(c["$include?"](","))?u(c.$split(","),"map",[],(function(e){return null==e&&(e=k),e.$lstrip()})):[c])):a=r(["terms"],{terms:o}):a=r(["terms"],{terms:i.$split_simple_csv(o)}),O("Inline").$new(i,"indexterm",k,r(["attributes"],{attributes:a})).$convert());case"indexterm2":return l(((t=_["~"])===k?k:t["$[]"](0))["$start_with?"](O("RS")))?((t=_["~"])===k?k:t["$[]"](0)).$slice(1,((t=_["~"])===k?k:t["$[]"](0)).$length()):(l(($=i.$normalize_text((t=_["~"])===k?k:t["$[]"](2),!0,!0))["$include?"]("="))&&($=l(f=l(p=(a=O("AttributeList").$new($,i).$parse())["$[]"](1))?p:a=k)?f:$,l(a)&&l(c=a["$[]"]("see-also"))&&a["$[]="]("see-also",l(c["$include?"](","))?u(c.$split(","),"map",[],(function(e){return null==e&&(e=k),e.$lstrip()})):[c])),O("Inline").$new(i,"indexterm",$,r(["attributes","type"],{attributes:a,type:"visible"})).$convert());default:if(h=(t=_["~"])===k?k:t["$[]"](3),l(((t=_["~"])===k?k:t["$[]"](0))["$start_with?"](O("RS")))){if(!l(h["$start_with?"]("("))||!l(h["$end_with?"](")")))return((t=_["~"])===k?k:t["$[]"](0)).$slice(1,((t=_["~"])===k?k:t["$[]"](0)).$length());h=h.$slice(1,b(h.$length(),2)),m=(t=[!0,"(",")"])[0],g=t[1],y=t[2]}else m=!0,l(h["$start_with?"]("("))?l(h["$end_with?"](")"))?(t=[h.$slice(1,b(h.$length(),2)),!1],h=t[0],m=t[1]):(t=[h.$slice(1,h.$length()),"(",""],h=t[0],g=t[1],y=t[2]):l(h["$end_with?"](")"))&&(t=[h.$chop(),"",")"],h=t[0],g=t[1],y=t[2]);return l(m)?(l(($=i.$normalize_text(h,!0))["$include?"](";&"))&&(l($["$include?"](" &gt;&gt; "))?(n=$.$partition(" &gt;&gt; "),$=null==(t=d(n))[0]?k:t[0],null==t[1]||t[1],w=null==t[2]?k:t[2],a=r(["see"],{see:w})):l($["$include?"](" &amp;&gt; "))&&(n=$.$split(" &amp;&gt; "),$=null==(t=d(n))[0]?k:t[0],c=v(t,1),a=r(["see-also"],{"see-also":c}))),x=O("Inline").$new(i,"indexterm",$,r(["attributes","type"],{attributes:a,type:"visible"})).$convert()):(a=r([],{}),l((E=i.$normalize_text(h,!0))["$include?"](";&"))&&(l(E["$include?"](" &gt;&gt; "))?(n=E.$partition(" &gt;&gt; "),E=null==(t=d(n))[0]?k:t[0],null==t[1]||t[1],w=null==t[2]?k:t[2],a["$[]="]("see",w)):l(E["$include?"](" &amp;&gt; "))&&(n=E.$split(" &amp;&gt; "),E=null==(t=d(n))[0]?k:t[0],c=v(t,1),a["$[]="]("see-also",c))),a["$[]="]("terms",i.$split_simple_csv(E)),x=O("Inline").$new(i,"indexterm",k,r(["attributes"],{attributes:a})).$convert()),l(g)?""+g+x+y:x}}),{$$s:$})),l(i)&&l(t["$include?"]("://"))&&(t=u(t,"gsub",[O("InlineLinkRx")],(function e(){var t,n,i=null==e.$$s?this:e.$$s,s=k,c=k,$=k,p=k,h=k,m=k,g=k,v=k,E=k;if(l((s=o((t=_["~"])===k?k:t["$[]"](2),l(y=(t=_["~"])===k?k:t["$[]"](3))?y:(t=_["~"])===k?k:t["$[]"](5)))["$start_with?"](O("RS"))))return o(((t=_["~"])===k?k:t["$[]"](0)).$slice(0,c=((t=_["~"])===k?k:t["$[]"](1)).$length()),((t=_["~"])===k?k:t["$[]"](0)).$slice(o(c,1),((t=_["~"])===k?k:t["$[]"](0)).$length()));if($=(t=[(n=_["~"])===k?k:n["$[]"](1),""])[0],p=t[1],l((t=_["~"])===k?k:t["$[]"](4)))f($,"link:")&&($=""),l((h=(t=_["~"])===k?k:t["$[]"](4))["$empty?"]())&&(h=k);else{switch($){case"link:":case'"':case"'":return(t=_["~"])===k?k:t["$[]"](0)}switch((t=_["~"])===k?k:t["$[]"](6)){case";":if(l($["$start_with?"]("&lt;"))&&l(s["$end_with?"]("&gt;"))?($=$.$slice(4,$.$length()),s=s.$slice(0,b(s.$length(),4))):l((s=s.$chop())["$end_with?"](")"))?(s=s.$chop(),p=");"):p=";",l(s["$end_with?"]("://")))return(t=_["~"])===k?k:t["$[]"](0);break;case":":if(l((s=s.$chop())["$end_with?"](")"))?(s=s.$chop(),p="):"):p=":",l(s["$end_with?"]("://")))return(t=_["~"])===k?k:t["$[]"](0)}}return m=(t=[k,r(["type"],{type:"link"})])[0],g=t[1],l(h)?(l(h["$include?"](O("R_SB")))&&(v=h=h.$gsub(O("ESC_R_SB"),O("R_SB"))),a(x.$compat_mode())&&l(h["$include?"]("="))&&(n=i.$extract_attributes_from_text(h,""),h=null==(t=d(n))[0]?k:t[0],m=null==t[1]?k:t[1],v=h,g["$[]="]("id",m["$[]"]("id"))),l(h["$end_with?"]("^"))&&(v=h=h.$chop(),l(m)?l(y=m["$[]"]("window"))||m["$[]="]("window","_blank"):m=r(["window"],{window:"_blank"})),l(v)&&l(v["$empty?"]())&&(h=l(w["$key?"]("hide-uri-scheme"))?s.$sub(O("UriSniffRx"),""):s,E=!0)):(h=l(w["$key?"]("hide-uri-scheme"))?s.$sub(O("UriSniffRx"),""):s,E=!0),l(E)&&(l(m)?m["$[]="]("role",l(m["$key?"]("role"))?"bare "+m["$[]"]("role"):"bare"):m=r(["role"],{role:"bare"})),x.$register("links",(u(g,"[]=",t=["target",s]),t[t.length-1])),l(m)&&g["$[]="]("attributes",m),""+$+O("Inline").$new(i,"anchor",h,g).$convert()+p}),{$$s:$})),l(s)&&(l(t["$include?"]("link:"))||l(t["$include?"]("ilto:")))&&(t=u(t,"gsub",[O("InlineLinkMacroRx")],(function e(){var t,n,i=null==e.$$s?this:e.$$s,s=k,c=k,$=k,f=k,p=k,h=k;return l(((t=_["~"])===k?k:t["$[]"](0))["$start_with?"](O("RS")))?((t=_["~"])===k?k:t["$[]"](0)).$slice(1,((t=_["~"])===k?k:t["$[]"](0)).$length()):(c=l(s=(t=_["~"])===k?k:t["$[]"](1))?o("mailto:",$=(t=_["~"])===k?k:t["$[]"](2)):(t=_["~"])===k?k:t["$[]"](2),f=(t=[k,r(["type"],{type:"link"})])[0],p=t[1],l((h=(t=_["~"])===k?k:t["$[]"](3))["$empty?"]())||(l(h["$include?"](O("R_SB")))&&(h=h.$gsub(O("ESC_R_SB"),O("R_SB"))),l(s)?a(x.$compat_mode())&&l(h["$include?"](","))&&(n=i.$extract_attributes_from_text(h,""),h=null==(t=d(n))[0]?k:t[0],f=null==t[1]?k:t[1],p["$[]="]("id",f["$[]"]("id")),l(f["$key?"](2))&&(c=l(f["$key?"](3))?c+"?subject="+O("Helpers").$encode_uri_component(f["$[]"](2))+"&amp;body="+O("Helpers").$encode_uri_component(f["$[]"](3)):c+"?subject="+O("Helpers").$encode_uri_component(f["$[]"](2)))):a(x.$compat_mode())&&l(h["$include?"]("="))&&(n=i.$extract_attributes_from_text(h,""),h=null==(t=d(n))[0]?k:t[0],f=null==t[1]?k:t[1],p["$[]="]("id",f["$[]"]("id"))),l(h["$end_with?"]("^"))&&(h=h.$chop(),l(f)?l(y=f["$[]"]("window"))||f["$[]="]("window","_blank"):f=r(["window"],{window:"_blank"}))),l(h["$empty?"]())&&(l(s)?h=$:(l(w["$key?"]("hide-uri-scheme"))?l((h=c.$sub(O("UriSniffRx"),""))["$empty?"]())&&(h=c):h=c,l(f)?f["$[]="]("role",l(f["$key?"]("role"))?"bare "+f["$[]"]("role"):"bare"):f=r(["role"],{role:"bare"}))),x.$register("links",(u(p,"[]=",t=["target",c]),t[t.length-1])),l(f)&&p["$[]="]("attributes",f),O("Inline").$new(i,"anchor",h,p).$convert())}),{$$s:$})),l(t["$include?"]("@"))&&(t=u(t,"gsub",[O("InlineEmailRx")],(function e(){var t,n,i,s=null==e.$$s?this:e.$$s;return l((t=_["~"])===k?k:t["$[]"](1))?f((t=_["~"])===k?k:t["$[]"](1),O("RS"))?((t=_["~"])===k?k:t["$[]"](0)).$slice(1,((t=_["~"])===k?k:t["$[]"](0)).$length()):(t=_["~"])===k?k:t["$[]"](0):(n=o("mailto:",i=(t=_["~"])===k?k:t["$[]"](0)),x.$register("links",n),O("Inline").$new(s,"anchor",i,r(["type","target"],{type:"link",target:n})).$convert())}),{$$s:$})),l(n)&&f($.context,"list_item")&&f($.parent.$style(),"bibliography")&&(t=u(t,"sub",[O("InlineBiblioAnchorRx")],(function e(){var t,n=null==e.$$s?this:e.$$s;return O("Inline").$new(n,"anchor",(t=_["~"])===k?k:t["$[]"](2),r(["type","id"],{type:"bibref",id:(t=_["~"])===k?k:t["$[]"](1)})).$convert()}),{$$s:$})),(l(n)&&l(t["$include?"]("[["))||l(s)&&l(t["$include?"]("or:")))&&(t=u(t,"gsub",[O("InlineAnchorRx")],(function e(){var t,n=null==e.$$s?this:e.$$s,i=k,o=k;return l((t=_["~"])===k?k:t["$[]"](1))?((t=_["~"])===k?k:t["$[]"](0)).$slice(1,((t=_["~"])===k?k:t["$[]"](0)).$length()):(l(i=(t=_["~"])===k?k:t["$[]"](2))?o=(t=_["~"])===k?k:t["$[]"](3):(i=(t=_["~"])===k?k:t["$[]"](4),l(o=(t=_["~"])===k?k:t["$[]"](5))&&l(o["$include?"](O("R_SB")))&&(o=o.$gsub(O("ESC_R_SB"),O("R_SB")))),O("Inline").$new(n,"anchor",o,r(["type","id"],{type:"ref",id:i})).$convert())}),{$$s:$})),(l(t["$include?"]("&"))&&l(t["$include?"](";&l"))||l(s)&&l(t["$include?"]("xref:")))&&(t=u(t,"gsub",[O("InlineXrefMacroRx")],(function e(){var t,n,i=null==e.$$s?this:e.$$s,s=k,c=k,$=k,m=k,v=k,w=k,E=k,A=k,S=k,C=k;return l(((t=_["~"])===k?k:t["$[]"](0))["$start_with?"](O("RS")))?((t=_["~"])===k?k:t["$[]"](0)).$slice(1,((t=_["~"])===k?k:t["$[]"](0)).$length()):(s=r([],{}),l(c=(t=_["~"])===k?k:t["$[]"](1))?l(c["$include?"](","))&&(n=c.$partition(","),c=null==(t=d(n))[0]?k:t[0],null==t[1]||t[1],$=null==t[2]?k:t[2],l(($=$.$lstrip())["$empty?"]())&&($=k)):(m=!0,c=(t=_["~"])===k?k:t["$[]"](2),l($=(t=_["~"])===k?k:t["$[]"](3))&&(l($["$include?"](O("R_SB")))&&($=$.$gsub(O("ESC_R_SB"),O("R_SB"))),a(x.$compat_mode())&&l($["$include?"]("="))&&(n=i.$extract_attributes_from_text($),$=null==(t=d(n))[0]?k:t[0],s=null==t[1]?k:t[1]))),l(x.$compat_mode())?v=c:l(w=c.$index("#"))&&p(c["$[]"](b(w,1)),"&")?l(g(w,0))?(l(g(E=b(b(c.$length(),1),w),0))?(A=(t=[c.$slice(0,w),c.$slice(o(w,1),E)])[0],v=t[1]):A=c.$chop(),l(m)?l(A["$end_with?"](".adoc"))?S=A=A.$slice(0,b(A.$length(),5)):a(O("Helpers")["$extname?"](A))&&(S=A):S=l(u(A,"end_with?",h(O("ASCIIDOC_EXTENSIONS").$keys())))?A=A.$slice(0,A.$rindex(".")):A):(C=(t=[c,c.$slice(1,c.$length())])[0],v=t[1]):l(m)?l(c["$end_with?"](".adoc"))?S=A=c.$slice(0,b(c.$length(),5)):l(O("Helpers")["$extname?"](c))?A=c:v=c:v=c,l(C)?(c=v,l(i.$logger()["$info?"]())&&a(x.$catalog()["$[]"]("refs")["$[]"](c))&&i.$logger().$info("possible invalid reference: "+c)):l(A)?l(S)&&(f(x.$attributes()["$[]"]("docname"),A)||l(x.$catalog()["$[]"]("includes")["$[]"](A)))?l(v)?(c=(t=[v,k,"#"+v])[0],A=t[1],C=t[2],l(i.$logger()["$info?"]())&&a(x.$catalog()["$[]"]("refs")["$[]"](c))&&i.$logger().$info("possible invalid reference: "+c)):(c=(t=[k,k,"#"])[0],A=t[1],C=t[2]):(c=(t=[A,""+(l(y=x.$attributes()["$[]"]("relfileprefix"))?y:"")+A+(l(S)?x.$attributes().$fetch("relfilesuffix",x.$outfilesuffix()):"")])[0],A=t[1],l(v)?(c=(t=[c+"#"+v,A+"#"+v])[0],C=t[1]):C=A):l(x.$compat_mode())||a(O("Compliance").$natural_xrefs())?(c=(t=[v,"#"+v])[0],C=t[1],l(i.$logger()["$info?"]())&&a(x.$catalog()["$[]"]("refs")["$[]"](c))&&i.$logger().$info("possible invalid reference: "+c)):l(x.$catalog()["$[]"]("refs")["$[]"](v))?(c=(t=[v,"#"+v])[0],C=t[1]):(l(v["$include?"](" "))||p(v.$downcase(),v))&&l(c=x.$resolve_id(v))?(v=(t=[c,"#"+c])[0],C=t[1]):(c=(t=[v,"#"+v])[0],C=t[1],l(i.$logger()["$info?"]())&&i.$logger().$info("possible invalid reference: "+c)),s["$[]="]("path",A),s["$[]="]("fragment",v),s["$[]="]("refid",c),O("Inline").$new(i,"anchor",$,r(["type","target","attributes"],{type:"xref",target:C,attributes:s})).$convert())}),{$$s:$})),l(s)&&l(t["$include?"]("tnote"))&&(t=u(t,"gsub",[O("InlineFootnoteMacroRx")],(function e(){var t,n,i,o=null==e.$$s?this:e.$$s,s=k,a=k,c=k,$=k,f=k,p=k;if(l(((t=_["~"])===k?k:t["$[]"](0))["$start_with?"](O("RS"))))return((t=_["~"])===k?k:t["$[]"](0)).$slice(1,((t=_["~"])===k?k:t["$[]"](0)).$length());if(l((t=_["~"])===k?k:t["$[]"](1))){if(!l((t=_["~"])===k?k:t["$[]"](3)))return(t=_["~"])===k?k:t["$[]"](0);n=((i=_["~"])===k?k:i["$[]"](3)).$split(",",2),t=d(n),s=null==t[0]?k:t[0],a=null==t[1]?k:t[1],l(x.$compat_mode())||o.$logger().$warn("found deprecated footnoteref macro: "+((t=_["~"])===k?k:t["$[]"](0))+"; use footnote macro with target instead")}else s=(t=_["~"])===k?k:t["$[]"](2),a=(t=_["~"])===k?k:t["$[]"](3);if(l(s))l(c=u(x.$footnotes(),"find",[],(function(e){return null==e&&(e=k),e.$id()["$=="](s)})))?($=(t=[c.$index(),c.$text()])[0],a=t[1],f=(t=["xref",s,k])[0],p=t[1],s=t[2]):l(a)?(a=o.$restore_passthroughs(o.$normalize_text(a,!0,!0)),$=x.$counter("footnote-number"),x.$register("footnotes",E(O("Document"),"Footnote").$new($,s,a)),f=(t=["ref",k])[0],p=t[1]):(o.$logger().$warn("invalid footnote reference: "+s),f=(t=["xref",s,s,k])[0],p=t[1],a=t[2],s=t[3]);else{if(!l(a))return(t=_["~"])===k?k:t["$[]"](0);a=o.$restore_passthroughs(o.$normalize_text(a,!0,!0)),$=x.$counter("footnote-number"),x.$register("footnotes",E(O("Document"),"Footnote").$new($,s,a)),f=p=k}return O("Inline").$new(o,"footnote",a,r(["attributes","id","target","type"],{attributes:r(["index"],{index:$}),id:s,target:p,type:f})).$convert()}),{$$s:$})),t})),c(S,"$sub_post_replacements",(function(e){var t=this,n=k,i=k;return null==t.document&&(t.document=k),null==t.attributes&&(t.attributes=k),l(t.attributes["$[]"]("hardbreaks-option"))||l(t.document.$attributes()["$[]"]("hardbreaks-option"))?(n=e.$split(O("LF"),-1),l(y(n.$size(),2))?e:(i=n.$pop(),u(n,"map",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==t&&(t=k),O("Inline").$new(n,"break",l(t["$end_with?"](O("HARD_LINE_BREAK")))?t.$slice(0,b(t.$length(),2)):t,r(["type"],{type:"line"})).$convert()}),{$$s:t})["$<<"](i).$join(O("LF")))):l(e["$include?"](O("PLUS")))&&l(e["$include?"](O("HARD_LINE_BREAK")))?u(e,"gsub",[O("HardLineBreakRx")],(function e(){var t,n=null==e.$$s?this:e.$$s;return O("Inline").$new(n,"break",(t=_["~"])===k?k:t["$[]"](1),r(["type"],{type:"line"})).$convert()}),{$$s:t}):e})),c(S,"$sub_source",(function(e,t){var n=this;return l(t)?n.$sub_callouts(n.$sub_specialchars(e)):n.$sub_specialchars(e)})),c(S,"$sub_callouts",(function(e){var t,n=this,i=k;return t=l(n["$attr?"]("line-comment"))?O("CalloutSourceRxMap")["$[]"](n.$attr("line-comment")):O("CalloutSourceRx"),i=0,u(e,"gsub",[t],(function e(){var t,n=null==e.$$s?this:e.$$s,s=k;return null==n.document&&(n.document=k),l((t=_["~"])===k?k:t["$[]"](2))?((t=_["~"])===k?k:t["$[]"](0)).$sub(O("RS"),""):O("Inline").$new(n,"callout",f((t=_["~"])===k?k:t["$[]"](4),".")?(i=o(i,1)).$to_s():(t=_["~"])===k?k:t["$[]"](4),r(["id","attributes"],{id:n.document.$callouts().$read_next_id(),attributes:r(["guard"],{guard:l(s=(t=_["~"])===k?k:t["$[]"](1))?s:f((t=_["~"])===k?k:t["$[]"](3),"--")?["\x3c!--","--\x3e"]:k})})).$convert()}),{$$s:n})})),c(S,"$highlight_source",(function(e,t){var n,i,o,s,a,u=this,c=k,$=k,_=k,f=k,p=k,h=k,m=k;return null==u.document&&(u.document=k),null==u.passthroughs&&(u.passthroughs=k),l(c=u.document.$syntax_highlighter())&&l(c["$highlight?"]())?(l(t)&&(i=u.$extract_callouts(e),e=null==(n=d(i))[0]?k:n[0],$=null==n[1]?k:n[1]),_=u.document.$attributes(),o=c.$name(),l(s=l(u["$attr?"]("linenums"))?(l(p=_["$[]"](o+"-linenums-mode"))?p:"table").$to_sym():k)&&l(y(f=u.$attr("start",1).$to_i(),1))&&(f=1),l(u["$attr?"]("highlight"))&&(h=u.$resolve_lines_to_highlight(e,u.$attr("highlight"),f)),i=c.$highlight(u,e,u.$attr("language"),r(["callouts","css_mode","highlight_lines","number_lines","start_line_number","style"],{callouts:$,css_mode:(l(p=_["$[]"](o+"-css"))?p:"class").$to_sym(),highlight_lines:h,number_lines:s,start_line_number:f,style:_["$[]"](o+"-style")})),m=null==(n=d(i))[0]?k:n[0],a=null==n[1]?k:n[1],l(u.passthroughs["$empty?"]())||(m=m.$gsub(O("HighlightedPassSlotRx"),O("PASS_START")+"\\1"+O("PASS_END"))),l($["$nil_or_empty?"]())?m:u.$restore_callouts(m,$,a)):u.$sub_source(e,t)})),c(S,"$resolve_lines_to_highlight",(function(t,n,r){var i,s=k;return null==r&&(r=k),s=[],l(n["$include?"](" "))&&(n=n.$delete(" ")),u(l(n["$include?"](","))?n.$split(","):n.$split(";"),"map",[],(function(n){var r,i,u,c=k,$=k,_=k,f=k;return null==n&&(n=k),l(n["$start_with?"]("!"))&&(n=n.$slice(1,n.$length()),c=!0),l(u=l(n["$include?"](".."))?"..":l(n["$include?"]("-"))?"-":k)?(i=n.$partition(u),$=null==(r=d(i))[0]?k:r[0],null==r[1]||r[1],_=null==r[2]?k:r[2],(l(_["$empty?"]())||l(y(_=_.$to_i(),0)))&&(_=o(t.$count(O("LF")),1)),s=l(c)?b(s,e.Range.$new($.$to_i(),_,!1).$to_a()):s["$|"](e.Range.$new($.$to_i(),_,!1).$to_a())):l(c)?s.$delete(n.$to_i()):a(s["$include?"](f=n.$to_i()))?s["$<<"](f):k})),f(i=l(r)?b(r,1):0,0)||(s=u(s,"map",[],(function(e){return null==e&&(e=k),b(e,i)}))),s.$sort()}),-3),c(S,"$extract_passthroughs",(function(e){var t,n,i,o,s,a,c=this,$=k;return null==c.document&&(c.document=k),null==c.passthroughs&&(c.passthroughs=k),i=c.document.$compat_mode(),$=c.passthroughs,(l(e["$include?"]("++"))||l(e["$include?"]("$$"))||l(e["$include?"]("ss:")))&&(e=u(e,"gsub",[O("InlinePassMacroRx")],(function e(){var t,n,o,s=null==e.$$s?this:e.$$s,a=k,u=k,c=k,d=k,p=k,h=k,m=k;if(l(n=(t=_["~"])===k?k:t["$[]"](4))){if(l(i)&&f(n,"++"))return(l((t=_["~"])===k?k:t["$[]"](2))?((t=_["~"])===k?k:t["$[]"](1))+"["+((t=_["~"])===k?k:t["$[]"](2))+"]"+((t=_["~"])===k?k:t["$[]"](3)):""+((t=_["~"])===k?k:t["$[]"](1))+((t=_["~"])===k?k:t["$[]"](3)))+"++"+s.$extract_passthroughs((t=_["~"])===k?k:t["$[]"](5))+"++";if(l(a=(t=_["~"])===k?k:t["$[]"](2))){if(l(g(u=((t=_["~"])===k?k:t["$[]"](3)).$length(),0)))return((t=_["~"])===k?k:t["$[]"](1))+"["+a+"]"+w(O("RS"),b(u,1))+n+((t=_["~"])===k?k:t["$[]"](5))+n;f((t=_["~"])===k?k:t["$[]"](1),O("RS"))?c="["+a+"]":f(n,"++")?f(a,"x-")?(d=!0,p=r([],{})):l(a["$end_with?"](" x-"))?(d=!0,p=s.$parse_quoted_text_attributes(a.$slice(0,b(a.$length(),3)))):p=s.$parse_quoted_text_attributes(a):p=s.$parse_quoted_text_attributes(a)}else if(l(g(u=((t=_["~"])===k?k:t["$[]"](3)).$length(),0)))return""+w(O("RS"),b(u,1))+n+((t=_["~"])===k?k:t["$[]"](5))+n;h=f(n,"+++")?[]:O("BASIC_SUBS"),l(p)?l(d)?$["$[]="](m=$.$size(),r(["text","subs","type","attributes"],{text:(t=_["~"])===k?k:t["$[]"](5),subs:O("NORMAL_SUBS"),type:"monospaced",attributes:p})):$["$[]="](m=$.$size(),r(["text","subs","type","attributes"],{text:(t=_["~"])===k?k:t["$[]"](5),subs:h,type:"unquoted",attributes:p})):$["$[]="](m=$.$size(),r(["text","subs"],{text:(t=_["~"])===k?k:t["$[]"](5),subs:h}))}else{if(f((t=_["~"])===k?k:t["$[]"](6),O("RS")))return((t=_["~"])===k?k:t["$[]"](0)).$slice(1,((t=_["~"])===k?k:t["$[]"](0)).$length());l(h=(t=_["~"])===k?k:t["$[]"](7))?$["$[]="](m=$.$size(),r(["text","subs"],{text:s.$normalize_text((t=_["~"])===k?k:t["$[]"](8),k,!0),subs:s.$resolve_pass_subs(h)})):$["$[]="](m=$.$size(),r(["text"],{text:s.$normalize_text((t=_["~"])===k?k:t["$[]"](8),k,!0)}))}return""+(l(o=c)?o:"")+O("PASS_START")+m+O("PASS_END")}),{$$s:c})),n=O("InlinePassRx")["$[]"](i),o=null==(t=d(n))[0]?k:t[0],s=null==t[1]?k:t[1],a=null==t[2]?k:t[2],(l(e["$include?"](o))||l(s)&&l(e["$include?"](s)))&&(e=u(e,"gsub",[a],(function e(){var t,n,o,s,a=null==e.$$s?this:e.$$s,u=k,c=k,d=k,p=k,h=k,m=k,g=k,v=k,y=k;if(u=(t=_["~"])===k?k:t["$[]"](1),c=l(n=(t=_["~"])===k?k:t["$[]"](4))?n:(t=_["~"])===k?k:t["$[]"](3),l((t=_["~"])===k?k:t["$[]"](5))&&(d=!0),p=(t=_["~"])===k?k:t["$[]"](6),o=(t=_["~"])===k?k:t["$[]"](7),s=(t=_["~"])===k?k:t["$[]"](8),l(i)?h=!0:l(c)&&(f(c,"x-")||l(c["$end_with?"](" x-")))&&(h=m=!0),l(c)){if(l(d))return u+"["+c+"]"+p.$slice(1,p.$length());if(f(u,O("RS"))){if(l(m)&&f(o,"`"))return u+"["+c+"]"+p;u="["+c+"]"}else g=l(m)?f(c,"x-")?r([],{}):a.$parse_quoted_text_attributes(c.$slice(0,b(c.$length(),3))):a.$parse_quoted_text_attributes(c)}else{if(l(d))return""+u+p.$slice(1,p.$length());if(l(i)&&f(u,O("RS")))return p}return l(i)?$["$[]="](v=$.$size(),r(["text","subs","attributes","type"],{text:s,subs:O("BASIC_SUBS"),attributes:g,type:"monospaced"})):l(g)?l(h)?(y=f(o,"`")?O("BASIC_SUBS"):O("NORMAL_SUBS"),$["$[]="](v=$.$size(),r(["text","subs","attributes","type"],{text:s,subs:y,attributes:g,type:"monospaced"}))):$["$[]="](v=$.$size(),r(["text","subs","attributes","type"],{text:s,subs:O("BASIC_SUBS"),attributes:g,type:"unquoted"})):$["$[]="](v=$.$size(),r(["text","subs"],{text:s,subs:O("BASIC_SUBS")})),""+u+O("PASS_START")+v+O("PASS_END")}),{$$s:c})),l(e["$include?"](":"))&&(l(e["$include?"]("stem:"))||l(e["$include?"]("math:")))&&(e=u(e,"gsub",[O("InlineStemMacroRx")],(function e(){var t,n,i=null==e.$$s?this:e.$$s,o=k,s=k,a=k;return null==i.document&&(i.document=k),l(((t=_["~"])===k?k:t["$[]"](0))["$start_with?"](O("RS")))?((t=_["~"])===k?k:t["$[]"](0)).$slice(1,((t=_["~"])===k?k:t["$[]"](0)).$length()):(f(o=((t=_["~"])===k?k:t["$[]"](1)).$to_sym(),"stem")&&(o=O("STEM_TYPE_ALIASES")["$[]"](i.document.$attributes()["$[]"]("stem")).$to_sym()),s=(t=_["~"])===k?k:t["$[]"](2),a=i.$normalize_text((t=_["~"])===k?k:t["$[]"](3),k,!0),f(o,"latexmath")&&l(a["$start_with?"]("$"))&&l(a["$end_with?"]("$"))&&(a=a.$slice(1,b(a.$length(),2))),s=l(s)?i.$resolve_pass_subs(s):l(i.document["$basebackend?"]("html"))?O("BASIC_SUBS"):k,$["$[]="](n=$.$size(),r(["text","subs","type"],{text:a,subs:s,type:o})),""+O("PASS_START")+n+O("PASS_END"))}),{$$s:c})),e})),c(S,"$restore_passthroughs",(function(e){var t=this,n=k;return null==t.passthroughs&&(t.passthroughs=k),n=t.passthroughs,u(e,"gsub",[O("PassSlotRx")],(function t(){var i,o=null==t.$$s?this:t.$$s,s=k,a=k,u=k,c=k,$=k;return l(s=n["$[]"](((i=_["~"])===k?k:i["$[]"](1)).$to_i()))?(a=o.$apply_subs(s["$[]"]("text"),s["$[]"]("subs")),l(u=s["$[]"]("type"))&&(l(c=s["$[]"]("attributes"))&&($=c["$[]"]("id")),a=O("Inline").$new(o,"quoted",a,r(["type","id","attributes"],{type:u,id:$,attributes:c})).$convert()),l(a["$include?"](O("PASS_START")))?o.$restore_passthroughs(a):a):(o.$logger().$error("unresolved passthrough detected: "+e),"??pass??")}),{$$s:t})})),c(S,"$resolve_subs",(function(e,t,n,r){var i,s,a=k,c=k;return null==t&&(t="block"),null==n&&(n=k),null==r&&(r=k),l(e["$nil_or_empty?"]())?k:(a=k,l(e["$include?"](" "))&&(e=e.$delete(" ")),i=O("SubModifierSniffRx")["$match?"](e),u(e.$split(","),"each",[],(function(e){var r=k,s=k,u=k,c=k,$=k,_=k;if(null==e&&(e=k),r=k,l(i)&&(f(s=e.$chr(),"+")?(r="append",e=e.$slice(1,e.$length())):f(s,"-")?(r="remove",e=e.$slice(1,e.$length())):l(e["$end_with?"]("+"))&&(r="prepend",e=e.$chop())),e=e.$to_sym(),f(t,"inline")&&(f(e,"verbatim")||f(e,"v"))?u=O("BASIC_SUBS"):l(O("SUB_GROUPS")["$key?"](e))?u=O("SUB_GROUPS")["$[]"](e):f(t,"inline")&&f(e.$length(),1)&&l(O("SUB_HINTS")["$key?"](e))?(c=O("SUB_HINTS")["$[]"](e),u=l($=O("SUB_GROUPS")["$[]"](c))?$:[c]):u=[e],!l(r))return a=l(_=a)?_:[],a=o(a,u);switch(a=l(_=a)?_:l(n)?n.$drop(0):[],r){case"append":return a=o(a,u);case"prepend":return a=o(u,a);case"remove":return a=b(a,u);default:return k}})),l(a)?(s=a["$&"](O("SUB_OPTIONS")["$[]"](t)),l(b(a,s)["$empty?"]())||(c=b(a,s),this.$logger().$warn("invalid substitution type"+(l(g(c.$size(),1))?"s":"")+(l(r)?" for ":"")+r+": "+c.$join(", "))),s):k)}),-2),c(S,"$resolve_block_subs",(function(e,t,n){return this.$resolve_subs(e,"block",t,n)})),c(S,"$resolve_pass_subs",(function(e){return this.$resolve_subs(e,"inline",k,"passthrough macro")})),c(S,"$expand_subs",(function(e,t){var n,r=k,i=k;return null==t&&(t=k),m(E("Symbol"),n=e)?f(e,"none")?k:l(r=O("SUB_GROUPS")["$[]"](e))?r:[e]:m(E("Array"),n)?(i=[],u(e,"each",[],(function(e){var t=k;return null==e&&(e=k),f(e,"none")?k:l(t=O("SUB_GROUPS")["$[]"](e))?i=o(i,t):i["$<<"](e)})),l(i["$empty?"]())?k:i):this.$resolve_subs(e,"inline",k,t)}),-2),c(S,"$commit_subs",(function(){var e,t=this,n=k,r=k,i=k,o=k;if(null==t.default_subs&&(t.default_subs=k),null==t.content_model&&(t.content_model=k),null==t.context&&(t.context=k),null==t.subs&&(t.subs=k),null==t.attributes&&(t.attributes=k),null==t.document&&(t.document=k),null==t.style&&(t.style=k),!l(n=t.default_subs))switch(t.content_model){case"simple":n=O("NORMAL_SUBS");break;case"verbatim":n=f(t.context,"verse")?O("NORMAL_SUBS"):O("VERBATIM_SUBS");break;case"raw":n=f(t.context,"stem")?O("BASIC_SUBS"):O("NO_SUBS");break;default:return t.subs}return l(e=t.attributes["$[]"]("subs"))?t.subs=l(r=t.$resolve_block_subs(e,n,t.context))?r:[]:t.subs=n.$drop(0),f(t.context,"listing")&&f(t.style,"source")&&l(o=t.document.$syntax_highlighter())&&l(o["$highlight?"]())&&l(i=t.subs.$index("specialcharacters"))&&t.subs["$[]="](i,"highlight"),k})),c(S,"$parse_attributes",(function(e,t,n){var i,o=this,s=k;return null==o.document&&(o.document=k),null==t&&(t=[]),null==n&&(n=r([],{})),l(!l(e)||e["$empty?"]())?r([],{}):(l(n["$[]"]("unescape_input"))&&(e=o.$normalize_text(e,!0,!0)),l(n["$[]"]("sub_input"))&&l(e["$include?"](O("ATTR_REF_HEAD")))&&(e=o.document.$sub_attributes(e)),l(n["$[]"]("sub_result"))&&(s=o),l(i=n["$[]"]("into"))?O("AttributeList").$new(e,s).$parse_into(i,t):O("AttributeList").$new(e,s).$parse(t))}),-2),S.$private(),c(S,"$extract_attributes_from_text",(function(e,t){var n,r,i=k;return null==t&&(t=k),n=l(e["$include?"](O("LF")))?e.$tr(O("LF")," "):e,l(r=(i=O("AttributeList").$new(n,this).$parse())["$[]"](1))?f(r,n)?[e,i.$clear()]:[r,i]:[t,i]}),-2),c(S,"$extract_callouts",(function(e){var t,n=k,i=k,s=k,a=k;return n=r([],{}),i=s=0,a=k,t=l(this["$attr?"]("line-comment"))?O("CalloutExtractRxMap")["$[]"](this.$attr("line-comment")):O("CalloutExtractRx"),e=u(e.$split(O("LF"),-1),"map",[],(function(e){return null==e&&(e=k),s=o(s,1),u(e,"gsub",[t],(function(){var e,t=k;return l((e=_["~"])===k?k:e["$[]"](2))?((e=_["~"])===k?k:e["$[]"](0)).$sub(O("RS"),""):((l(t=n["$[]"](s))?t:(e=[s,[]],u(n,"[]=",e),e[e.length-1]))["$<<"]([l(t=(e=_["~"])===k?k:e["$[]"](1))?t:f((e=_["~"])===k?k:e["$[]"](3),"--")?["\x3c!--","--\x3e"]:k,f((e=_["~"])===k?k:e["$[]"](4),".")?(i=o(i,1)).$to_s():(e=_["~"])===k?k:e["$[]"](4)]),a=s,"")}))})).$join(O("LF")),l(a)?f(a,s)&&(e=""+e+O("LF")):n=k,[e,n]})),c(S,"$restore_callouts",(function(e,t,n){var i=k,s=k;return null==n&&(n=k),l(n)?(i=e.$slice(0,n),e=e.$slice(n,e.$length())):i="",s=0,o(i,u(e.$split(O("LF"),-1),"map",[],(function e(n){var i,a,c=null==e.$$s?this:e.$$s,$=k,_=k,p=k;return null==c.document&&(c.document=k),null==n&&(n=k),l($=t.$delete(s=o(s,1)))?f($.$size(),1)?(a=$["$[]"](0),_=null==(i=d(a))[0]?k:i[0],p=null==i[1]?k:i[1],""+n+O("Inline").$new(c,"callout",p,r(["id","attributes"],{id:c.document.$callouts().$read_next_id(),attributes:r(["guard"],{guard:_})})).$convert()):""+n+u($,"map",[],(function e(t,n){var i=null==e.$$s?this:e.$$s;return null==i.document&&(i.document=k),null==t&&(t=k),null==n&&(n=k),O("Inline").$new(i,"callout",n,r(["id","attributes"],{id:i.document.$callouts().$read_next_id(),attributes:r(["guard"],{guard:t})})).$convert()}),{$$s:c}).$join(" "):n}),{$$s:this}).$join(O("LF")))}),-3),c(S,"$convert_quoted_text",(function(e,t,n){var i=this,o=k,s=k,a=k,u=k,c=k;if(l(e["$[]"](0)["$start_with?"](O("RS")))){if(!f(n,"constrained")||!l(o=e["$[]"](2)))return e["$[]"](0).$slice(1,e["$[]"](0).$length());s="["+o+"]"}return f(n,"constrained")?l(s)?""+s+O("Inline").$new(i,"quoted",e["$[]"](3),r(["type"],{type:t})).$convert():(l(a=e["$[]"](2))&&(u=(c=i.$parse_quoted_text_attributes(a))["$[]"]("id"),f(t,"mark")&&(t="unquoted")),""+e["$[]"](1)+O("Inline").$new(i,"quoted",e["$[]"](3),r(["type","id","attributes"],{type:t,id:u,attributes:c})).$convert()):(l(a=e["$[]"](1))&&(u=(c=i.$parse_quoted_text_attributes(a))["$[]"]("id"),f(t,"mark")&&(t="unquoted")),O("Inline").$new(i,"quoted",e["$[]"](2),r(["type","id","attributes"],{type:t,id:u,attributes:c})).$convert())})),c(S,"$do_replacement",(function(e,t,n){var r=k;if(l((r=e["$[]"](0))["$include?"](O("RS"))))return r.$sub(O("RS"),"");switch(n){case"none":return t;case"bounding":return o(o(e["$[]"](1),t),e["$[]"](2));default:return o(e["$[]"](1),t)}})),c(S,"$parse_quoted_text_attributes",(function(e){var t,n,i=k,s=k,a=k,u=k,c=k;return l(e["$include?"](O("ATTR_REF_HEAD")))&&(e=this.$sub_attributes(e)),l(e["$include?"](","))&&(e=e.$slice(0,e.$index(","))),l((e=e.$strip())["$empty?"]())?r([],{}):l(e["$start_with?"](".","#"))&&l(O("Compliance").$shorthand_property_syntax())?(n=e.$partition("#"),i=null==(t=d(n))[0]?k:t[0],null==t[1]||t[1],s=null==t[2]?k:t[2],a=r([],{}),l(s["$empty?"]())?l(g(i.$length(),1))&&a["$[]="]("role",i.$tr("."," ").$lstrip()):(n=s.$partition("."),u=null==(t=d(n))[0]?k:t[0],null==t[1]||t[1],c=null==t[2]?k:t[2],l(u["$empty?"]())||a["$[]="]("id",u),l(c["$empty?"]())?l(g(i.$length(),1))&&a["$[]="]("role",i.$tr("."," ").$lstrip()):l(g(i.$length(),1))?a["$[]="]("role",o(o(i,"."),c).$tr("."," ").$lstrip()):a["$[]="]("role",c.$tr("."," "))),a):r(["role"],{role:e})})),c(S,"$normalize_text",(function(e,t,n){return null==t&&(t=k),null==n&&(n=k),l(e["$empty?"]())||(l(t)&&(e=e.$strip().$tr(O("LF")," ")),l(n)&&l(e["$include?"](O("R_SB")))&&(e=e.$gsub(O("ESC_R_SB"),O("R_SB")))),e}),-2),c(S,"$split_simple_csv",(function(e){var t=k,n=k,r=k;return l(e["$empty?"]())?[]:l(e["$include?"]('"'))?(t=[],n="",r=k,u(e,"each_char",[],(function(e){switch(null==e&&(e=k),e){case",":return l(r)?n=o(n,e):(t["$<<"](n.$strip()),n="");case'"':return r=r["$!"]();default:return n=o(n,e)}})),t["$<<"](n.$strip())):u(e.$split(","),"map",[],(function(e){return null==e&&(e=k),e.$strip()}))}))}(S[0],S)}(x[0],x)},Opal.modules["asciidoctor/version"]=function(e){var t=e.module,n=e.const_set,r=[];return e.nil,function(e,r){var i=[t(e,"Asciidoctor")].concat(r);return n(i[0],"VERSION","2.0.20")}(r[0],r)},Opal.modules["asciidoctor/abstract_node"]=function(e){var t=e.module,n=e.klass,r=e.hash2,i=e.eqeq,o=e.truthy,s=e.def,a=e.send,l=e.rb_minus,u=e.eqeqeq,c=e.rb_lt,$=e.not,_=e.to_ary,f=[],d=e.nil,p=e.$$$;return e.add_stubs("include,attr_reader,attr_accessor,==,document,to_s,[],merge,raise,converter,attributes,key?,[]=,delete,tap,new,each_key,end_with?,<<,slice,-,length,update,split,include?,===,join,empty?,apply_reftext_subs,attr?,attr,extname?,image_uri,<,safe,normalize_web_path,uriish?,encode_spaces_in_uri,generate_data_uri_from_uri,generate_data_uri,extname,normalize_system_path,readable?,strict_encode64,binread,warn,logger,require_library,!,open_uri,content_type,read,base_dir,root?,path_resolver,system_path,web_path,!=,prepare_source_string,fetch,read_asset"),function(f,h){var m=[t(f,"Asciidoctor")].concat(h);return function(t,f,h){var m=n(t,null,"AbstractNode"),g=[m].concat(h),v=e.$r(g),b=m.$$prototype;return b.document=b.attributes=b.parent=d,m.$include(v("Logging")),m.$include(v("Substitutors")),m.$attr_reader("attributes"),m.$attr_reader("context"),m.$attr_reader("document"),m.$attr_accessor("id"),m.$attr_reader("node_name"),m.$attr_reader("parent"),s(m,"$initialize",(function(e,t,n){var s=this,a=d;return null==n&&(n=r([],{})),i(t,"document")?s.document=s:o(e)&&(s.document=(s.parent=e).$document()),s.node_name=(s.context=t).$to_s(),s.attributes=o(a=n["$[]"]("attributes"))?a.$merge():r([],{}),s.passthroughs=[]}),-3),s(m,"$block?",(function(){return this.$raise(p("NotImplementedError"))})),s(m,"$inline?",(function(){return this.$raise(p("NotImplementedError"))})),s(m,"$converter",(function(){return this.document.$converter()})),s(m,"$parent=",(function(e){var t;return t=[e,e.$document()],this.parent=t[0],this.document=t[1],t})),s(m,"$attr",(function(e,t,n){var r,s=this,a=d,l=d,u=d;return null==t&&(t=d),null==n&&(n=d),o(r=s.attributes["$[]"](e.$to_s()))?r:o(a=o(l=o(u=n)?s.parent:u)?s.document.$attributes()["$[]"]((i(n,!0)?e:n).$to_s()):l)?a:t}),-2),s(m,"$attr?",(function(e,t,n){var r=this,s=d;return null==t&&(t=d),null==n&&(n=d),o(t)?t["$=="](o(s=r.attributes["$[]"](e.$to_s()))?s:o(n)&&o(r.parent)?r.document.$attributes()["$[]"]((i(n,!0)?e:n).$to_s()):d):o(s=r.attributes["$key?"](e.$to_s()))?s:!(!o(n)||!o(r.parent))&&r.document.$attributes()["$key?"]((i(n,!0)?e:n).$to_s())}),-2),s(m,"$set_attr",(function(e,t,n){return null==t&&(t=""),null==n&&(n=!0),!(i(n,!1)&&o(this.attributes["$key?"](e))||(this.attributes["$[]="](e,t),0))}),-2),s(m,"$remove_attr",(function(e){return this.attributes.$delete(e)})),s(m,"$option?",(function(e){return!!o(this.attributes["$[]"](e+"-option"))})),s(m,"$set_option",(function(e){return this.attributes["$[]="](e+"-option",""),d})),s(m,"$enabled_options",(function(){return a(p("Set").$new(),"tap",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==n.attributes&&(n.attributes=d),null==t&&(t=d),a(n.attributes,"each_key",[],(function(e){return null==e&&(e=d),o(e.$to_s()["$end_with?"]("-option"))?t["$<<"](e.$slice(0,l(e.$length(),7))):d}))}),{$$s:this})})),s(m,"$update_attributes",(function(e){return this.attributes.$update(e)})),s(m,"$role",(function(){return this.attributes["$[]"]("role")})),s(m,"$roles",(function(){var e=d;return o(e=this.attributes["$[]"]("role"))?e.$split():[]})),s(m,"$role?",(function(e){return null==e&&(e=d),o(e)?e["$=="](this.attributes["$[]"]("role")):this.attributes["$key?"]("role")}),-1),s(m,"$has_role?",(function(e){var t;return!!o(t=this.attributes["$[]"]("role"))&&(" "+t+" ")["$include?"](" "+e+" ")})),s(m,"$role=",(function(e){var t;return t=["role",u(p("Array"),e)?e.$join(" "):e],a(this.attributes,"[]=",t),t[t.length-1]})),s(m,"$add_role",(function(e){var t,n=this;return o(t=n.attributes["$[]"]("role"))?!o((" "+t+" ")["$include?"](" "+e+" "))&&(n.attributes["$[]="]("role",t+" "+e),!0):(n.attributes["$[]="]("role",e),!0)})),s(m,"$remove_role",(function(e){var t=this,n=d;return!(!o(n=t.attributes["$[]"]("role"))||!o((n=n.$split()).$delete(e))||(o(n["$empty?"]())?t.attributes.$delete("role"):t.attributes["$[]="]("role",n.$join(" ")),0))})),s(m,"$reftext",(function(){var e;return o(e=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(e):d})),s(m,"$reftext?",(function(){return this.attributes["$key?"]("reftext")})),s(m,"$icon_uri",(function(e){var t=this,n=d;return o(t["$attr?"]("icon"))?(n=t.$attr("icon"),o(v("Helpers")["$extname?"](n))||(n=n+"."+t.document.$attr("icontype","png"))):n=e+"."+t.document.$attr("icontype","png"),t.$image_uri(n,"iconsdir")})),s(m,"$image_uri",(function(e,t){var n=this,r=d,i=d;return null==t&&(t="imagesdir"),o(c((r=n.document).$safe(),p(v("SafeMode"),"SECURE")))&&o(r["$attr?"]("data-uri"))?o(v("Helpers")["$uriish?"](e))&&o(e=v("Helpers").$encode_spaces_in_uri(e))||o(t)&&o(i=r.$attr(t))&&o(v("Helpers")["$uriish?"](i))&&o(e=n.$normalize_web_path(e,i,!1))?o(r["$attr?"]("allow-uri-read"))?n.$generate_data_uri_from_uri(e,r["$attr?"]("cache-uri")):e:n.$generate_data_uri(e,t):n.$normalize_web_path(e,o(t)?r.$attr(t):d)}),-2),s(m,"$media_uri",(function(e,t){return null==t&&(t="imagesdir"),this.$normalize_web_path(e,o(t)?this.document.$attr(t):d)}),-2),s(m,"$generate_data_uri",(function(e,t){var n,s,a=this,l=d;return null==t&&(t=d),n=o(l=v("Helpers").$extname(e,d))?i(l,".svg")?"image/svg+xml":"image/"+l.$slice(1,l.$length()):"application/octet-stream",s=o(t)?a.$normalize_system_path(e,a.document.$attr(t),d,r(["target_name"],{target_name:"image"})):a.$normalize_system_path(e),o(p("File")["$readable?"](s))?"data:"+n+";base64,"+p("Base64").$strict_encode64(p("File").$binread(s)):(a.$logger().$warn("image to embed not found or not readable: "+s),"data:"+n+";base64,")}),-2),s(m,"$generate_data_uri_from_uri",(function(t,n){var r,i,s=d,l=d;null==n&&(n=!1),o(n)?v("Helpers").$require_library("open-uri/cached","open-uri-cached"):$(v("RUBY_ENGINE_OPAL"))&&p("OpenURI");try{return i=a(p("OpenURI"),"open_uri",[t,v("URI_READ_MODE")],(function(e){return null==e&&(e=d),[e.$content_type(),e.$read()]})),s=null==(r=_(i))[0]?d:r[0],l=null==r[1]?d:r[1],"data:"+s+";base64,"+p("Base64").$strict_encode64(l)}catch(n){if(!e.rescue(n,[v("StandardError")]))throw n;try{return this.$logger().$warn("could not retrieve image data from URI: "+t),t}finally{e.pop_exception()}}}),-2),s(m,"$normalize_asset_path",(function(e,t,n){return null==t&&(t="path"),null==n&&(n=!0),this.$normalize_system_path(e,this.document.$base_dir(),d,r(["target_name","recover"],{target_name:t,recover:n}))}),-2),s(m,"$normalize_system_path",(function(e,t,n,i){var s=d,a=d;return null==t&&(t=d),null==n&&(n=d),null==i&&(i=r([],{})),o(c((s=this.document).$safe(),p(v("SafeMode"),"SAFE")))?o(t)?o(s.$path_resolver()["$root?"](t))||(t=p("File").$join(s.$base_dir(),t)):t=s.$base_dir():(t=o(a=t)?a:s.$base_dir(),n=o(a=n)?a:s.$base_dir()),s.$path_resolver().$system_path(e,t,n,i)}),-2),s(m,"$normalize_web_path",(function(e,t,n){return null==t&&(t=d),null==n&&(n=!0),o(n)&&o(v("Helpers")["$uriish?"](e))?v("Helpers").$encode_spaces_in_uri(e):this.document.$path_resolver().$web_path(e,t)}),-2),s(m,"$read_asset",(function(e,t){var n=d;return null==t&&(t=r([],{})),u(p("Hash"),t)||(t=r(["warn_on_failure"],{warn_on_failure:t["$!="](!1)})),o(p("File")["$readable?"](e))?o(t["$[]"]("normalize"))?v("Helpers").$prepare_source_string(p("File").$read(e,r(["mode"],{mode:v("FILE_READ_MODE")}))).$join(v("LF")):p("File").$read(e,r(["mode"],{mode:v("FILE_READ_MODE")})):o(t["$[]"]("warn_on_failure"))?(this.$logger().$warn((o(n=this.$attr("docfile"))?n:"<stdin>")+": "+(o(n=t["$[]"]("label"))?n:"file")+" does not exist or cannot be read: "+e),d):d}),-2),s(m,"$read_contents",(function(t,n){var i=this,s=d,l=d,u=d,c=d;if(null==n&&(n=r([],{})),s=i.document,o(v("Helpers")["$uriish?"](t))||o(l=n["$[]"]("start"))&&o(v("Helpers")["$uriish?"](l))&&o(t=s.$path_resolver().$web_path(t,l)))if(o(s["$attr?"]("allow-uri-read"))){o(s["$attr?"]("cache-uri"))&&v("Helpers").$require_library("open-uri/cached","open-uri-cached");try{u=o(n["$[]"]("normalize"))?v("Helpers").$prepare_source_string(a(p("OpenURI"),"open_uri",[t,v("URI_READ_MODE")],(function(e){return null==e&&(e=d),e.$read()}))).$join(v("LF")):a(p("OpenURI"),"open_uri",[t,v("URI_READ_MODE")],(function(e){return null==e&&(e=d),e.$read()}))}catch(r){if(!e.rescue(r,[v("StandardError")]))throw r;try{o(n.$fetch("warn_on_failure",!0))&&i.$logger().$warn("could not retrieve contents of "+(o(c=n["$[]"]("label"))?c:"asset")+" at URI: "+t)}finally{e.pop_exception()}}}else o(n.$fetch("warn_on_failure",!0))&&i.$logger().$warn("cannot retrieve contents of "+(o(c=n["$[]"]("label"))?c:"asset")+" at URI: "+t+" (allow-uri-read attribute not enabled)");else t=i.$normalize_system_path(t,n["$[]"]("start"),d,r(["target_name"],{target_name:o(c=n["$[]"]("label"))?c:"asset"})),u=i.$read_asset(t,r(["normalize","warn_on_failure","label"],{normalize:n["$[]"]("normalize"),warn_on_failure:n.$fetch("warn_on_failure",!0),label:n["$[]"]("label")}));return o(u)&&o(n["$[]"]("warn_if_empty"))&&o(u["$empty?"]())&&i.$logger().$warn("contents of "+(o(c=n["$[]"]("label"))?c:"asset")+" is empty: "+t),u}),-2),s(m,"$is_uri?",(function(e){return v("Helpers")["$uriish?"](e)}))}(m[0],0,m)}(f[0],f)},Opal.modules["asciidoctor/abstract_block"]=function(e){var t=e.module,n=e.klass,r=e.hash2,i=e.send2,o=e.find_super,s=e.eqeq,a=e.eqeqeq,l=e.def,u=e.return_val,c=e.truthy,$=e.alias,_=e.send,f=e.rb_plus,d=e.not,p=e.neqeq,h=[],m=e.nil,g=e.$$$;return e.add_stubs("attr_reader,attr_writer,attr_accessor,==,===,level,file,lineno,playback_attributes,convert,converter,join,map,to_s,parent,parent=,<<,empty?,Integer,find_by_internal,to_proc,find_by,context,[],items,+,find_index,include?,next_adjacent_block,blocks,select,sub_specialchars,match?,sub_replacements,title,apply_title_subs,delete,!,reftext,nil_or_empty?,sub_placeholder,sub_quotes,compat_mode,attributes,chomp,increment_and_store_counter,index=,numbered,sectname,numeral=,counter,caption=,numeral,int_to_roman,each,assign_numeral,reindex_sections,protected,has_role?,raise,header?,!=,flatten,head,rows,merge,body,foot,style,inner_document"),function(h,v){var b=[t(h,"Asciidoctor")].concat(v),y=e.$r(b);return function(t,h,v){var b=n(t,h,"AbstractBlock"),y=[b].concat(v),w=e.$r(y),x=b.$$prototype;return x.source_location=x.document=x.attributes=x.blocks=x.numeral=x.context=x.parent=x.caption=x.style=x.converted_title=x.title=x.subs=x.next_section_index=x.next_section_ordinal=x.id=x.header=m,b.$attr_reader("blocks"),b.$attr_writer("caption"),b.$attr_accessor("content_model"),b.$attr_accessor("level"),b.$attr_accessor("numeral"),b.$attr_accessor("source_location"),b.$attr_accessor("style"),b.$attr_reader("subs"),l(b,"$initialize",(function e(t,n,l){var u=e.$$p||m,c=this;return e.$$p=null,null==l&&(l=r([],{})),i(c,o(c,"initialize",e,!1,!0),"initialize",[t,n,l],u),c.content_model="compound",c.blocks=[],c.subs=[],c.id=c.title=c.caption=c.numeral=c.style=c.default_subs=c.source_location=m,s(n,"document")||s(n,"section")?(c.level=c.next_section_index=0,c.next_section_ordinal=1):a(w("AbstractBlock"),t)?c.level=t.$level():c.level=m}),-3),l(b,"$block?",u(!0)),l(b,"$inline?",u(!1)),l(b,"$file",(function(){var e;return c(e=this.source_location)?this.source_location.$file():e})),l(b,"$lineno",(function(){var e;return c(e=this.source_location)?this.source_location.$lineno():e})),l(b,"$convert",(function(){var e=this;return e.document.$playback_attributes(e.attributes),e.$converter().$convert(e)})),$(b,"render","convert"),l(b,"$content",(function(){return _(this.blocks,"map",[],(function(e){return null==e&&(e=m),e.$convert()})).$join(w("LF"))})),l(b,"$context=",(function(e){return this.node_name=(this.context=e).$to_s()})),l(b,"$<<",(function(e){var t=this;return s(e.$parent(),t)||e["$parent="](t),t.blocks["$<<"](e),t})),$(b,"append","<<"),l(b,"$blocks?",(function(){return!c(this.blocks["$empty?"]())})),l(b,"$sections?",u(!1)),l(b,"$number",(function(){var t=this;try{return t.$Integer(t.numeral)}catch(n){if(!e.rescue(n,[w("StandardError")]))throw n;try{return t.numeral}finally{e.pop_exception()}}})),l(b,"$number=",(function(e){return this.numeral=e.$to_s()})),l(b,"$find_by",(function t(n){var i=t.$$p||m,o=m;t.$$p=null,null==n&&(n=r([],{}));try{return _(this,"find_by_internal",[n,o=[]],i.$to_proc())}catch(t){if(!e.rescue(t,[g("StopIteration")]))throw t;try{return o}finally{e.pop_exception()}}}),-1),$(b,"query","find_by"),l(b,"$next_adjacent_block",(function(){var e=this,t=m,n=m;return s(e.context,"document")?m:s((t=e.parent).$context(),"dlist")&&s(e.context,"list_item")?c(n=t.$items()["$[]"](f(_(t.$items(),"find_index",[],(function e(t,n){var r,i=null==e.$$s?this:e.$$s;return null==t&&(t=m),null==n&&(n=m),c(r=t["$include?"](i))?r:n["$=="](i)}),{$$s:e}),1)))?n:t.$next_adjacent_block():c(n=t.$blocks()["$[]"](f(t.$blocks().$find_index(e),1)))?n:t.$next_adjacent_block()})),l(b,"$sections",(function(){return _(this.blocks,"select",[],(function(e){return null==e&&(e=m),e.$context()["$=="]("section")}))})),l(b,"$alt",(function(){var e=this,t=m;return c(t=e.attributes["$[]"]("alt"))?s(t,e.attributes["$[]"]("default-alt"))?e.$sub_specialchars(t):(t=e.$sub_specialchars(t),c(w("ReplaceableTextRx")["$match?"](t))?e.$sub_replacements(t):t):""})),l(b,"$caption",(function(){var e=this;return s(e.context,"admonition")?e.attributes["$[]"]("textlabel"):e.caption})),l(b,"$captioned_title",(function(){return""+this.caption+this.$title()})),l(b,"$list_marker_keyword",(function(e){var t;return null==e&&(e=m),w("ORDERED_LIST_KEYWORDS")["$[]"](c(t=e)?t:this.style)}),-1),l(b,"$title",(function(){var e,t=this,n=m;return t.converted_title=c(e=t.converted_title)?e:c(n=t.title)?t.$apply_title_subs(t.title):n})),l(b,"$title?",(function(){return!!c(this.title)})),l(b,"$title=",(function(e){return this.converted_title=m,this.title=e})),l(b,"$sub?",(function(e){return this.subs["$include?"](e)})),l(b,"$remove_sub",(function(e){return this.subs.$delete(e),m})),l(b,"$xreftext",(function(e){var t=this,n=m,r=m,i=m,o=m;if(null==e&&(e=m),c(n=t.$reftext())&&d(n["$empty?"]()))return n;if(!(c(e)&&c(t.title)&&d(t.caption["$nil_or_empty?"]())))return t.$title();switch(e){case"full":return r=t.$sub_placeholder(t.$sub_quotes(c(t.document.$compat_mode())?"``%s''":'"`%s`"'),t.$title()),c(t.numeral)&&c(o=w("CAPTION_ATTRIBUTE_NAMES")["$[]"](t.context))&&c(i=t.document.$attributes()["$[]"](o))?i+" "+t.numeral+", "+r:t.caption.$chomp(". ")+", "+r;case"short":return c(t.numeral)&&c(o=w("CAPTION_ATTRIBUTE_NAMES")["$[]"](t.context))&&c(i=t.document.$attributes()["$[]"](o))?i+" "+t.numeral:t.caption.$chomp(". ");default:return t.$title()}}),-1),l(b,"$assign_caption",(function(e,t){var n=this,r=m,i=m,o=m;return null==t&&(t=n.context),c(n.caption)||d(n.title)||c(n.caption=c(r=e)?r:n.document.$attributes()["$[]"]("caption"))?m:c(o=w("CAPTION_ATTRIBUTE_NAMES")["$[]"](t))&&c(i=n.document.$attributes()["$[]"](o))?(n.caption=i+" "+(n.numeral=n.document.$increment_and_store_counter(t+"-number",n))+". ",m):m}),-2),l(b,"$assign_numeral",(function(e){var t,n,r=this,i=m,o=m;return r.next_section_index=f((t=[r.next_section_index],_(e,"index=",t),t[t.length-1]),1),c(n=e.$numbered())&&(s(i=e.$sectname(),"appendix")?(e["$numeral="](r.document.$counter("appendix-number","A")),e["$caption="](c(o=r.document.$attributes()["$[]"]("appendix-caption"))?o+" "+e.$numeral()+": ":e.$numeral()+". ")):s(i,"chapter")||s(n,"chapter")?e["$numeral="](r.document.$counter("chapter-number",1).$to_s()):(e["$numeral="](s(i,"part")?w("Helpers").$int_to_roman(r.next_section_ordinal):r.next_section_ordinal.$to_s()),r.next_section_ordinal=f(r.next_section_ordinal,1))),m})),l(b,"$reindex_sections",(function(){var e=this;return e.next_section_index=0,e.next_section_ordinal=1,_(e.blocks,"each",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==t&&(t=m),s(t.$context(),"section")?(n.$assign_numeral(t),t.$reindex_sections()):m}),{$$s:e})})),b.$protected(),l(b,"$find_by_internal",(function t(n,i){var o,a,l=t.$$p||m,u=this,$=m,h=m,v=m,b=m;if(t.$$p=null,null==n&&(n=r([],{})),null==i&&(i=[]),(c(o=!c(a=n["$[]"]("context"))||m)||s(a,u.context))&&(d(v=n["$[]"]("style"))||s(v,u.style))&&(d(h=n["$[]"]("role"))||c(u["$has_role?"](h)))&&(d($=n["$[]"]("id"))||s($,u.id)))if(l!==m)if(c(b=e.yield1(l,u)))switch(b){case"prune":return i["$<<"](u),c($)&&u.$raise(g("StopIteration")),i;case"reject":return c($)&&u.$raise(g("StopIteration")),i;case"stop":u.$raise(g("StopIteration"));break;default:i["$<<"](u),c($)&&u.$raise(g("StopIteration"))}else c($)&&u.$raise(g("StopIteration"));else i["$<<"](u),c($)&&u.$raise(g("StopIteration"));switch(u.context){case"document":s(a,"document")||(c(u["$header?"]())&&(c(o)||s(a,"section"))&&_(u.header,"find_by_internal",[n,i],l.$to_proc()),_(u.blocks,"each",[],(function(e){return null==e&&(e=m),s(a,"section")&&p(e.$context(),"section")?m:_(e,"find_by_internal",[n,i],l.$to_proc())})));break;case"dlist":(c(o)||p(a,"section"))&&_(u.blocks.$flatten(),"each",[],(function(e){return null==e&&(e=m),c(e)?_(e,"find_by_internal",[n,i],l.$to_proc()):m}));break;case"table":c(n["$[]"]("traverse_documents"))?(_(u.$rows().$head(),"each",[],(function(e){return null==e&&(e=m),_(e,"each",[],(function(e){return null==e&&(e=m),_(e,"find_by_internal",[n,i],l.$to_proc())}))})),s(a,"inner_document")&&(n=n.$merge(r(["context"],{context:"document"}))),_(f(u.$rows().$body(),u.$rows().$foot()),"each",[],(function(e){return null==e&&(e=m),_(e,"each",[],(function(e){return null==e&&(e=m),_(e,"find_by_internal",[n,i],l.$to_proc()),s(e.$style(),"asciidoc")?_(e.$inner_document(),"find_by_internal",[n,i],l.$to_proc()):m}))}))):_(f(f(u.$rows().$head(),u.$rows().$body()),u.$rows().$foot()),"each",[],(function(e){return null==e&&(e=m),_(e,"each",[],(function(e){return null==e&&(e=m),_(e,"find_by_internal",[n,i],l.$to_proc())}))}));break;default:_(u.blocks,"each",[],(function(e){return null==e&&(e=m),s(a,"section")&&p(e.$context(),"section")?m:_(e,"find_by_internal",[n,i],l.$to_proc())}))}return i}),-1)}(b[0],y("AbstractNode"),b)}(h[0],h)},Opal.modules["asciidoctor/attribute_list"]=function(e){var t=e.module,n=e.klass,r=e.const_set,i=e.hash,o=e.regexp,s=e.hash2,a=e.def,l=e.truthy,u=e.rb_plus,c=e.send,$=e.defs,_=e.eqeqeq,f=e.eqeq,d=e.rb_times,p=[],h=e.nil,m=e.$$$;return e.add_stubs("new,[],update,parse,parse_attribute,eos?,skip_delimiter,+,rekey,each_with_index,[]=,private,skip_blank,===,peek,parse_attribute_value,get_byte,start_with?,scan_name,end_with?,rstrip,string,==,unscan,scan_to_delimiter,*,include?,delete,each,split,empty?,apply_subs,scan_to_quote,gsub,skip,scan"),function(p,g){var v=[t(p,"Asciidoctor")].concat(g);return function(t,p,g){var v=n(t,null,"AttributeList"),b=[v].concat(g),y=e.$r(b),w=v.$$prototype;return w.attributes=w.scanner=w.delimiter=w.block=w.delimiter_skip_pattern=w.delimiter_boundary_pattern=h,r(b[0],"APOS","'"),r(b[0],"BACKSLASH","\\"),r(b[0],"QUOT",'"'),r(b[0],"BoundaryRx",i(y("QUOT"),/.*?[^\\](?=")/,y("APOS"),/.*?[^\\](?=')/,",",/.*?(?=[ \t]*(,|$))/)),r(b[0],"EscapedQuotes",i(y("QUOT"),'\\"',y("APOS"),"\\'")),r(b[0],"NameRx",o([y("CG_WORD"),"[",y("CC_WORD"),"\\-.]*"])),r(b[0],"BlankRx",/[ \t]+/),r(b[0],"SkipRx",s([","],{",":/[ \t]*(,|$)/})),a(v,"$initialize",(function(e,t,n){var r=this;return null==t&&(t=h),null==n&&(n=","),r.scanner=m("StringScanner").$new(e),r.block=t,r.delimiter=n,r.delimiter_skip_pattern=y("SkipRx")["$[]"](n),r.delimiter_boundary_pattern=y("BoundaryRx")["$[]"](n),r.attributes=h}),-2),a(v,"$parse_into",(function(e,t){return null==t&&(t=[]),e.$update(this.$parse(t))}),-2),a(v,"$parse",(function(e){var t=this,n=h;if(null==e&&(e=[]),l(t.attributes))return t.attributes;for(t.attributes=s([],{}),n=0;l(t.$parse_attribute(n,e))&&!l(t.scanner["$eos?"]());)t.$skip_delimiter(),n=u(n,1);return t.attributes}),-1),a(v,"$rekey",(function(e){return y("AttributeList").$rekey(this.attributes,e)})),$(v,"$rekey",(function(e,t){return c(t,"each_with_index",[],(function(t,n){var r,i=h;return null==t&&(t=h),null==n&&(n=h),l(t)&&l(i=e["$[]"](u(n,1)))?(c(e,"[]=",r=[t,i]),r[r.length-1]):h})),e})),v.$private(),a(v,"$parse_attribute",(function(e,t){var n,r=this,i=h,o=h,s=h,a=h,$=h,p=h,m=h,g=h,v=h;if(i=!0,r.$skip_blank(),_(y("QUOT"),n=r.scanner.$peek(1)))o=r.$parse_attribute_value(r.scanner.$get_byte());else if(_(y("APOS"),n))o=r.$parse_attribute_value(r.scanner.$get_byte()),l(o["$start_with?"](y("APOS")))||(s=!0);else if(a=l($=l(p=o=r.$scan_name())?r.$skip_blank():p)?$:0,l(r.scanner["$eos?"]())){if(!l(o)&&!l(r.scanner.$string().$rstrip()["$end_with?"](r.delimiter)))return h;i=h}else if(f(m=r.scanner.$get_byte(),r.delimiter))r.scanner.$unscan();else if(l(o))if(f(m,"=")){if(r.$skip_blank(),_(y("QUOT"),$=m=r.scanner.$get_byte()))g=r.$parse_attribute_value(m);else if(_(y("APOS"),$))g=r.$parse_attribute_value(m),l(g["$start_with?"](y("APOS")))||(s=!0);else if(_(r.delimiter,$))g="",r.scanner.$unscan();else if(_(h,$))g="";else if(g=""+m+r.$scan_to_delimiter(),f(g,"None"))return!0}else o=""+o+d(" ",a)+m+r.$scan_to_delimiter();else o=""+m+r.$scan_to_delimiter();if(l(g))switch(o){case"options":case"opts":l(g["$include?"](","))?(l(g["$include?"](" "))&&(g=g.$delete(" ")),c(g.$split(","),"each",[],(function e(t){var n,r=null==e.$$s?this:e.$$s;return null==r.attributes&&(r.attributes=h),null==t&&(t=h),l(t["$empty?"]())?h:(n=[t+"-option",""],c(r.attributes,"[]=",n),n[n.length-1])}),{$$s:r})):l(g["$empty?"]())||r.attributes["$[]="](g+"-option","");break;default:if(l(s)&&l(r.block))switch(o){case"title":case"reftext":r.attributes["$[]="](o,g);break;default:r.attributes["$[]="](o,r.block.$apply_subs(g))}else r.attributes["$[]="](o,g)}else l(s)&&l(r.block)&&(o=r.block.$apply_subs(o)),l(v=t["$[]"](e))&&l(o)&&r.attributes["$[]="](v,o),r.attributes["$[]="](u(e,1),o);return i})),a(v,"$parse_attribute_value",(function(e){var t=this,n=h;return f(t.scanner.$peek(1),e)?(t.scanner.$get_byte(),""):l(n=t.$scan_to_quote(e))?(t.scanner.$get_byte(),l(n["$include?"](y("BACKSLASH")))?n.$gsub(y("EscapedQuotes")["$[]"](e),e):n):""+e+t.$scan_to_delimiter()})),a(v,"$skip_blank",(function(){return this.scanner.$skip(y("BlankRx"))})),a(v,"$skip_delimiter",(function(){return this.scanner.$skip(this.delimiter_skip_pattern)})),a(v,"$scan_name",(function(){return this.scanner.$scan(y("NameRx"))})),a(v,"$scan_to_delimiter",(function(){return this.scanner.$scan(this.delimiter_boundary_pattern)})),a(v,"$scan_to_quote",(function(e){return this.scanner.$scan(y("BoundaryRx")["$[]"](e))}))}(v[0],0,v)}(p[0],p)},Opal.modules["asciidoctor/block"]=function(e){var t=e.module,n=e.klass,r=e.const_set,i=e.hash2,o=e.alias,s=e.send2,a=e.find_super,l=e.truthy,u=e.eqeqeq,c=e.def,$=e.rb_lt,_=e.eqeq,f=[],d=e.nil,p=e.$$$;return e.add_stubs("default=,context,attr_accessor,[],key?,===,drop,delete,[]=,to_s,commit_subs,nil_or_empty?,prepare_source_string,apply_subs,join,<,size,empty?,rstrip,shift,pop,==,warn,logger,class,object_id,inspect"),function(f,h){var m=[t(f,"Asciidoctor")].concat(h),g=e.$r(m);return function(t,f,h){var m=n(t,f,"Block"),g=[m].concat(h),v=e.$r(g),b=m.$$prototype;return b.attributes=b.content_model=b.lines=b.subs=b.blocks=b.context=b.style=d,r(g[0],"DEFAULT_CONTENT_MODEL",i(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}))["$default="]("simple"),o(m,"blockname","context"),m.$attr_accessor("lines"),c(m,"$initialize",(function e(t,n,r){var o=e.$$p||d,c=this,$=d,_=d,f=d;return e.$$p=null,null==r&&(r=i([],{})),s(c,a(c,"initialize",e,!1,!0),"initialize",[t,n,r],o),c.content_model=l($=r["$[]"]("content_model"))?$:v("DEFAULT_CONTENT_MODEL")["$[]"](n),l(r["$key?"]("subs"))?l(_=r["$[]"]("subs"))?(u("default",$=_)?c.default_subs=r["$[]"]("default_subs"):u(p("Array"),$)?(c.default_subs=_.$drop(0),c.attributes.$delete("subs")):(c.default_subs=d,c.attributes["$[]="]("subs",_.$to_s())),c.$commit_subs()):(c.default_subs=[],c.attributes.$delete("subs")):c.default_subs=d,l((f=r["$[]"]("source"))["$nil_or_empty?"]())?c.lines=[]:u(p("String"),f)?c.lines=v("Helpers").$prepare_source_string(f):c.lines=f.$drop(0)}),-3),c(m,"$content",(function e(){var t=e.$$p||d,n=this,r=d,i=d,o=d,u=d;switch(e.$$p=null,n.content_model){case"compound":return s(n,a(n,"content",e,!1,!0),"content",[],t);case"simple":return n.$apply_subs(n.lines.$join(v("LF")),n.subs);case"verbatim":case"raw":if(r=n.$apply_subs(n.lines,n.subs),l($(r.$size(),2)))return l(i=r["$[]"](0))?i:"";for(;l(l(i=o=r["$[]"](0))?o.$rstrip()["$empty?"]():i);)r.$shift();for(;l(l(i=u=r["$[]"](-1))?u.$rstrip()["$empty?"]():i);)r.$pop();return r.$join(v("LF"));default:return _(n.content_model,"empty")||n.$logger().$warn("unknown content model '"+n.content_model+"' for block: "+n),d}})),c(m,"$source",(function(){return this.lines.$join(v("LF"))})),c(m,"$to_s",(function(){var e,t=this;return e=_(t.content_model,"compound")?"blocks: "+t.blocks.$size():"lines: "+t.lines.$size(),"#<"+t.$class()+"@"+t.$object_id()+" {context: "+t.context.$inspect()+", content_model: "+t.content_model.$inspect()+", style: "+t.style.$inspect()+", "+e+"}>"}))}(m[0],g("AbstractBlock"),m)}(f[0],f)},Opal.modules["asciidoctor/callouts"]=function(e){var t,n,r,i,o=e.module,s=e.klass,a=e.def,l=e.hash2,u=e.rb_plus,c=e.truthy,$=e.rb_le,_=e.rb_minus,f=e.send,d=e.eqeq,p=e.rb_lt,h=[],m=e.nil;return e.add_stubs("next_list,<<,current_list,to_i,generate_next_callout_id,+,<=,size,[],-,chop,join,map,==,<,private,generate_callout_id"),t=h,n=[o(h[0],"Asciidoctor")].concat(t)[0],r=s(n,null,"Callouts"),(i=r.$$prototype).co_index=i.lists=i.list_index=m,a(r,"$initialize",(function(){var e=this;return e.lists=[],e.list_index=0,e.$next_list()})),a(r,"$register",(function(e){var t,n=this;return n.$current_list()["$<<"](l(["ordinal","id"],{ordinal:e.$to_i(),id:t=n.$generate_next_callout_id()})),n.co_index=u(n.co_index,1),t})),a(r,"$read_next_id",(function(){var e=this,t=m,n=m;return t=m,n=e.$current_list(),c($(e.co_index,n.$size()))&&(t=n["$[]"](_(e.co_index,1))["$[]"]("id")),e.co_index=u(e.co_index,1),t})),a(r,"$callout_ids",(function(e){return f(this.$current_list(),"map",[],(function(t){return null==t&&(t=m),d(t["$[]"]("ordinal"),e)?t["$[]"]("id")+" ":""})).$join().$chop()})),a(r,"$current_list",(function(){return this.lists["$[]"](_(this.list_index,1))})),a(r,"$next_list",(function(){var e=this;return e.list_index=u(e.list_index,1),c(p(e.lists.$size(),e.list_index))&&e.lists["$<<"]([]),e.co_index=1,m})),a(r,"$rewind",(function(){return this.list_index=1,this.co_index=1,m})),r.$private(),a(r,"$generate_next_callout_id",(function(){var e=this;return e.$generate_callout_id(e.list_index,e.co_index)})),a(r,"$generate_callout_id",(function(e,t){return"CO"+e+"-"+t}))},Opal.modules["asciidoctor/converter/composite"]=function(e){var t=e.module,n=e.klass,r=e.slice,i=e.extract_kwargs,o=e.ensure_kwargs,s=e.send,a=e.truthy,l=e.def,u=e.thrower,c=[],$=e.nil,_=e.$$$;return e.add_stubs("attr_reader,each,respond_to?,composed,init_backend_traits,backend_traits,new,[]=,find_converter,convert,converter_for,node_name,[],handles?,raise"),function(c,f){var d=[t(c,"Asciidoctor")].concat(f),p=e.$r(d);return function(e,t){var c=n(e,t,"CompositeConverter"),f=c.$$prototype;return f.converter_cache=f.converters=$,c.$attr_reader("converters"),l(c,"$initialize",(function(e,t,n){var l,u,c,f,d=this;return l=r(arguments,1),u=i(l),c=l,null==(f=(u=o(u)).$$smap.backend_traits_source)&&(f=$),d.backend=e,s(d.converters=c,"each",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==t&&(t=$),a(t["$respond_to?"]("composed"))?t.$composed(n):$}),{$$s:d}),a(f)&&d.$init_backend_traits(f.$backend_traits()),d.converter_cache=s(_("Hash"),"new",[],(function e(t,n){var r;return null==t&&(t=$),null==n&&(n=$),r=[n,(null==e.$$s?this:e.$$s).$find_converter(n)],s(t,"[]=",r),r[r.length-1]}),{$$s:d})}),-2),l(c,"$convert",(function(e,t,n){var r;return null==t&&(t=$),null==n&&(n=$),this.$converter_for(t=a(r=t)?r:e.$node_name()).$convert(e,t,n)}),-2),l(c,"$converter_for",(function(e){return this.converter_cache["$[]"](e)})),l(c,"$find_converter",(function(e){try{var t=u("return");return s(this.converters,"each",[],(function(n){if(null==n&&(n=$),!a(n["$handles?"](e)))return $;t.$throw(n)}),{$$ret:t}),this.$raise("Could not find a converter to handle transform: "+e)}catch(e){if(e===t)return e.$v;throw e}}))}(p("Converter"),_(p("Converter"),"Base"))}(c[0],c)},Opal.modules["asciidoctor/converter"]=function(e){var t=e.module,n=e.hash2,r=e.def,i=e.return_val,o=e.truthy,s=e.eqeq,a=e.defs,l=e.send,u=e.alias,c=e.slice,$=e.to_a,_=e.extract_kwargs,f=e.ensure_kwargs,d=e.eqeqeq,p=e.Class,h=e.klass,m=e.class_variable_set,g=e.class_variable_get,v=e.rb_plus,b=e.gvars,y=[],w=e.nil,x=e.$$$;return e.add_stubs("autoload,attr_reader,raise,class,[],sub,slice,length,==,[]=,backend_traits,derive_backend_traits,register,map,to_s,new,create,default,each,default=,registry,for,===,supports_templates?,merge,private,include,delete,clear,send,extend,private_class_method,node_name,+,name,receiver,warn,logger,respond_to?,content"),function(y,k){var E=[t(y,"Asciidoctor")].concat(k);return function(y,k){var E=t(y,"Converter"),A=[E].concat(k),S=e.$r(A);return E.$autoload("CompositeConverter","asciidoctor/converter/composite"),E.$attr_reader("backend"),r(E,"$initialize",(function(e,t){return null==t&&(t=n([],{})),this.backend=e}),-2),r(E,"$convert",(function(e,t,n){var r=this;return null==r.backend&&(r.backend=w),null==t&&(t=w),null==n&&(n=w),r.$raise(x("NotImplementedError"),r.$class()+" (backend: "+r.backend+") must implement the #convert method")}),-2),r(E,"$handles?",i(!0)),a(E,"$derive_backend_traits",(function(e,t){var r,i=w,a=w;return null==t&&(t=w),o(e)?(o(i=S("DEFAULT_EXTENSIONS")["$[]"](t=o(r=t)?r:e.$sub(S("TrailingDigitsRx"),"")))?a=i.$slice(1,i.$length()):i="."+(a=t),s(a,"html")?n(["basebackend","filetype","htmlsyntax","outfilesuffix"],{basebackend:t,filetype:a,htmlsyntax:"html",outfilesuffix:i}):n(["basebackend","filetype","outfilesuffix"],{basebackend:t,filetype:a,outfilesuffix:i})):n([],{})}),-2),function(i,s){var c=t(i,"BackendTraits"),$=[c].concat(s),_=e.$r($);r(c,"$basebackend",(function(e){var t;return null==e&&(e=w),o(e)?(t=["basebackend",e],l(this.$backend_traits(e),"[]=",t),t[t.length-1]):this.$backend_traits()["$[]"]("basebackend")}),-1),r(c,"$filetype",(function(e){var t;return null==e&&(e=w),o(e)?(t=["filetype",e],l(this.$backend_traits(),"[]=",t),t[t.length-1]):this.$backend_traits()["$[]"]("filetype")}),-1),r(c,"$htmlsyntax",(function(e){var t;return null==e&&(e=w),o(e)?(t=["htmlsyntax",e],l(this.$backend_traits(),"[]=",t),t[t.length-1]):this.$backend_traits()["$[]"]("htmlsyntax")}),-1),r(c,"$outfilesuffix",(function(e){var t;return null==e&&(e=w),o(e)?(t=["outfilesuffix",e],l(this.$backend_traits(),"[]=",t),t[t.length-1]):this.$backend_traits()["$[]"]("outfilesuffix")}),-1),r(c,"$supports_templates",(function(e){var t;return null==e&&(e=!0),t=["supports_templates",e],l(this.$backend_traits(),"[]=",t),t[t.length-1]}),-1),r(c,"$supports_templates?",(function(){return this.$backend_traits()["$[]"]("supports_templates")})),r(c,"$init_backend_traits",(function(e){var t;return null==e&&(e=w),this.backend_traits=o(t=e)?t:n([],{})}),-1),r(c,"$backend_traits",(function(e){var t,n=this;return null==n.backend_traits&&(n.backend_traits=w),null==n.backend&&(n.backend=w),null==e&&(e=w),n.backend_traits=o(t=n.backend_traits)?t:_("Converter").$derive_backend_traits(n.backend,e)}),-1),u(c,"backend_info","backend_traits"),a(c,"$derive_backend_traits",(function(e,t){return null==t&&(t=w),_("Converter").$derive_backend_traits(e,t)}),-2)}(A[0],A),function(n,i){var o=t(n,"Config"),s=[o].concat(i),a=e.$r(s);r(o,"$register_for",(function(e){var t,n=this;return t=c(arguments),l(a("Converter"),"register",[n].concat($(l(t,"map",[],(function(e){return null==e&&(e=w),e.$to_s()})))))}),-1)}(A[0],A),function(i,u){var $=t(i,"Factory"),h=[$].concat(u),m=e.$r(h);a($,"$new",(function(e,t){var n,r,i,s;return n=c(arguments),r=_(n),r=f(r),n.length>0&&(i=n.shift()),null==i&&(i=w),null==(s=r.$$smap.proxy_default)&&(s=!0),o(s)?m("DefaultFactoryProxy").$new(i):m("CustomFactory").$new(i)}),-1),a($,"$default",(function(e){return c(arguments),m("Converter")}),-1),a($,"$create",(function(e,t){return null==t&&(t=n([],{})),this.$default().$create(e,t)}),-2),r($,"$register",(function(e,t){var n;return n=c(arguments,1),l(n,"each",[],(function t(n){var r,i=null==t.$$s?this:t.$$s;return null==n&&(n=w),s(n,"*")?(r=[e],l(i.$registry(),"default=",r),r[r.length-1]):(r=[n,e],l(i.$registry(),"[]=",r),r[r.length-1])}),{$$s:this})}),-2),r($,"$for",(function(e){return this.$registry()["$[]"](e)})),r($,"$create",(function(e,t){var r=w,i=w,s=w;return null==t&&(t=n([],{})),o(r=this.$for(e))?(d(p,r)&&(r=r.$new(e,t)),o(i=t["$[]"]("template_dirs"))&&d(m("BackendTraits"),r)&&o(r["$supports_templates?"]())?m("CompositeConverter").$new(e,m("TemplateConverter").$new(e,i,t),r,n(["backend_traits_source"],{backend_traits_source:r})):r):o(i=t["$[]"]("template_dirs"))?o(s=t["$[]"]("delegate_backend"))&&o(r=this.$for(s))?(d(p,r)&&(r=r.$new(s,t)),m("CompositeConverter").$new(e,m("TemplateConverter").$new(e,i,t),r,n(["backend_traits_source"],{backend_traits_source:r}))):m("TemplateConverter").$new(e,i,t):w}),-2),r($,"$converters",(function(){return this.$registry().$merge()})),$.$private(),r($,"$registry",(function(){return this.$raise(x("NotImplementedError"),m("Factory")+" subclass "+this.$class()+" must implement the #registry method")}))}(A[0],A),function(t,i,s){var a=h(t,null,"CustomFactory"),u=[a].concat(s),c=e.$r(u);a.$include(c("Factory")),r(a,"$initialize",(function(e){return null==e&&(e=w),o(e)?(e["$default="](e.$delete("*")),this.registry=e):this.registry=n([],{})}),-1),r(a,"$unregister_all",(function(){var e;return e=[w],l(this.$registry().$clear(),"default=",e),e[e.length-1]})),a.$private(),a.$attr_reader("registry")}(A[0],0,A),function(i,o){var s=t(i,"DefaultFactory"),a=[s].concat(o),l=e.$r(a);s.$include(l("Factory")),s.$private(),m(a[0],"@@registry",n([],{})),r(s,"$registry",(function(){return g(a[0],"@@registry",!1)}))}(A[0],A),function(t,n,r){var i=h(t,n,"DefaultFactoryProxy"),o=[i].concat(r),s=e.$r(o);i.$include(s("DefaultFactory"))}(A[0],S("CustomFactory"),A),a(E,"$included",(function(e){return e.$send("include",S("BackendTraits")),e.$extend(S("Config"))})),E.$private_class_method("included"),function(t,n,a){var l=h(t,null,"Base"),u=[l].concat(a),c=e.$r(u);l.$$prototype.backend=w,l.$include(c("Logging")),l.$include(c("Converter")),r(l,"$convert",(function(t,n,r){var i=this,a=w;null==b["!"]&&(b["!"]=w),null==n&&(n=t.$node_name()),null==r&&(r=w);try{return o(r)?i.$send(v("convert_",n),t,r):i.$send(v("convert_",n),t)}catch(t){if(!e.rescue(t,[c("StandardError")]))throw t;try{return d(x("NoMethodError"),a=b["!"])&&s(a.$receiver(),i)&&s(a.$name().$to_s(),n)||i.$raise(),i.$logger().$warn("missing convert handler for "+a.$name()+" node in "+i.backend+" backend ("+i.$class()+")"),w}finally{e.pop_exception()}}}),-2),r(l,"$handles?",(function(e){return this["$respond_to?"]("convert_"+e)})),r(l,"$content_only",(function(e){return e.$content()})),r(l,"$skip",i(w))}(A[0],0,A),E.$extend(S("DefaultFactory"))}(E[0],E)}(y[0],y)},Opal.modules["asciidoctor/document"]=function(e){var t=e.module,n=e.klass,r=e.const_set,i=e.send,o=e.alias,s=e.truthy,a=e.def,l=e.hash2,u=e.not,c=e.to_ary,$=e.return_ivar,_=e.send2,f=e.find_super,d=e.rb_minus,p=e.eqeq,h=e.eqeqeq,m=e.hash,g=e.rb_ge,v=e.rb_plus,b=e.neqeq,y=e.thrower,w=e.rb_gt,x=e.rb_lt,k=e.gvars,E=e.to_a,A=[],S=e.nil,C=e.$$$;return e.add_stubs("new,target,attr_reader,nil?,<<,[],[]=,main,include?,strip,squeeze,gsub,!,empty?,rpartition,attr_accessor,catalog,delete,base_dir,options,merge,instance_variable_get,attributes,safe,compat_mode,outfilesuffix,sourcemap,path_resolver,converter,extensions,syntax_highlighter,each,end_with?,start_with?,slice,-,length,chop,==,downcase,===,extname,value_for_name,key?,freeze,attribute_undefined,attribute_missing,update,&,keys,name_for_value,expand_path,pwd,to_s,>=,+,abs,to_i,delete_if,update_doctype_attributes,cursor,parse,restore_attributes,update_backend_attributes,fetch,fill_datetime_attributes,activate,groups,create,to_proc,preprocessors?,preprocessors,process_method,tree_processors?,tree_processors,!=,counter,nil_or_empty?,attribute_locked?,nextval,value,save_to,increment_and_store_counter,register,tap,xreftext,>,source,source_lines,doctitle,sectname=,title=,first_section,title,reftext,<,find,context,header?,assign_numeral,clear_playback_attributes,save_attributes,name,negate,rewind,replace,apply_attribute_value_subs,delete?,start,doctype,content_model,warn,logger,content,convert,postprocessors?,postprocessors,record,write,respond_to?,chomp,class,write_alternate_pages,map,split,resolve_docinfo_subs,normalize_system_path,read_asset,apply_subs,docinfo_processors?,join,concat,compact,docinfo_processors,object_id,inspect,size,private,=~,resolve_pass_subs,apply_header_subs,limit_bytesize,bytesize,valid_encoding?,byteslice,resolve_subs,utc,at,Integer,now,index,strftime,year,utc_offset,partition,create_converter,basebackend,filetype,htmlsyntax,derive_backend_traits,raise"),function(A,O){var T=[t(A,"Asciidoctor")].concat(O),I=e.$r(T);return function(t,A,O){var T=n(t,A,"Document"),I=[T].concat(O),R=e.$r(I),N=T.$$prototype;return N.attributes=N.safe=N.sourcemap=N.reader=N.base_dir=N.parsed=N.parent_document=N.extensions=N.options=N.counters=N.catalog=N.reftexts=N.next_section_index=N.header=N.blocks=N.header_attributes=N.attributes_modified=N.backend=N.attribute_overrides=N.timings=N.converter=N.outfilesuffix=N.docinfo_processor_extensions=N.document=N.max_attribute_value_size=N.id=N.doctype=S,r(I[0],"ImageReference",i(C("Struct"),"new",["target","imagesdir"],(function e(){return o(null==e.$$s?this:e.$$s,"to_s","target")}),{$$s:T})),r(I[0],"Footnote",C("Struct").$new("index","id","text")),function(e,t){var r=n(e,null,"AttributeEntry");r.$attr_reader("name","value","negate"),a(r,"$initialize",(function(e,t,n){var r=this;return null==n&&(n=S),r.name=e,r.value=t,r.negate=s(n["$nil?"]())?t["$nil?"]():n}),-3),a(r,"$save_to",(function(e){var t,n;return(s(n=e["$[]"]("attribute_entries"))?n:(t=["attribute_entries",[]],i(e,"[]=",t),t[t.length-1]))["$<<"](this),this}))}(I[0]),function(t,r,i){var _=n(t,null,"Title"),f=[_].concat(i),d=e.$r(f);_.$$prototype.subtitle=S,_.$attr_reader("main"),o(_,"title","main"),_.$attr_reader("subtitle"),_.$attr_reader("combined"),a(_,"$initialize",(function(e,t){var n,r,i,o=this,a=S;return null==t&&(t=l([],{})),s(o.sanitized=t["$[]"]("sanitize"))&&s(e["$include?"]("<"))&&(e=e.$gsub(d("XmlSanitizeRx"),"").$squeeze(" ").$strip()),s((a=s(i=t["$[]"]("separator"))?i:":")["$empty?"]())||u(e["$include?"](a+=" "))?(o.main=e,o.subtitle=S):(r=e.$rpartition(a),n=c(r),o.main=null==n[0]?S:n[0],null==n[1]||n[1],o.subtitle=null==n[2]?S:n[2]),o.combined=e}),-2),a(_,"$sanitized?",$("sanitized")),a(_,"$subtitle?",(function(){return!!s(this.subtitle)})),a(_,"$to_s",$("combined"))}(I[0],0,I),r(I[0],"Author",C("Struct").$new("name","firstname","middlename","lastname","initials","email")),T.$attr_reader("safe"),T.$attr_reader("compat_mode"),T.$attr_reader("backend"),T.$attr_reader("doctype"),T.$attr_accessor("sourcemap"),T.$attr_reader("catalog"),o(T,"references","catalog"),T.$attr_reader("counters"),T.$attr_reader("header"),T.$attr_reader("base_dir"),T.$attr_reader("options"),T.$attr_reader("outfilesuffix"),T.$attr_reader("parent_document"),T.$attr_reader("reader"),T.$attr_reader("path_resolver"),T.$attr_reader("converter"),T.$attr_reader("syntax_highlighter"),T.$attr_reader("extensions"),a(T,"$initialize",(function t(n,r){var o,a,c,$,b,y,w,x=this,k=S,E=S,A=S,O=S,T=S,I=S,N=S,L=S,z=S,D=S,F=S,M=S,q=S,B=S,j=S;return t.$$p=null,null==n&&(n=S),null==r&&(r=l([],{})),_(x,f(x,"initialize",t,!1,!0),"initialize",[x,"document"],null),s(k=r.$delete("parent"))?(x.parent_document=k,s(E=r["$[]"]("base_dir"))||r["$[]="]("base_dir",k.$base_dir()),s(k.$options()["$[]"]("catalog_assets"))&&r["$[]="]("catalog_assets",!0),s(k.$options()["$[]"]("to_dir"))&&r["$[]="]("to_dir",k.$options()["$[]"]("to_dir")),x.catalog=k.$catalog().$merge(l(["footnotes"],{footnotes:[]})),x.attribute_overrides=A=k.$instance_variable_get("@attribute_overrides").$merge(k.$attributes()),A.$delete("compat-mode"),O=A.$delete("doctype"),A.$delete("notitle"),A.$delete("showtitle"),A.$delete("toc"),x.attributes["$[]="]("toc-placement",s(E=A.$delete("toc-placement"))?E:"auto"),A.$delete("toc-position"),x.safe=k.$safe(),s(x.compat_mode=k.$compat_mode())&&x.attributes["$[]="]("compat-mode",""),x.outfilesuffix=k.$outfilesuffix(),x.sourcemap=k.$sourcemap(),x.timings=S,x.path_resolver=k.$path_resolver(),x.converter=k.$converter(),T=S,x.extensions=k.$extensions(),x.syntax_highlighter=k.$syntax_highlighter()):(x.parent_document=S,x.catalog=l(["ids","refs","footnotes","links","images","callouts","includes"],{ids:l([],{}),refs:l([],{}),footnotes:[],links:[],images:[],callouts:R("Callouts").$new(),includes:l([],{})}),x.attribute_overrides=A=l([],{}),i(s(E=r["$[]"]("attributes"))?E:l([],{}),"each",[],(function(e,t){var n;return null==e&&(e=S),null==t&&(t=S),s(e["$end_with?"]("@"))?s(e["$start_with?"]("!"))?(n=[e.$slice(1,d(e.$length(),2)),!1],e=n[0],t=n[1]):s(e["$end_with?"]("!@"))?(n=[e.$slice(0,d(e.$length(),2)),!1],e=n[0],t=n[1]):(n=[e.$chop(),t+"@"],e=n[0],t=n[1]):s(e["$start_with?"]("!"))?(n=[e.$slice(1,e.$length()),!p(t,"@")&&S],e=n[0],t=n[1]):s(e["$end_with?"]("!"))&&(n=[e.$chop(),!p(t,"@")&&S],e=n[0],t=n[1]),n=[e.$downcase(),t],i(A,"[]=",n),n[n.length-1]})),h(C("String"),I=r["$[]"]("to_file"))&&A["$[]="]("outfilesuffix",R("Helpers").$extname(I)),u(N=r["$[]"]("safe"))?x.safe=C(R("SafeMode"),"SECURE"):h(C("Integer"),N)?x.safe=N:x.safe=function(){try{return R("SafeMode").$value_for_name(N)}catch(t){if(!e.rescue(t,[R("StandardError")]))throw t;try{return C(R("SafeMode"),"SECURE")}finally{e.pop_exception()}}}(),L=r.$delete("input_mtime"),x.compat_mode=A["$key?"]("compat-mode"),x.sourcemap=r["$[]"]("sourcemap"),x.timings=r.$delete("timings"),x.path_resolver=R("PathResolver").$new(),T=s((o=C("::","Asciidoctor","skip_raise"))&&C(o,"Extensions","skip_raise")?"constant":S)||s(r["$key?"]("extensions"))?C(C("Asciidoctor"),"Extensions"):S,x.extensions=S,s(r["$key?"]("header_footer"))&&u(r["$key?"]("standalone"))&&r["$[]="]("standalone",r["$[]"]("header_footer"))),x.parsed=x.reftexts=x.header=x.header_attributes=S,x.counters=l([],{}),x.attributes_modified=C("Set").$new(),x.docinfo_processor_extensions=l([],{}),b=r["$[]"]("standalone"),(x.options=r).$freeze(),z=x.attributes,s(k)||(z["$[]="]("attribute-undefined",R("Compliance").$attribute_undefined()),z["$[]="]("attribute-missing",R("Compliance").$attribute_missing()),z.$update(R("DEFAULT_ATTRIBUTES"))),s(b)?(A["$[]="]("embedded",S),z["$[]="]("copycss",""),z["$[]="]("iconfont-remote",""),z["$[]="]("stylesheet",""),z["$[]="]("webfonts","")):(A["$[]="]("embedded",""),s(A["$key?"]("showtitle"))&&p(A.$keys()["$&"](["notitle","showtitle"])["$[]"](-1),"showtitle")?A["$[]="]("notitle",m(S,"",!1,"@","@",!1)["$[]"](A["$[]"]("showtitle"))):s(A["$key?"]("notitle"))?A["$[]="]("showtitle",m(S,"",!1,"@","@",!1)["$[]"](A["$[]"]("notitle"))):z["$[]="]("notitle","")),A["$[]="]("asciidoctor",""),A["$[]="]("asciidoctor-version",C(C("Asciidoctor"),"VERSION")),A["$[]="]("safe-mode-name",y=R("SafeMode").$name_for_value(x.safe)),A["$[]="]("safe-mode-"+y,""),A["$[]="]("safe-mode-level",x.safe),s(E=A["$[]"]("max-include-depth"))||A["$[]="]("max-include-depth",64),s(E=A["$[]"]("allow-uri-read"))||A["$[]="]("allow-uri-read",S),s(A["$key?"]("numbered"))&&A["$[]="]("sectnums",A.$delete("numbered")),s(A["$key?"]("hardbreaks"))&&A["$[]="]("hardbreaks-option",A.$delete("hardbreaks")),s(w=r["$[]"]("base_dir"))?x.base_dir=(a=["docdir",C("File").$expand_path(w)],i(A,"[]=",a),a[a.length-1]):s(A["$[]"]("docdir"))?x.base_dir=A["$[]"]("docdir"):x.base_dir=(a=["docdir",C("Dir").$pwd()],i(A,"[]=",a),a[a.length-1]),s(D=r["$[]"]("backend"))&&A["$[]="]("backend",D.$to_s()),s(F=r["$[]"]("doctype"))&&A["$[]="]("doctype",F.$to_s()),s(g(x.safe,C(R("SafeMode"),"SERVER")))?(s(E=A["$[]"]("copycss"))||A["$[]="]("copycss",S),s(E=A["$[]"]("source-highlighter"))||A["$[]="]("source-highlighter",S),s(E=A["$[]"]("backend"))||A["$[]="]("backend",R("DEFAULT_BACKEND")),u(k)&&s(A["$key?"]("docfile"))&&A["$[]="]("docfile",A["$[]"]("docfile")["$[]"](e.Range.$new(v(A["$[]"]("docdir").$length(),1),-1,!1))),A["$[]="]("docdir",""),s(E=A["$[]"]("user-home"))||A["$[]="]("user-home","."),s(g(x.safe,C(R("SafeMode"),"SECURE")))&&(s(A["$key?"]("max-attribute-value-size"))||A["$[]="]("max-attribute-value-size",4096),s(A["$key?"]("linkcss"))||A["$[]="]("linkcss",""),s(E=A["$[]"]("icons"))||A["$[]="]("icons",S))):s(E=A["$[]"]("user-home"))||A["$[]="]("user-home",R("USER_HOME")),x.max_attribute_value_size=s(M=s(E=A["$[]"]("max-attribute-value-size"))?E:(i(A,"[]=",a=["max-attribute-value-size",S]),a[a.length-1]))?M.$to_i().$abs():S,i(A,"delete_if",[],(function(e,t){var n,r=S;return null==e&&(e=S),null==t&&(t=S),s(t)?(h(C("String"),t)&&s(t["$end_with?"]("@"))&&(n=[t.$chop(),!0],t=n[0],r=n[1]),z["$[]="](e,t)):(z.$delete(e),r=t["$=="](!1)),r})),s(k)?(x.backend=z["$[]"]("backend"),p(x.doctype=(i(z,"[]=",a=["doctype",O]),a[a.length-1]),R("DEFAULT_DOCTYPE"))||x.$update_doctype_attributes(R("DEFAULT_DOCTYPE")),x.reader=R("Reader").$new(n,r["$[]"]("cursor")),s(x.sourcemap)&&(x.source_location=x.reader.$cursor()),R("Parser").$parse(x.reader,x),x.$restore_attributes(),x.parsed=!0):(x.backend=S,p(q=s(E=z["$[]"]("backend"))?E:R("DEFAULT_BACKEND"),"manpage")?x.doctype=(a=["doctype",(c=["doctype","manpage"],i(A,"[]=",c),c[c.length-1])],i(z,"[]=",a),a[a.length-1]):x.doctype=s(E=z["$[]"]("doctype"))?E:(a=["doctype",R("DEFAULT_DOCTYPE")],i(z,"[]=",a),a[a.length-1]),x.$update_backend_attributes(q,!0),s(E=z["$[]"]("stylesdir"))||z["$[]="]("stylesdir","."),s(E=z["$[]"]("iconsdir"))||z["$[]="]("iconsdir",z.$fetch("imagesdir","./images")+"/icons"),x.$fill_datetime_attributes(z,L),s(T)&&(s(B=r["$[]"]("extension_registry"))?(h(C(R("Extensions"),"Registry"),B)||s(($=C("::","AsciidoctorJ","skip_raise"))&&(c=C($,"Extensions","skip_raise"))&&(a=C(c,"ExtensionRegistry","skip_raise"))?"constant":S)&&h(C(C(C("AsciidoctorJ"),"Extensions"),"ExtensionRegistry"),B))&&(x.extensions=B.$activate(x)):s((j=r["$[]"]("extensions"))["$nil?"]())?s(R("Extensions").$groups()["$empty?"]())||(x.extensions=C(R("Extensions"),"Registry").$new().$activate(x)):h(C("Proc"),j)&&(x.extensions=i(R("Extensions"),"create",[],j.$to_proc()).$activate(x))),x.reader=R("PreprocessorReader").$new(x,n,C(R("Reader"),"Cursor").$new(z["$[]"]("docfile"),x.base_dir),l(["normalize"],{normalize:!0})),s(x.sourcemap)?x.source_location=x.reader.$cursor():S)}),-1),a(T,"$parse",(function(e){var t=this,n=S,r=S;return null==e&&(e=S),s(t.parsed)?t:(n=t,s(e)&&(t.reader=R("PreprocessorReader").$new(n,e,C(R("Reader"),"Cursor").$new(t.attributes["$[]"]("docfile"),t.base_dir),l(["normalize"],{normalize:!0})),s(t.sourcemap)&&(t.source_location=t.reader.$cursor())),s(r=s(t.parent_document)?S:t.extensions)&&s(r["$preprocessors?"]())&&i(r.$preprocessors(),"each",[],(function e(t){var r,i=null==e.$$s?this:e.$$s;return null==i.reader&&(i.reader=S),null==t&&(t=S),i.reader=s(r=t.$process_method()["$[]"](n,i.reader))?r:i.reader}),{$$s:t}),R("Parser").$parse(t.reader,n,l(["header_only"],{header_only:t.options["$[]"]("parse_header_only")})),t.$restore_attributes(),s(r)&&s(r["$tree_processors?"]())&&i(r.$tree_processors(),"each",[],(function(e){var t;return null==e&&(e=S),s(t=e.$process_method()["$[]"](n))&&h(R("Document"),t)&&b(t,n)?n=t:S})),t.parsed=!0,n)}),-1),a(T,"$parsed?",$("parsed")),a(T,"$counter",(function(e,t){var n,r,o=this,a=S,l=S;return null==t&&(t=S),s(o.parent_document)?o.parent_document.$counter(e,t):(s(r=o["$attribute_locked?"](e))&&s(a=o.counters["$[]"](e))||u((a=o.attributes["$[]"](e))["$nil_or_empty?"]())?(n=[e,R("Helpers").$nextval(a)],i(o.counters,"[]=",n),l=n[n.length-1]):s(t)?(n=[e,p(t,t.$to_i().$to_s())?t.$to_i():t],i(o.counters,"[]=",n),l=n[n.length-1]):(n=[e,1],i(o.counters,"[]=",n),l=n[n.length-1]),s(r)||o.attributes["$[]="](e,l),l)}),-2),a(T,"$increment_and_store_counter",(function(e,t){return R("AttributeEntry").$new(e,this.$counter(e)).$save_to(t.$attributes()).$value()})),o(T,"counter_increment","increment_and_store_counter"),a(T,"$register",(function(e,t){var n=this,r=S,i=S,o=S;switch(e){case"ids":return n.$register("refs",[r=t["$[]"](0),R("Inline").$new(n,"anchor",t["$[]"](1),l(["type","id"],{type:"ref",id:r}))]);case"refs":return i=n.catalog["$[]"]("refs"),s(i["$[]"](t["$[]"](0)))||i["$[]="](t["$[]"](0),o=t["$[]"](1)),o;case"footnotes":return n.catalog["$[]"](e)["$<<"](t);default:return s(n.options["$[]"]("catalog_assets"))?n.catalog["$[]"](e)["$<<"](p(e,"images")?R("ImageReference").$new(t,n.attributes["$[]"]("imagesdir")):t):S}})),a(T,"$resolve_id",(function(e){var t=this,n=S,r=S;return s(t.reftexts)?t.reftexts["$[]"](e):s(t.parsed)?i(t.reftexts=l([],{}),"tap",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==n.catalog&&(n.catalog=S),null==t&&(t=S),i(n.catalog["$[]"]("refs"),"each",[],(function(e,n){var r,o;return null==e&&(e=S),null==n&&(n=S),s(o=t["$[]"](n.$xreftext()))?o:(r=[n.$xreftext(),e],i(t,"[]=",r),r[r.length-1])}))}),{$$s:t})["$[]"](e):(n=S,t.reftexts=r=l([],{}),function(){try{var o=y("break");return i(t.catalog["$[]"]("refs"),"each",[],(function(t,a){var l,u,c;return null==t&&(t=S),null==a&&(a=S),p(u=a.$xreftext(),e)&&(n=t,o.$throw()),s(c=r["$[]"](u))?c:(i(r,"[]=",l=[u,t]),l[l.length-1])}))}catch(e){if(e===o)return e.$v;throw e}}(),t.reftexts=S,n)})),a(T,"$sections?",(function(){return w(this.next_section_index,0)})),a(T,"$footnotes?",(function(){return!s(this.catalog["$[]"]("footnotes")["$empty?"]())})),a(T,"$footnotes",(function(){return this.catalog["$[]"]("footnotes")})),a(T,"$callouts",(function(){return this.catalog["$[]"]("callouts")})),a(T,"$nested?",(function(){return!!s(this.parent_document)})),a(T,"$embedded?",(function(){return this.attributes["$key?"]("embedded")})),a(T,"$extensions?",(function(){return!!s(this.extensions)})),a(T,"$source",(function(){return s(this.reader)?this.reader.$source():S})),a(T,"$source_lines",(function(){return s(this.reader)?this.reader.$source_lines():S})),a(T,"$basebackend?",(function(e){return this.attributes["$[]"]("basebackend")["$=="](e)})),a(T,"$title",(function(){return this.$doctitle()})),a(T,"$title=",(function(e){var t,n=this,r=S;return s(r=n.header)||(r=n.header=R("Section").$new(n,0))["$sectname="]("header"),i(r,"title=",t=[e]),t[t.length-1]})),a(T,"$doctitle",(function(e){var t,n=this,r=S,i=S,o=S;if(null==e&&(e=l([],{})),!s(r=n.attributes["$[]"]("title")))if(s(i=n.$first_section()))r=i.$title();else if(u(s(o=e["$[]"]("use_fallback"))?r=n.attributes["$[]"]("untitled-label"):o))return S;return s(t=e["$[]"]("partition"))?R("Title").$new(r,e.$merge(l(["separator"],{separator:p(t,!0)?n.attributes["$[]"]("title-separator"):t}))):s(e["$[]"]("sanitize"))&&s(r["$include?"]("<"))?r.$gsub(R("XmlSanitizeRx"),"").$squeeze(" ").$strip():r}),-1),o(T,"name","doctitle"),a(T,"$xreftext",(function(e){var t=S;return null==e&&(e=S),s(t=this.$reftext())&&u(t["$empty?"]())?t:this.$title()}),-1),a(T,"$author",(function(){return this.attributes["$[]"]("author")})),a(T,"$authors",(function(){var e=S,t=S,n=S,r=S,i=S;if(s((e=this.attributes)["$key?"]("author"))){if(t=[R("Author").$new(e["$[]"]("author"),e["$[]"]("firstname"),e["$[]"]("middlename"),e["$[]"]("lastname"),e["$[]"]("authorinitials"),e["$[]"]("email"))],s(w(n=s(r=e["$[]"]("authorcount"))?r:0,1)))for(i=1;s(x(i,n));)i=v(i,1),t["$<<"](R("Author").$new(e["$[]"]("author_"+i),e["$[]"]("firstname_"+i),e["$[]"]("middlename_"+i),e["$[]"]("lastname_"+i),e["$[]"]("authorinitials_"+i),e["$[]"]("email_"+i)));return t}return[]})),a(T,"$revdate",(function(){return this.attributes["$[]"]("revdate")})),a(T,"$notitle",(function(){return this.attributes["$key?"]("notitle")})),a(T,"$noheader",(function(){return this.attributes["$key?"]("noheader")})),a(T,"$nofooter",(function(){return this.attributes["$key?"]("nofooter")})),a(T,"$first_section",(function(){var e;return s(e=this.header)?e:i(this.blocks,"find",[],(function(e){return null==e&&(e=S),e.$context()["$=="]("section")}))})),a(T,"$header?",(function(){return!!s(this.header)})),o(T,"has_header?","header?"),a(T,"$<<",(function e(t){var n=e.$$p||S,r=this;return e.$$p=null,p(t.$context(),"section")&&r.$assign_numeral(t),_(r,f(r,"<<",e,!1,!0),"<<",[t],n)})),a(T,"$finalize_header",(function(e,t){return null==t&&(t=!0),this.$clear_playback_attributes(e),this.$save_attributes(),s(t)||e["$[]="]("invalid-header",!0),e}),-2),a(T,"$playback_attributes",(function(e){return s(e["$key?"]("attribute_entries"))?i(e["$[]"]("attribute_entries"),"each",[],(function e(t){var n,r=null==e.$$s?this:e.$$s;return null==r.attributes&&(r.attributes=S),null==t&&(t=S),n=t.$name(),s(t.$negate())?(r.attributes.$delete(n),p(n,"compat-mode")?r.compat_mode=!1:S):(r.attributes["$[]="](n,t.$value()),p(n,"compat-mode")?r.compat_mode=!0:S)}),{$$s:this}):S})),a(T,"$restore_attributes",(function(){var e=this;return s(e.parent_document)||e.catalog["$[]"]("callouts").$rewind(),e.attributes.$replace(e.header_attributes)})),a(T,"$set_attribute",(function(e,t){var n=this,r=S;if(null==t&&(t=""),s(n["$attribute_locked?"](e)))return S;if(s(t["$empty?"]())||(t=n.$apply_attribute_value_subs(t)),s(n.header_attributes))n.attributes["$[]="](e,t);else{switch(e){case"backend":n.$update_backend_attributes(t,s(r=n.attributes_modified["$delete?"]("htmlsyntax"))?t["$=="](n.backend):r);break;case"doctype":n.$update_doctype_attributes(t);break;default:n.attributes["$[]="](e,t)}n.attributes_modified["$<<"](e)}return t}),-2),a(T,"$delete_attribute",(function(e){var t=this;return!s(t["$attribute_locked?"](e))&&(t.attributes.$delete(e),t.attributes_modified["$<<"](e),!0)})),a(T,"$attribute_locked?",(function(e){return this.attribute_overrides["$key?"](e)})),a(T,"$set_header_attribute",(function(e,t,n){var r,i=S;return null==t&&(t=""),null==n&&(n=!0),i=s(r=this.header_attributes)?r:this.attributes,!(p(n,!1)&&s(i["$key?"](e))||(i["$[]="](e,t),0))}),-2),a(T,"$convert",(function(e){var t,n=this,r=S,o=S,a=S,u=S,c=S;return null==e&&(e=l([],{})),s(n.timings)&&n.timings.$start("convert"),s(n.parsed)||n.$parse(),s(g(n.safe,C(R("SafeMode"),"SERVER")))||s(e["$empty?"]())||(s((t=["outfile",e["$[]"]("outfile")],i(n.attributes,"[]=",t),t[t.length-1]))||n.attributes.$delete("outfile"),s((t=["outdir",e["$[]"]("outdir")],i(n.attributes,"[]=",t),t[t.length-1]))||n.attributes.$delete("outdir")),p(n.$doctype(),"inline")?s(r=s(o=n.blocks["$[]"](0))?o:n.header)&&(p(r.$content_model(),"compound")||p(r.$content_model(),"empty")?n.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):a=r.$content()):(u=s(e["$key?"]("standalone"))?s(e["$[]"]("standalone"))?"document":"embedded":s(e["$key?"]("header_footer"))?s(e["$[]"]("header_footer"))?"document":"embedded":s(n.options["$[]"]("standalone"))?"document":"embedded",a=n.converter.$convert(n,u)),s(n.parent_document)||s(c=n.extensions)&&s(c["$postprocessors?"]())&&i(c.$postprocessors(),"each",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==t&&(t=S),a=t.$process_method()["$[]"](n,a)}),{$$s:n}),s(n.timings)&&n.timings.$record("convert"),a}),-1),o(T,"render","convert"),a(T,"$write",(function(e,t){var n=this;return s(n.timings)&&n.timings.$start("write"),h(R("Writer"),n.converter)?n.converter.$write(e,t):(s(t["$respond_to?"]("write"))?s(e["$nil_or_empty?"]())||(t.$write(e.$chomp()),t.$write(R("LF"))):C("File").$write(t,e,l(["mode"],{mode:R("FILE_WRITE_MODE")})),p(n.backend,"manpage")&&h(C("String"),t)&&s(n.converter.$class()["$respond_to?"]("write_alternate_pages"))&&n.converter.$class().$write_alternate_pages(n.attributes["$[]"]("mannames"),n.attributes["$[]"]("manvolnum"),t)),s(n.timings)&&n.timings.$record("write"),S})),a(T,"$content",(function e(){var t=e.$$p||S,n=this;return e.$$p=null,n.attributes.$delete("title"),_(n,f(n,"content",e,!1,!0),"content",[],t)})),a(T,"$docinfo",(function(e,t){var n,r=this,o=S,a=S,u=S,c=S,$=S,_=S,f=S,d=S,h=S,m=S;return null==e&&(e="head"),null==t&&(t=S),s(x(r.$safe(),C(R("SafeMode"),"SECURE")))&&(p(e,"head")||(o="-"+e),t=s(a=t)?a:r.outfilesuffix,u=s((u=r.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?s(r.attributes["$key?"]("docinfo2"))?["private","shared"]:s(r.attributes["$key?"]("docinfo1"))?["shared"]:s(u)?["private"]:S:i(u.$split(","),"map",[],(function(e){return null==e&&(e=S),e.$strip()})),s(u)&&(c=[],$=(n=["docinfo"+o+t,r.attributes["$[]"]("docinfodir"),r.$resolve_docinfo_subs()])[0],_=n[1],f=n[2],s(u["$&"](["shared","shared-"+e])["$empty?"]())||(d=r.$normalize_system_path($,_),s(h=r.$read_asset(d,l(["normalize"],{normalize:!0})))&&c["$<<"](r.$apply_subs(h,f))),s(r.attributes["$[]"]("docname")["$nil_or_empty?"]())||s(u["$&"](["private","private-"+e])["$empty?"]())||(d=r.$normalize_system_path(r.attributes["$[]"]("docname")+"-"+$,_),s(m=r.$read_asset(d,l(["normalize"],{normalize:!0})))&&c["$<<"](r.$apply_subs(m,f))))),s(r.extensions)&&s(r["$docinfo_processors?"](e))?(s(a=c)?a:[]).$concat(i(r.docinfo_processor_extensions["$[]"](e),"map",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==t&&(t=S),t.$process_method()["$[]"](n)}),{$$s:r}).$compact()).$join(R("LF")):s(c)?c.$join(R("LF")):""}),-1),a(T,"$docinfo_processors?",(function(e){var t,n=this;return null==e&&(e="head"),s(n.docinfo_processor_extensions["$key?"](e))?n.docinfo_processor_extensions["$[]"](e)["$!="](!1):s(n.extensions)&&s(n.document.$extensions()["$docinfo_processors?"](e))?(t=[e,n.document.$extensions().$docinfo_processors(e)],i(n.docinfo_processor_extensions,"[]=",t),t[t.length-1])["$!"]()["$!"]():(t=[e,!1],i(n.docinfo_processor_extensions,"[]=",t),t[t.length-1])}),-1),a(T,"$to_s",(function(){var e,t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {doctype: "+t.$doctype().$inspect()+", doctitle: "+(s(e=t.header)?t.header.$title():e).$inspect()+", blocks: "+t.blocks.$size()+"}>"})),T.$private(),a(T,"$apply_attribute_value_subs",(function(e){var t,n=this;return s(R("AttributeEntryPassMacroRx")["$=~"](e))?(e=(t=k["~"])===S?S:t["$[]"](2),s((t=k["~"])===S?S:t["$[]"](1))&&(e=n.$apply_subs(e,n.$resolve_pass_subs((t=k["~"])===S?S:t["$[]"](1))))):e=n.$apply_header_subs(e),s(n.max_attribute_value_size)?n.$limit_bytesize(e,n.max_attribute_value_size):e})),a(T,"$limit_bytesize",(function(e,t){if(s(w(e.$bytesize(),t)))for(;!s((e=e.$byteslice(0,t))["$valid_encoding?"]());)t=d(t,1);return e})),a(T,"$resolve_docinfo_subs",(function(){var e=this;return s(e.attributes["$key?"]("docinfosubs"))?e.$resolve_subs(e.attributes["$[]"]("docinfosubs"),"block",S,"docinfo"):["attributes"]})),a(T,"$create_converter",(function(e,t){var n,r,i,o=this,a=S,u=S;return a=l(["document","htmlsyntax"],{document:o,htmlsyntax:o.attributes["$[]"]("htmlsyntax")}),s(n=s(r=(u=o.options)["$[]"]("template_dirs"))?r:u["$[]"]("template_dir"))&&(a["$[]="]("template_dirs",[].concat(E(n))),a["$[]="]("template_cache",u.$fetch("template_cache",!0)),a["$[]="]("template_engine",u["$[]"]("template_engine")),a["$[]="]("template_engine_options",u["$[]"]("template_engine_options")),a["$[]="]("eruby",u["$[]"]("eruby")),a["$[]="]("safe",o.safe),s(t)&&a["$[]="]("delegate_backend",t)),s(i=u["$[]"]("converter"))?C(R("Converter"),"CustomFactory").$new(m(e,i)).$create(e,a):u.$fetch("converter_factory",R("Converter")).$create(e,a)})),a(T,"$clear_playback_attributes",(function(e){return e.$delete("attribute_entries")})),a(T,"$save_attributes",(function(){var e,t=this,n=S,r=S,o=S,a=S,c=S,$=S,_=S,f=S,d=S,h=S,m=S,g=S,v=S;if(s((r=t.attributes)["$key?"]("doctitle"))||u(n=t.$doctitle())||r["$[]="]("doctitle",n),t.id=s(o=t.id)?o:r["$[]"]("css-signature"),s(a=s(r.$delete("toc2"))?"left":r["$[]"]("toc"))&&(c=s($=r.$fetch("toc-placement","macro"))&&b($,"auto")?$:r["$[]"]("toc-position"),!s(a["$empty?"]())||!s(c["$nil_or_empty?"]()))){switch(_="left",f="toc2",d=s(c["$nil_or_empty?"]())?s(a["$empty?"]())?_:a:c,r["$[]="]("toc",""),r["$[]="]("toc-placement","auto"),d){case"left":case"<":case"&lt;":r["$[]="]("toc-position","left");break;case"right":case">":case"&gt;":r["$[]="]("toc-position","right");break;case"top":case"^":r["$[]="]("toc-position","top");break;case"bottom":case"v":r["$[]="]("toc-position","bottom");break;case"preamble":case"macro":r["$[]="]("toc-position","content"),r["$[]="]("toc-placement",d),f=S;break;default:r.$delete("toc-position"),f=S}s(f)&&(s(o=r["$[]"]("toc-class"))||r["$[]="]("toc-class",f))}if(s(e=r["$[]"]("icons"))&&u(r["$key?"]("icontype")))switch(e){case"":case"font":break;default:r["$[]="]("icons",""),p(e,"image")||r["$[]="]("icontype",e)}return s(t.compat_mode=r["$key?"]("compat-mode"))&&s(r["$key?"]("language"))&&r["$[]="]("source-language",r["$[]"]("language")),s(t.parent_document)||(p(h=r["$[]"]("basebackend"),"html")?s(m=r["$[]"]("source-highlighter"))&&u(r["$[]"](m+"-unavailable"))&&(s(g=t.options["$[]"]("syntax_highlighter_factory"))?t.syntax_highlighter=g.$create(m,t.backend,l(["document"],{document:t})):s(v=t.options["$[]"]("syntax_highlighters"))?t.syntax_highlighter=C(R("SyntaxHighlighter"),"DefaultFactoryProxy").$new(v).$create(m,t.backend,l(["document"],{document:t})):t.syntax_highlighter=R("SyntaxHighlighter").$create(m,t.backend,l(["document"],{document:t}))):p(h,"docbook")&&(s(t["$attribute_locked?"]("toc"))||s(t.attributes_modified["$include?"]("toc"))||r["$[]="]("toc",""),s(t["$attribute_locked?"]("sectnums"))||s(t.attributes_modified["$include?"]("sectnums"))||r["$[]="]("sectnums","")),t.outfilesuffix=r["$[]"]("outfilesuffix"),i(R("FLEXIBLE_ATTRIBUTES"),"each",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==n.attribute_overrides&&(n.attribute_overrides=S),null==t&&(t=S),s(n.attribute_overrides["$key?"](t))&&s(n.attribute_overrides["$[]"](t))?n.attribute_overrides.$delete(t):S}),{$$s:t})),t.header_attributes=r.$merge()})),a(T,"$fill_datetime_attributes",(function(e,t){var n,r,o,a,l=S,u=S,c=S,$=S,_=S;return l=s(C("ENV")["$key?"]("SOURCE_DATE_EPOCH"))?u=C("Time").$at(this.$Integer(C("ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():C("Time").$now(),s(c=e["$[]"]("localdate"))?s($=e["$[]"]("localyear"))||e["$[]="]("localyear",p(c.$index("-"),4)?c.$slice(0,4):S):(n=["localdate",l.$strftime("%F")],i(e,"[]=",n),c=n[n.length-1],s($=e["$[]"]("localyear"))||e["$[]="]("localyear",l.$year().$to_s())),r=s($=e["$[]"]("localtime"))?$:(n=["localtime",l.$strftime("%T "+(p(l.$utc_offset(),0)?"UTC":"%z"))],i(e,"[]=",n),n[n.length-1]),s($=e["$[]"]("localdatetime"))||e["$[]="]("localdatetime",c+" "+r),t=s($=s(o=u)?o:t)?$:l,s(_=e["$[]"]("docdate"))?s($=e["$[]"]("docyear"))||e["$[]="]("docyear",p(_.$index("-"),4)?_.$slice(0,4):S):(n=["docdate",t.$strftime("%F")],i(e,"[]=",n),_=n[n.length-1],s($=e["$[]"]("docyear"))||e["$[]="]("docyear",t.$year().$to_s())),a=s($=e["$[]"]("doctime"))?$:(n=["doctime",t.$strftime("%T "+(p(t.$utc_offset(),0)?"UTC":"%z"))],i(e,"[]=",n),n[n.length-1]),s($=e["$[]"]("docdatetime"))||e["$[]="]("docdatetime",_+" "+a),S})),a(T,"$update_backend_attributes",(function(e,t){var n,r,o=this,a=S,l=S,u=S,$=S,_=S,f=S,d=S,p=S,m=S,g=S,v=S,y=S,w=S,x=S;return null==t&&(t=S),s(t)||b(e,o.backend)?(a=o.backend,l=(u=o.attributes)["$[]"]("basebackend"),$=o.doctype,s(e["$include?"](":"))&&(r=e.$partition(":"),_=null==(n=c(r))[0]?S:n[0],null==n[1]||n[1],e=null==n[2]?S:n[2]),s(e["$start_with?"]("xhtml"))?(u["$[]="]("htmlsyntax","xml"),e=e.$slice(1,e.$length())):s(e["$start_with?"]("html"))&&(s(f=u["$[]"]("htmlsyntax"))||u["$[]="]("htmlsyntax","html")),e=s(f=R("BACKEND_ALIASES")["$[]"](e))?f:e,s(_)&&(e=(n=[_,e])[0],d=n[1]),s($)?(s(a)&&(u.$delete("backend-"+a),u.$delete("backend-"+a+"-doctype-"+$)),u["$[]="]("backend-"+e+"-doctype-"+$,""),u["$[]="]("doctype-"+$,"")):s(a)&&u.$delete("backend-"+a),u["$[]="]("backend-"+e,""),o.backend=(i(u,"[]=",n=["backend",e]),n[n.length-1]),h(C(R("Converter"),"BackendTraits"),p=o.$create_converter(e,d))?(m=p.$basebackend(),g=p.$filetype(),s(v=p.$htmlsyntax())&&u["$[]="]("htmlsyntax",v),s(t)?s(f=u["$[]"]("outfilesuffix"))||u["$[]="]("outfilesuffix",p.$outfilesuffix()):s(o["$attribute_locked?"]("outfilesuffix"))||u["$[]="]("outfilesuffix",p.$outfilesuffix())):s(p)?(m=(y=R("Converter").$derive_backend_traits(e))["$[]"]("basebackend"),g=y["$[]"]("filetype"),s(t)?s(f=u["$[]"]("outfilesuffix"))||u["$[]="]("outfilesuffix",y["$[]"]("outfilesuffix")):s(o["$attribute_locked?"]("outfilesuffix"))||u["$[]="]("outfilesuffix",y["$[]"]("outfilesuffix"))):o.$raise(C("NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+e+"'. Processing aborted."),o.converter=p,s(w=u["$[]"]("filetype"))&&u.$delete("filetype-"+w),u["$[]="]("filetype",g),u["$[]="]("filetype-"+g,""),s(x=R("DEFAULT_PAGE_WIDTHS")["$[]"](m))?u["$[]="]("pagewidth",x):u.$delete("pagewidth"),b(m,l)&&(s($)?(s(l)&&(u.$delete("basebackend-"+l),u.$delete("basebackend-"+l+"-doctype-"+$)),u["$[]="]("basebackend-"+m+"-doctype-"+$,"")):s(l)&&u.$delete("basebackend-"+l),u["$[]="]("basebackend-"+m,""),u["$[]="]("basebackend",m)),e):S}),-2),a(T,"$update_doctype_attributes",(function(e){var t,n=this,r=S,o=S,a=S,l=S;return s(e)&&b(e,n.doctype)?(o=(t=[n.backend,(r=n.attributes)["$[]"]("basebackend"),n.doctype])[0],a=t[1],l=t[2],s(l)?(r.$delete("doctype-"+l),s(o)&&(r.$delete("backend-"+o+"-doctype-"+l),r["$[]="]("backend-"+o+"-doctype-"+e,"")),s(a)&&(r.$delete("basebackend-"+a+"-doctype-"+l),r["$[]="]("basebackend-"+a+"-doctype-"+e,""))):(s(o)&&r["$[]="]("backend-"+o+"-doctype-"+e,""),s(a)&&r["$[]="]("basebackend-"+a+"-doctype-"+e,"")),r["$[]="]("doctype-"+e,""),n.doctype=(i(r,"[]=",t=["doctype",e]),t[t.length-1])):S}))}(T[0],I("AbstractBlock"),T)}(A[0],A)},Opal.modules["asciidoctor/inline"]=function(e){var t=e.module,n=e.klass,r=e.hash2,i=e.send2,o=e.find_super,s=e.def,a=e.return_val,l=e.alias,u=e.truthy,c=[],$=e.nil;return e.add_stubs("attr_accessor,attr_reader,[],convert,converter,attr,==,apply_reftext_subs,reftext"),function(c,_){var f=[t(c,"Asciidoctor")].concat(_),d=e.$r(f);return function(e,t){var c=n(e,t,"Inline"),_=c.$$prototype;return _.text=_.type=$,c.$attr_accessor("text"),c.$attr_reader("type"),c.$attr_accessor("target"),s(c,"$initialize",(function e(t,n,s,a){var l=this;return e.$$p=null,null==s&&(s=$),null==a&&(a=r([],{})),i(l,o(l,"initialize",e,!1,!0),"initialize",[t,n,a],null),l.node_name="inline_"+n,l.text=s,l.id=a["$[]"]("id"),l.type=a["$[]"]("type"),l.target=a["$[]"]("target")}),-3),s(c,"$block?",a(!1)),s(c,"$inline?",a(!0)),s(c,"$convert",(function(){return this.$converter().$convert(this)})),l(c,"render","convert"),s(c,"$alt",(function(){var e;return u(e=this.$attr("alt"))?e:""})),s(c,"$reftext?",(function(){var e,t=this,n=$;return u(e=t.text)?u(n=t.type["$=="]("ref"))?n:t.type["$=="]("bibref"):e})),s(c,"$reftext",(function(){var e;return u(e=this.text)?this.$apply_reftext_subs(e):$})),s(c,"$xreftext",(function(e){return null==e&&(e=$),this.$reftext()}),-1)}(f[0],d("AbstractNode"))}(c[0],c)},Opal.modules["asciidoctor/list"]=function(e){var t=e.module,n=e.klass,r=e.alias,i=e.hash2,o=e.send2,s=e.find_super,a=e.def,l=e.truthy,u=e.eqeq,c=[],$=e.nil;return e.add_stubs("blocks,blocks?,==,next_list,callouts,convert,class,object_id,inspect,size,items,parent,attr_accessor,level,drop,nil_or_empty?,apply_subs,attr_writer,empty?,===,[],outline?,!,simple?,source,shift,context"),function(c,_){var f=[t(c,"Asciidoctor")].concat(_),d=e.$r(f);return function(e,t){var c=n(e,t,"List"),_=c.$$prototype;_.context=_.document=_.style=$,r(c,"items","blocks"),r(c,"content","blocks"),r(c,"items?","blocks?"),a(c,"$initialize",(function e(t,n,r){var a=e.$$p||$;return e.$$p=null,null==r&&(r=i([],{})),o(this,s(this,"initialize",e,!1,!0),"initialize",[t,n,r],a)}),-3),a(c,"$outline?",(function(){var e;return l(e=this.context["$=="]("ulist"))?e:this.context["$=="]("olist")})),a(c,"$convert",(function e(){var t=e.$$p||$,n=this,r=$;return e.$$p=null,u(n.context,"colist")?(r=o(n,s(n,"convert",e,!1,!0),"convert",[],t),n.document.$callouts().$next_list(),r):o(n,s(n,"convert",e,!1,!0),"convert",[],t)})),r(c,"render","convert"),a(c,"$to_s",(function(){var e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {context: "+e.context.$inspect()+", style: "+e.style.$inspect()+", items: "+e.$items().$size()+"}>"}))}(f[0],d("AbstractBlock")),function(t,i,u){var c=n(t,i,"ListItem"),_=[c].concat(u),f=e.$r(_),d=c.$$prototype;return d.text=d.subs=d.blocks=$,r(c,"list","parent"),c.$attr_accessor("marker"),a(c,"$initialize",(function e(t,n){var r=this;return e.$$p=null,null==n&&(n=$),o(r,s(r,"initialize",e,!1,!0),"initialize",[t,"list_item"],null),r.text=n,r.level=t.$level(),r.subs=f("NORMAL_SUBS").$drop(0)}),-2),a(c,"$text?",(function(){return!l(this.text["$nil_or_empty?"]())})),a(c,"$text",(function(){var e,t=this;return l(e=t.text)?t.$apply_subs(t.text,t.subs):e})),c.$attr_writer("text"),a(c,"$simple?",(function(){var e,t=this,n=$,r=$,i=$;return l(e=t.blocks["$empty?"]())?e:l(n=l(r=t.blocks.$size()["$=="](1))?f("List")["$==="](i=t.blocks["$[]"](0)):r)?i["$outline?"]():n})),a(c,"$compound?",(function(){return this["$simple?"]()["$!"]()})),a(c,"$fold_first",(function(){var e=this;return e.text=l(e.text["$nil_or_empty?"]())?e.blocks.$shift().$source():""+e.text+f("LF")+e.blocks.$shift().$source(),$})),a(c,"$to_s",(function(){var e,t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {list_context: "+t.$parent().$context().$inspect()+", text: "+t.text.$inspect()+", blocks: "+(l(e=t.blocks)?e:[]).$size()+"}>"}))}(f[0],d("AbstractBlock"),f)}(c[0],c)},Opal.modules["asciidoctor/parser"]=function(e){var t=e.module,n=e.klass,r=e.const_set,i=e.send,o=e.truthy,s=e.hash2,a=e.to_ary,l=e.defs,u=e.eqeq,c=e.not,$=e.gvars,_=e.neqeq,f=e.rb_plus,d=e.rb_lt,p=e.rb_gt,h=e.to_a,m=e.eqeqeq,g=e.rb_minus,v=e.rb_times,b=e.thrower,y=[],w=e.nil,x=e.$$$;return e.add_stubs("include,new,proc,start_with?,match?,is_delimited_block?,private_class_method,parse_document_header,[],has_more_lines?,next_section,assign_numeral,<<,blocks,skip_blank_lines,parse_block_metadata_lines,attributes,is_next_line_doctitle?,[]=,finalize_header,nil_or_empty?,title=,sourcemap,cursor,parse_section_title,id=,include?,sub_specialchars,sub_attributes,source_location=,header,attribute_locked?,id,clear,delete,instance_variable_get,parse_header_metadata,==,!,register,process_authors,update,doctype,parse_manpage_header,=~,downcase,error,logger,message_with_context,cursor_at_line,backend,save,is_next_line_section?,initialize_section,join,map,read_lines_until,lstrip,split,title,restore_save,discard_save,header?,empty?,context,!=,attr?,attr,key?,document,+,level,special,sectname,to_i,<,>,warn,next_block,blocks?,style,style=,parent=,content_model,content_model=,lines,subs,size,context=,shift,unwrap_standalone_preamble,source_location,merge,fetch,parse_block_metadata_line,extensions,block_macros?,mark,read_line,terminator,to_s,masq,to_sym,registered_for_block?,debug?,debug,cursor_at_mark,strict_verbatim_paragraphs,unshift_line,markdown_syntax,keys,chr,uniform?,length,end_with?,parse_attributes,attribute_missing,tr,basename,assign_caption,registered_for_block_macro?,config,process_method,replace,parse_callout_list,callouts,===,parse_list,parse_description_list,underline_style_section_titles,is_section_title?,peek_line,atx_section_title?,generate_id,level=,read_paragraph_lines,adjust_indentation!,map!,slice,pop,build_block,apply_subs,chop,catalog_inline_anchors,rekey,index,strip,-,parse_table,each,raise,title?,update_attributes,commit_subs,sub?,catalog_callouts,source,remove_sub,block_terminates_paragraph,to_proc,nil?,parse_blocks,parse_list_item,items,scan,gsub,count,advance,dup,match,callout_ids,next_list,catalog_inline_anchor,marker=,catalog_inline_biblio_anchor,set_option,text=,resolve_ordered_list_marker,read_lines_for_list_item,skip_line_comments,unshift_lines,fold_first,text?,is_sibling_list_item?,concat,find,casecmp,sectname=,special=,numbered=,numbered,lineno,peek_lines,setext_section_title?,abs,cursor_at_prev_line,process_attribute_entries,next_line_empty?,apply_header_subs,rstrip,each_with_index,compact,to_h,squeeze,to_a,parse_style_attribute,process_attribute_entry,skip_comment_lines,store_attribute,sanitize_attribute_name,set_attribute,save_to,delete_attribute,ord,int_to_roman,resolve_list_marker,parse_colspecs,create_columns,has_header_option=,format,starts_with_delimiter?,close_open_cell,parse_cellspec,delimiter,match_delimiter,pre_match,post_match,buffer_has_unclosed_quotes?,skip_past_delimiter,buffer=,buffer,skip_past_escaped_delimiter,keep_cell_open,push_cellspec,close_cell,cell_open?,columns,assign_column_widths,partition_header_footer,upto,partition,shorthand_property_syntax,each_char,yield_buffered_attribute,any?,*,each_byte,%"),function(y,k){var E=[t(y,"Asciidoctor")].concat(k);return function(t,y,k){var E=n(t,null,"Parser"),A=[E].concat(k),S=e.$r(A);return E.$include(S("Logging")),r(A[0],"BlockMatchData",S("Struct").$new("context","masq","tip","terminator")),r(A[0],"TAB","\t"),r(A[0],"TabIndentRx",/^\t+/),r(A[0],"StartOfBlockProc",i(E,"proc",[],(function e(t){var n,r,i=null==e.$$s?this:e.$$s;return null==t&&(t=w),o(n=o(r=t["$start_with?"]("["))?S("BlockAttributeLineRx")["$match?"](t):r)?n:i["$is_delimited_block?"](t)}),{$$s:E})),r(A[0],"StartOfListProc",i(E,"proc",[],(function(e){return null==e&&(e=w),S("AnyListRx")["$match?"](e)}))),r(A[0],"StartOfBlockOrListProc",i(E,"proc",[],(function e(t){var n,r,i=w;return null==t&&(t=w),o(n=o(r=(null==e.$$s?this:e.$$s)["$is_delimited_block?"](t))?r:o(i=t["$start_with?"]("["))?S("BlockAttributeLineRx")["$match?"](t):i)?n:S("AnyListRx")["$match?"](t)}),{$$s:E})),r(A[0],"NoOp",w),r(A[0],"AuthorKeys",["author","authorinitials","firstname","middlename","lastname","email"]),r(A[0],"TableCellHorzAlignments",s(["<",">","^"],{"<":"left",">":"right","^":"center"})),r(A[0],"TableCellVertAlignments",s(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),r(A[0],"TableCellStyles",s(["d","s","e","m","h","l","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",a:"asciidoc"})),E.$private_class_method("new"),l(E,"$parse",(function(e,t,n){var r,i,l,u=w,c=w;if(null==n&&(n=s([],{})),u=this.$parse_document_header(e,t,l=n["$[]"]("header_only")),!o(l))for(;o(e["$has_more_lines?"]());)i=this.$next_section(e,t,u),c=null==(r=a(i))[0]?w:r[0],u=null==r[1]?w:r[1],o(c)&&(t.$assign_numeral(c),t.$blocks()["$<<"](c));return t}),-3),l(E,"$parse_document_header",(function(e,t,n){var r,l,$,_,f=this,d=w,p=w,h=w,m=w,g=w,v=w,b=w,y=w,x=w,k=w,E=w,A=w,C=w,O=w;return null==n&&(n=!1),d=o(e.$skip_blank_lines())?f.$parse_block_metadata_lines(e,t):s([],{}),p=t.$attributes(),o(_=f["$is_next_line_doctitle?"](e,d,p["$[]"]("leveloffset")))&&o(d["$[]"]("title"))?(p["$[]="]("authorcount",0),t.$finalize_header(d,!1)):(o((h=p["$[]"]("doctitle"))["$nil_or_empty?"]())||t["$title="](m=h),o(_)?(o(t.$sourcemap())&&(g=e.$cursor()),l=f.$parse_section_title(e,t),$=[null==(r=a(l))[0]?w:r[0]],i(t,"id=",$),null==r[1]||r[1],v=null==r[2]?w:r[2],null==r[3]||r[3],b=null==r[4]?w:r[4],o(m)?v=w:(t["$title="](v),o((r=["doctitle",m=t.$sub_specialchars(v)],i(p,"[]=",r),r[r.length-1])["$include?"](S("ATTR_REF_HEAD")))&&p["$[]="]("doctitle",m=t.$sub_attributes(m,s(["attribute_missing"],{attribute_missing:"skip"})))),o(g)&&t.$header()["$source_location="](g),o(b)||o(t["$attribute_locked?"]("compat-mode"))||p["$[]="]("compat-mode",""),o(y=d["$[]"]("separator"))&&(o(t["$attribute_locked?"]("title-separator"))||p["$[]="]("title-separator",y)),o(x=d["$[]"]("id"))?t["$id="](x):x=t.$id(),o(k=d["$[]"]("role"))&&p["$[]="]("role",k),o(E=d["$[]"]("reftext"))&&p["$[]="]("reftext",E),d.$clear(),(A=t.$instance_variable_get("@attributes_modified")).$delete("doctitle"),f.$parse_header_metadata(e,t,w),o(A["$include?"]("doctitle"))?o((h=p["$[]"]("doctitle"))["$nil_or_empty?"]())||u(h,m)?p["$[]="]("doctitle",m):t["$title="](h):c(v)&&A["$<<"]("doctitle"),o(x)&&t.$register("refs",[x,t])):o(C=p["$[]"]("author"))?(O=f.$process_authors(C,!0,!1),o(p["$[]"]("authorinitials"))&&O.$delete("authorinitials"),p.$update(O)):o(C=p["$[]"]("authors"))?(O=f.$process_authors(C,!0),p.$update(O)):p["$[]="]("authorcount",0),u(t.$doctype(),"manpage")&&f.$parse_manpage_header(e,t,d,n),t.$finalize_header(d))}),-3),l(E,"$parse_manpage_header",(function(e,t,n,r){var a,l=this,c=w,_=w,f=w,d=w,p=w,h=w,m=w,g=w,v=w,b=w,y=w,x=w;return null==r&&(r=!1),o(S("ManpageTitleVolnumRx")["$=~"]((c=t.$attributes())["$[]"]("doctitle")))?(c["$[]="]("manvolnum",_=(a=$["~"])===w?w:a["$[]"](2)),c["$[]="]("mantitle",(o((f=(a=$["~"])===w?w:a["$[]"](1))["$include?"](S("ATTR_REF_HEAD")))?t.$sub_attributes(f):f).$downcase())):(l.$logger().$error(l.$message_with_context("non-conforming manpage title",s(["source_location"],{source_location:e.$cursor_at_line(1)}))),c["$[]="]("mantitle",o(d=o(p=c["$[]"]("doctitle"))?p:c["$[]"]("docname"))?d:"command"),c["$[]="]("manvolnum",_="1")),o(h=c["$[]"]("manname"))&&o(c["$[]"]("manpurpose"))?(o(d=c["$[]"]("manname-title"))||c["$[]="]("manname-title","Name"),c["$[]="]("mannames",[h]),u(t.$backend(),"manpage")&&(c["$[]="]("docname",h),c["$[]="]("outfilesuffix","."+_))):o(r)||(e.$skip_blank_lines(),e.$save(),n.$update(l.$parse_block_metadata_lines(e,t)),o(m=l["$is_next_line_section?"](e,s([],{})))?u(m,1)?(g=l.$initialize_section(e,t,s([],{})),v=i(e.$read_lines_until(s(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],(function(e){return null==e&&(e=w),e.$lstrip()})).$join(" "),o(S("ManpageNamePurposeRx")["$=~"](v))?(o((h=(a=$["~"])===w?w:a["$[]"](1))["$include?"](S("ATTR_REF_HEAD")))&&(h=t.$sub_attributes(h)),o(h["$include?"](","))?h=(b=i(h.$split(","),"map",[],(function(e){return null==e&&(e=w),e.$lstrip()})))["$[]"](0):b=[h],o((y=(a=$["~"])===w?w:a["$[]"](2))["$include?"](S("ATTR_REF_HEAD")))&&(y=t.$sub_attributes(y)),o(d=c["$[]"]("manname-title"))||c["$[]="]("manname-title",g.$title()),o(g.$id())&&c["$[]="]("manname-id",g.$id()),c["$[]="]("manname",h),c["$[]="]("mannames",b),c["$[]="]("manpurpose",y),u(t.$backend(),"manpage")&&(c["$[]="]("docname",h),c["$[]="]("outfilesuffix","."+_))):x="non-conforming name section body"):x="name section must be at level 1":x="name section expected",o(x)?(e.$restore_save(),l.$logger().$error(l.$message_with_context(x,s(["source_location"],{source_location:e.$cursor()}))),c["$[]="]("manname",h=o(d=c["$[]"]("docname"))?d:"command"),c["$[]="]("mannames",[h]),u(t.$backend(),"manpage")&&(c["$[]="]("docname",h),c["$[]="]("outfilesuffix","."+_))):e.$discard_save()),w}),-4),l(E,"$next_section",(function(e,t,n){var r,l,$=this,h=w,m=w,g=w,v=w,b=w,y=w,x=w,k=w,E=w,A=w,C=w,O=w,T=w,I=w,R=w,N=w,L=w,z=w,D=w,F=w;for(null==n&&(n=s([],{})),h=m=g=!1,u(t.$context(),"document")&&o(t.$blocks()["$empty?"]())&&(o(v=t["$header?"]())||o(n.$delete("invalid-header"))||c($["$is_next_line_section?"](e,n)))?(b=(y=t).$doctype()["$=="]("book"),(o(v)||o(b)&&_(n["$[]"](1),"abstract"))&&(h=m=S("Block").$new(t,"preamble",s(["content_model"],{content_model:"compound"})),o(b)&&o(t["$attr?"]("preface-title"))&&h["$title="](t.$attr("preface-title")),t.$blocks()["$<<"](h)),x=t,k=0,o(t.$attributes()["$key?"]("fragment"))?E=-1:o(b)?(E=(r=[1,0])[0],A=r[1]):E=1):(b=(y=t.$document()).$doctype()["$=="]("book"),x=$.$initialize_section(e,t,n),n=o(C=n["$[]"]("title"))?s(["title"],{title:C}):s([],{}),E=f(k=x.$level(),1),u(k,0)?g=b:u(k,1)&&o(x.$special())&&(u(O=x.$sectname(),"appendix")||u(O,"preface")||u(O,"abstract")||(E=w))),e.$skip_blank_lines();o(e["$has_more_lines?"]());){if($.$parse_block_metadata_lines(e,y,n),o(T=$["$is_next_line_section?"](e,n)))if(o(y["$attr?"]("leveloffset"))&&(T=f(T,y.$attr("leveloffset").$to_i()),o(d(T,0))&&(T=0)),o(p(T,k)))o(E)?u(T,E)||o(A)&&u(T,A)||o(d(E,0))||(I=o(A)?"expected levels "+A+" or "+E:"expected level "+E,$.$logger().$warn($.$message_with_context("section title out of sequence: "+I+", got level "+T,s(["source_location"],{source_location:e.$cursor()})))):$.$logger().$error($.$message_with_context(O+" sections do not support nested sections",s(["source_location"],{source_location:e.$cursor()}))),l=$.$next_section(e,x,n),R=null==(r=a(l))[0]?w:r[0],n=null==r[1]?w:r[1],x.$assign_numeral(R),x.$blocks()["$<<"](R);else{if(!u(T,0)||!u(x,y))break;o(b)||$.$logger().$error($.$message_with_context("level 0 sections can only be used when doctype is book",s(["source_location"],{source_location:e.$cursor()}))),l=$.$next_section(e,x,n),R=null==(r=a(l))[0]?w:r[0],n=null==r[1]?w:r[1],x.$assign_numeral(R),x.$blocks()["$<<"](R)}else N=e.$cursor(),o(L=$.$next_block(e,o(z=m)?z:x,n,s(["parse_metadata"],{parse_metadata:!1})))&&(o(g)&&(c(x["$blocks?"]())?_(L.$style(),"partintro")?u(L.$style(),"open")&&u(L.$context(),"open")?L["$style="]("partintro"):(L["$parent="](m=S("Block").$new(x,"open",s(["content_model"],{content_model:"compound"}))),m["$style="]("partintro"),x.$blocks()["$<<"](m)):u(L.$content_model(),"simple")&&(L["$content_model="]("compound"),L["$<<"](S("Block").$new(L,"paragraph",s(["source","subs"],{source:L.$lines(),subs:L.$subs()}))),L.$lines().$clear(),L.$subs().$clear()):u(x.$blocks().$size(),1)&&(D=x.$blocks()["$[]"](0),c(m)&&u(D.$content_model(),"compound")?$.$logger().$error($.$message_with_context("illegal block content outside of partintro block",s(["source_location"],{source_location:N}))):_(D.$content_model(),"compound")&&(L["$parent="](m=S("Block").$new(x,"open",s(["content_model"],{content_model:"compound"}))),u(D.$style(),(i(m,"style=",r=["partintro"]),r[r.length-1]))&&(D["$context="]("paragraph"),D["$style="](w)),x.$blocks().$shift(),m["$<<"](D),x.$blocks()["$<<"](m)))),(o(z=m)?z:x).$blocks()["$<<"](L),n.$clear());if(!o(z=e.$skip_blank_lines()))break}if(o(g))o(x["$blocks?"]())&&u(x.$blocks()["$[]"](-1).$context(),"section")||$.$logger().$error($.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",s(["source_location"],{source_location:e.$cursor()})));else if(o(h))if(o(h["$blocks?"]()))if(o(b)||o(y.$blocks()["$[]"](1))||c(S("Compliance").$unwrap_standalone_preamble()))o(y.$sourcemap())&&h["$source_location="](h.$blocks()["$[]"](0).$source_location());else for(y.$blocks().$shift();o(F=h.$blocks().$shift());)y["$<<"](F);else y.$blocks().$shift();return[u(x,t)?w:x,n.$merge()]}),-3),l(E,"$next_block",(function(e,t,n,r){var l,v,b,y=this,x=w,k=w,E=w,A=w,C=w,O=w,T=w,I=w,R=w,N=w,L=w,z=w,D=w,F=w,M=w,q=w,B=w,j=w,P=w,U=w,H=w,Y=w,G=w,W=w,K=w,V=w,X=w,J=w,Z=w,Q=w,ee=w,te=w,ne=w,re=w,ie=w,oe=w,se=w,ae=w,le=w,ue=w,ce=w,$e=w,_e=w,fe=w,de=w,pe=w,he=w,me=w;if(null==$["~"]&&($["~"]=w),null==n&&(n=s([],{})),null==r&&(r=s([],{})),!o(x=e.$skip_blank_lines()))return w;if(o(k=r["$[]"]("text_only"))&&o(p(x,0))&&(r.$delete("text_only"),k=w),E=t.$document(),o(r.$fetch("parse_metadata",!0)))for(;o(y.$parse_block_metadata_line(e,E,n,r));)if(e.$shift(),!o(A=e.$skip_blank_lines()))return w;if(o(C=E.$extensions())&&(O=(l=[C["$blocks?"](),C["$block_macros?"]()])[0],T=l[1]),e.$mark(),I=(l=[e.$read_line(),E.$attributes(),n["$[]"](1)])[0],R=l[1],N=l[2],L=z=D=F=w,o(M=y["$is_delimited_block?"](I,!0))&&(z=D=M.$context(),F=M.$terminator(),o(N)?u(N,z.$to_s())||(o(M.$masq()["$include?"](N))?z=N.$to_sym():o(M.$masq()["$include?"]("admonition"))&&o(S("ADMONITION_STYLES")["$include?"](N))?z="admonition":o(O)&&o(C["$registered_for_block?"](N,z))?z=N.$to_sym():(o(y.$logger()["$debug?"]())&&y.$logger().$debug(y.$message_with_context("unknown style for "+z+" block: "+N,s(["source_location"],{source_location:e.$cursor_at_mark()}))),N=z.$to_s())):(l=["style",z.$to_s()],i(n,"[]=",l),N=l[l.length-1])),!o(M))for(;o(!0);){if(o(N)&&o(S("Compliance").$strict_verbatim_paragraphs())&&o(S("VERBATIM_STYLES")["$include?"](N))){z=N.$to_sym(),e.$unshift_line(I);break}if(o(k))q=I["$start_with?"](" ",S("TAB"));else if(B=S("Compliance").$markdown_syntax(),o(I["$start_with?"](" "))){if(q=(l=[!0," "])[0],j=l[1],o(B)&&o(i(I.$lstrip(),"start_with?",h(S("MARKDOWN_THEMATIC_BREAK_CHARS").$keys())))&&o(S("MarkdownThematicBreakRx")["$match?"](I))){L=S("Block").$new(t,"thematic_break",s(["content_model"],{content_model:"empty"}));break}}else if(o(I["$start_with?"](S("TAB"))))q=(l=[!0,S("TAB")])[0],j=l[1];else{if(q=(l=[!1,I.$chr()])[0],j=l[1],P=o(B)?S("HYBRID_LAYOUT_BREAK_CHARS"):S("LAYOUT_BREAK_CHARS"),o(P["$key?"](j))&&o(o(B)?S("ExtLayoutBreakRx")["$match?"](I):o(A=y["$uniform?"](I,j,U=I.$length()))?p(U,2):A)){L=S("Block").$new(t,P["$[]"](j),s(["content_model"],{content_model:"empty"}));break}if(o(I["$end_with?"]("]"))&&o(I["$include?"]("::"))){if((u(j,"i")||o(I["$start_with?"]("video:","audio:")))&&o(S("BlockMediaMacroRx")["$=~"](I))){if(H=(l=[((v=$["~"])===w?w:v["$[]"](1)).$to_sym(),(v=$["~"])===w?w:v["$[]"](2),(v=$["~"])===w?w:v["$[]"](3)])[0],Y=l[1],G=l[2],L=S("Block").$new(t,H,s(["content_model"],{content_model:"empty"})),o(G)){switch(H){case"video":W=["poster","width","height"];break;case"audio":W=[];break;default:W=["alt","width","height"]}L.$parse_attributes(G,W,s(["sub_input","into"],{sub_input:!0,into:n}))}if(o(n["$key?"]("style"))&&n.$delete("style"),o(Y["$include?"](S("ATTR_REF_HEAD")))){if(o((K=L.$sub_attributes(Y))["$empty?"]())&&u(o(A=R["$[]"]("attribute-missing"))?A:S("Compliance").$attribute_missing(),"drop-line")&&o(L.$sub_attributes(f(Y," "),s(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]()))return n.$clear(),w;Y=K}u(H,"image")&&(E.$register("images",Y),n["$[]="]("imagesdir",R["$[]"]("imagesdir")),o(A=n["$[]"]("alt"))||n["$[]="]("alt",o(V=N)?V:(l=["default-alt",S("Helpers").$basename(Y,!0).$tr("_-"," ")],i(n,"[]=",l),l[l.length-1])),o((X=n.$delete("scaledwidth"))["$nil_or_empty?"]())||n["$[]="]("scaledwidth",o(S("TrailingDigitsRx")["$match?"](X))?X+"%":X),o(n["$[]"]("title"))&&(L["$title="](J=n.$delete("title")),L.$assign_caption(n.$delete("caption"),"figure"))),n["$[]="]("target",Y);break}if(u(j,"t")&&o(I["$start_with?"]("toc:"))&&o(S("BlockTocMacroRx")["$=~"](I))){L=S("Block").$new(t,"toc",s(["content_model"],{content_model:"empty"})),o((l=$["~"])===w?w:l["$[]"](1))&&L.$parse_attributes((l=$["~"])===w?w:l["$[]"](1),[],s(["into"],{into:n}));break}if(o(o(T)?o(A=o(V=S("CustomBlockMacroRx")["$=~"](I))?Z=C["$registered_for_block_macro?"]((l=$["~"])===w?w:l["$[]"](1)):V)?A:Q=y.$logger()["$debug?"]():o(A=y.$logger()["$debug?"]())?Q=S("CustomBlockMacroRx")["$=~"](I):A)){if(!o(Q)){if(ee=(l=$["~"])===w?w:l["$[]"](3),o((Y=(l=$["~"])===w?w:l["$[]"](2))["$include?"](S("ATTR_REF_HEAD")))){if(o((K=t.$sub_attributes(Y))["$empty?"]())&&u(o(A=R["$[]"]("attribute-missing"))?A:S("Compliance").$attribute_missing(),"drop-line")&&o(t.$sub_attributes(f(Y," "),s(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]()))return n.$clear(),w;Y=K}if(u((te=Z.$config())["$[]"]("content_model"),"attributes")?o(ee)&&E.$parse_attributes(ee,o(A=o(V=te["$[]"]("positional_attrs"))?V:te["$[]"]("pos_attrs"))?A:[],s(["sub_input","into"],{sub_input:!0,into:n})):n["$[]="]("text",o(A=ee)?A:""),o(ne=te["$[]"]("default_attrs"))&&i(n,"update",[ne],(function(e,t){return null==e&&(e=w),null==t&&(t=w),t})),o(L=Z.$process_method()["$[]"](t,Y,n))&&_(L,t)){n.$replace(L.$attributes());break}return n.$clear(),w}y.$logger().$debug(y.$message_with_context("unknown name for block macro: "+((l=$["~"])===w?w:l["$[]"](1)),s(["source_location"],{source_location:e.$cursor_at_mark()})))}}}if(c(q)&&u(j=o(A=j)?A:I.$chr(),"<")&&o(S("CalloutListRx")["$=~"](I))){e.$unshift_line(I),L=y.$parse_callout_list(e,$["~"],t,E.$callouts()),n["$[]="]("style","arabic");break}if(o(S("UnorderedListRx")["$match?"](I))){e.$unshift_line(I),c(N)&&m(S("Section"),t)&&u(t.$sectname(),"bibliography")&&n["$[]="]("style",N="bibliography"),L=y.$parse_list(e,"ulist",t,N);break}if(o(S("OrderedListRx")["$match?"](I))){e.$unshift_line(I),L=y.$parse_list(e,"olist",t,N),o(L.$style())&&n["$[]="]("style",L.$style());break}if((o(I["$include?"]("::"))||o(I["$include?"](";;")))&&o(S("DescriptionListRx")["$=~"](I))){e.$unshift_line(I),L=y.$parse_description_list(e,$["~"],t);break}if((u(N,"float")||u(N,"discrete"))&&o(o(S("Compliance").$underline_style_section_titles())?y["$is_section_title?"](I,e.$peek_line()):o(A=q["$!"]())?y["$atx_section_title?"](I):A)){e.$unshift_line(I),v=y.$parse_section_title(e,E,n["$[]"]("id")),re=null==(l=a(v))[0]?w:l[0],ie=null==l[1]?w:l[1],J=null==l[2]?w:l[2],oe=null==l[3]?w:l[3],o(ie)&&n["$[]="]("reftext",ie),(L=S("Block").$new(t,"floating_title",s(["content_model"],{content_model:"empty"})))["$title="](J),n.$delete("title"),L["$id="](o(A=re)?A:o(R["$key?"]("sectids"))?S("Section").$generate_id(L.$title(),E):w),L["$level="](oe);break}if(o(N)&&_(N,"normal")){if(o(S("PARAGRAPH_STYLES")["$include?"](N))){z=N.$to_sym(),D="paragraph",e.$unshift_line(I);break}if(o(S("ADMONITION_STYLES")["$include?"](N))){z="admonition",D="paragraph",e.$unshift_line(I);break}if(o(O)&&o(C["$registered_for_block?"](N,"paragraph"))){z=N.$to_sym(),D="paragraph",e.$unshift_line(I);break}o(y.$logger()["$debug?"]())&&y.$logger().$debug(y.$message_with_context("unknown style for paragraph: "+N,s(["source_location"],{source_location:e.$cursor_at_mark()}))),N=w}if(e.$unshift_line(I),o(q)&&c(N))se=y.$read_paragraph_lines(e,ae=u(x,0)?r["$[]"]("list_type"):w,s(["skip_line_comments"],{skip_line_comments:k})),y["$adjust_indentation!"](se),L=o(k)||u(ae,"dlist")?S("Block").$new(t,"paragraph",s(["content_model","source","attributes"],{content_model:"simple",source:se,attributes:n})):S("Block").$new(t,"literal",s(["content_model","source","attributes"],{content_model:"verbatim",source:se,attributes:n}));else{if(se=y.$read_paragraph_lines(e,o(A=x["$=="](0))?r["$[]"]("list_type"):A,s(["skip_line_comments"],{skip_line_comments:!0})),o(k))o(q)&&u(N,"normal")&&y["$adjust_indentation!"](se),L=S("Block").$new(t,"paragraph",s(["content_model","source","attributes"],{content_model:"simple",source:se,attributes:n}));else if(o(S("ADMONITION_STYLE_HEADS")["$include?"](j))&&o(I["$include?"](":"))&&o(S("AdmonitionParagraphRx")["$=~"](I)))se["$[]="](0,(l=$["~"])===w?w:l.$post_match()),n["$[]="]("name",le=(l=["style",(v=$["~"])===w?w:v["$[]"](1)],i(n,"[]=",l),l[l.length-1]).$downcase()),n["$[]="]("textlabel",o(A=n.$delete("caption"))?A:R["$[]"](le+"-caption")),L=S("Block").$new(t,"admonition",s(["content_model","source","attributes"],{content_model:"simple",source:se,attributes:n}));else if(o(B)&&u(j,">")&&o(I["$start_with?"]("> "))){if(i(se,"map!",[],(function(e){return null==e&&(e=w),u(e,">")?e.$slice(1,e.$length()):o(e["$start_with?"]("> "))?e.$slice(2,e.$length()):e})),o(se["$[]"](-1)["$start_with?"]("-- "))&&(ue=(ue=se.$pop()).$slice(3,ue.$length()),!o(se["$empty?"]())))for(;o(se["$[]"](-1)["$empty?"]());)se.$pop();n["$[]="]("style","quote"),L=y.$build_block("quote","compound",!1,t,S("Reader").$new(se),n),o(ue)&&(v=L.$apply_subs(ue).$split(", ",2),ce=null==(l=a(v))[0]?w:l[0],$e=null==l[1]?w:l[1],o(ce)&&n["$[]="]("attribution",ce),o($e)&&n["$[]="]("citetitle",$e))}else if(u(j,'"')&&o(p(se.$size(),1))&&o(se["$[]"](-1)["$start_with?"]("-- "))&&o(se["$[]"](-2)["$end_with?"]('"'))){for(se["$[]="](0,I.$slice(1,I.$length())),ue=(ue=se.$pop()).$slice(3,ue.$length());o(se["$[]"](-1)["$empty?"]());)se.$pop();se["$<<"](se.$pop().$chop()),n["$[]="]("style","quote"),v=(L=S("Block").$new(t,"quote",s(["content_model","source","attributes"],{content_model:"simple",source:se,attributes:n}))).$apply_subs(ue).$split(", ",2),ce=null==(l=a(v))[0]?w:l[0],$e=null==l[1]?w:l[1],o(ce)&&n["$[]="]("attribution",ce),o($e)&&n["$[]="]("citetitle",$e)}else o(q)&&u(N,"normal")&&y["$adjust_indentation!"](se),L=S("Block").$new(t,"paragraph",s(["content_model","source","attributes"],{content_model:"simple",source:se,attributes:n}));y.$catalog_inline_anchors(se.$join(S("LF")),L,E,e)}break}if(!o(L))switch(z){case"listing":case"source":(u(z,"source")||c(n["$[]"](1))&&o(_e=o(V=n["$[]"](2))?V:R["$[]"]("source-language")))&&(o(_e)?(n["$[]="]("style","source"),n["$[]="]("language",_e),S("AttributeList").$rekey(n,[w,w,"linenums"])):(S("AttributeList").$rekey(n,[w,"language","linenums"]),o(n["$key?"]("language"))||o(R["$key?"]("source-language"))&&n["$[]="]("language",R["$[]"]("source-language"))),o(n["$key?"]("linenums"))||(o(n["$[]"]("linenums-option"))||o(R["$[]"]("source-linenums-option")))&&n["$[]="]("linenums",""),o(n["$key?"]("indent"))||o(R["$key?"]("source-indent"))&&n["$[]="]("indent",R["$[]"]("source-indent"))),L=y.$build_block("listing","verbatim",F,t,e,n);break;case"fenced_code":n["$[]="]("style","source"),o(p(U=I.$length(),3))&&(o(fe=(_e=I.$slice(3,U)).$index(","))?o(p(fe,0))?(_e=_e.$slice(0,fe).$strip(),o(d(fe,g(U,4)))&&n["$[]="]("linenums","")):o(p(U,4))&&n["$[]="]("linenums",""):_e=_e.$lstrip()),o(_e["$nil_or_empty?"]())?o(R["$key?"]("source-language"))&&n["$[]="]("language",R["$[]"]("source-language")):n["$[]="]("language",_e),o(n["$key?"]("linenums"))||(o(n["$[]"]("linenums-option"))||o(R["$[]"]("source-linenums-option")))&&n["$[]="]("linenums",""),o(n["$key?"]("indent"))||o(R["$key?"]("source-indent"))&&n["$[]="]("indent",R["$[]"]("source-indent")),F=F.$slice(0,3),L=y.$build_block("listing","verbatim",F,t,e,n);break;case"table":de=e.$cursor(),pe=S("Reader").$new(e.$read_lines_until(s(["terminator","skip_line_comments","context","cursor"],{terminator:F,skip_line_comments:!0,context:"table",cursor:"at_mark"})),de),o(F["$start_with?"]("|","!"))||o(V=n["$[]"]("format"))||n["$[]="]("format",o(F["$start_with?"](","))?"csv":"dsv"),L=y.$parse_table(pe,t,n);break;case"sidebar":L=y.$build_block(z,"compound",F,t,e,n);break;case"admonition":n["$[]="]("name",le=N.$downcase()),n["$[]="]("textlabel",o(V=n.$delete("caption"))?V:R["$[]"](le+"-caption")),L=y.$build_block(z,"compound",F,t,e,n);break;case"open":case"abstract":case"partintro":L=y.$build_block("open","compound",F,t,e,n);break;case"literal":L=y.$build_block(z,"verbatim",F,t,e,n);break;case"example":o(n["$[]"]("collapsible-option"))&&n["$[]="]("caption",""),L=y.$build_block(z,"compound",F,t,e,n);break;case"quote":case"verse":S("AttributeList").$rekey(n,[w,"attribution","citetitle"]),L=y.$build_block(z,u(z,"verse")?"verbatim":"compound",F,t,e,n);break;case"stem":case"latexmath":case"asciimath":u(z,"stem")&&n["$[]="]("style",S("STEM_TYPE_ALIASES")["$[]"](o(V=n["$[]"](2))?V:R["$[]"]("stem"))),L=y.$build_block("stem","raw",F,t,e,n);break;case"pass":L=y.$build_block(z,"raw",F,t,e,n);break;case"comment":return y.$build_block(z,"skip",F,t,e,n),n.$clear(),w;default:if(o(O)&&o(Z=C["$registered_for_block?"](z,D))){if(u(he=(te=Z.$config())["$[]"]("content_model"),"skip")||(o((me=o(V=te["$[]"]("positional_attrs"))?V:te["$[]"]("pos_attrs"))["$nil_or_empty?"]())||S("AttributeList").$rekey(n,f([w],me)),o(ne=te["$[]"]("default_attrs"))&&i(ne,"each",[],(function(e,t){var r;return null==e&&(e=w),null==t&&(t=w),o(V=n["$[]"](e))?V:(i(n,"[]=",r=[e,t]),r[r.length-1])})),n["$[]="]("cloaked-context",D)),!o(L=y.$build_block(z,he,F,t,e,n,s(["extension"],{extension:Z}))))return n.$clear(),w}else y.$raise("Unsupported block type "+z+" at "+e.$cursor())}return o(E.$sourcemap())&&L["$source_location="](e.$cursor_at_mark()),o(n["$[]"]("title"))&&(L["$title="](J=n.$delete("title")),o(S("CAPTION_ATTRIBUTE_NAMES")["$[]"](L.$context()))&&L.$assign_caption(n.$delete("caption"))),L["$style="](n["$[]"]("style")),o(b=o(A=L.$id())?A:(l=[n["$[]"]("id")],i(L,"id=",l),l[l.length-1]))&&(o(o(J)?J["$include?"](S("ATTR_REF_HEAD")):L["$title?"]())&&L.$title(),o(E.$register("refs",[b,L]))||y.$logger().$warn(y.$message_with_context("id assigned to block already in use: "+b,s(["source_location"],{source_location:e.$cursor_at_mark()})))),o(n["$empty?"]())||L.$update_attributes(n),L.$commit_subs(),o(L["$sub?"]("callouts"))&&(o(y.$catalog_callouts(L.$source(),E))||L.$remove_sub("callouts")),L}),-3),l(E,"$read_paragraph_lines",(function(e,t,n){var r=w;return null==n&&(n=s([],{})),n["$[]="]("break_on_blank_lines",!0),n["$[]="]("break_on_list_continuation",!0),n["$[]="]("preserve_last_line",!0),r=o(t)?o(S("Compliance").$block_terminates_paragraph())?S("StartOfBlockOrListProc"):S("StartOfListProc"):o(S("Compliance").$block_terminates_paragraph())?S("StartOfBlockProc"):S("NoOp"),i(e,"read_lines_until",[n],r.$to_proc())}),-3),l(E,"$is_delimited_block?",(function(e,t){var n,r,i,s,l=w,c=w,$=w;if(null==t&&(t=w),!o(p(l=e.$length(),1))||!o(S("DELIMITED_BLOCK_HEADS")["$[]"](e.$slice(0,2))))return w;if(u(l,2))c=e,$=2;else if(o(d(l,5))?(c=e,$=l):c=e.$slice(0,$=4),o(S("Compliance").$markdown_syntax())&&o(c["$start_with?"]("`"))){if(u($,4)){if(u(c,"````")||_(c=c.$chop(),"```"))return w;e=c,l=$=3}else if(_(c,"```"))return w}else if(u($,3))return w;return r=S("DELIMITED_BLOCKS")["$[]"](c),i=null==(n=a(r))[0]?w:n[0],s=null==n[1]?w:n[1],o(i)&&(u(l,$)||o(this["$uniform?"](e.$slice(1,l),S("DELIMITED_BLOCK_TAILS")["$[]"](c),g(l,1))))?!o(t)||S("BlockMatchData").$new(i,s,c,e):w}),-2),l(E,"$build_block",(function(e,t,n,r,i,a,l){var $,f=this,d=w,h=w,g=w,v=w,b=w,y=w,x=w,k=w,E=w,A=w,C=w;switch(null==l&&(l=s([],{})),t){case"skip":d=($=[!0,"simple"])[0],h=$[1];break;case"raw":d=($=[!1,"simple"])[0],h=$[1];break;default:d=($=[!1,t])[0],h=$[1]}switch(o(n["$nil?"]())?(u(h,"verbatim")?g=i.$read_lines_until(s(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(u(t,"compound")&&(t="simple"),g=f.$read_paragraph_lines(i,!1,s(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:d}))),v=w):_(h,"compound")?(g=i.$read_lines_until(s(["terminator","skip_processing","context","cursor"],{terminator:n,skip_processing:d,context:e,cursor:"at_mark"})),v=w):u(n,!1)?(g=w,v=i):(g=w,b=i.$cursor(),v=S("Reader").$new(i.$read_lines_until(s(["terminator","skip_processing","context","cursor"],{terminator:n,skip_processing:d,context:e,cursor:"at_mark"})),b)),t){case"verbatim":y=(o(x=a["$[]"]("tabsize"))?x:r.$document().$attributes()["$[]"]("tabsize")).$to_i(),o(k=a["$[]"]("indent"))?f["$adjust_indentation!"](g,k.$to_i(),y):o(p(y,0))&&f["$adjust_indentation!"](g,-1,y);break;case"skip":return w}if(o(E=l["$[]"]("extension"))){if(a.$delete("style"),!o(A=E.$process_method()["$[]"](r,o(C=v)?C:S("Reader").$new(g),a.$merge()))||!_(A,r))return w;a.$replace(A.$attributes()),u(A.$content_model(),"compound")&&m(S("Block"),A)&&c((g=A.$lines())["$empty?"]())&&(t="compound",v=S("Reader").$new(g))}else A=S("Block").$new(r,e,s(["content_model","source","attributes"],{content_model:t,source:g,attributes:a}));return u(t,"compound")&&f.$parse_blocks(v,A),A}),-7),l(E,"$parse_blocks",(function(e,t,n){var r=w,i=w,s=w;if(null==n&&(n=w),o(n))for(;o(o(r=o(i=s=this.$next_block(e,t,n.$merge()))?t.$blocks()["$<<"](s):i)?r:e["$has_more_lines?"]()););else for(;o(o(r=o(i=s=this.$next_block(e,t))?t.$blocks()["$<<"](s):i)?r:e["$has_more_lines?"]()););return w}),-3),l(E,"$parse_list",(function(e,t,n,r){var i,s=w,a=w,l=w,u=w;for(null==$["~"]&&($["~"]=w),s=S("List").$new(n,t),a=S("ListRxMap")["$[]"](t);o(o(l=e["$has_more_lines?"]())?a["$=~"](e.$peek_line()):l)&&(o(u=this.$parse_list_item(e,s,$["~"],(i=$["~"])===w?w:i["$[]"](1),r))&&s.$items()["$<<"](u),o(l=e.$skip_blank_lines())););return s})),l(E,"$catalog_callouts",(function(e,t){var n=w,r=w;return n=!1,r=0,o(e["$include?"]("<"))&&i(e,"scan",[S("CalloutScanRx")],(function(){var e;return o(((e=$["~"])===w?w:e["$[]"](0))["$start_with?"]("\\"))||t.$callouts().$register(u((e=$["~"])===w?w:e["$[]"](2),".")?(r=f(r,1)).$to_s():(e=$["~"])===w?w:e["$[]"](2)),n=!0})),n})),l(E,"$catalog_inline_anchor",(function(e,t,n,r,i){return null==i&&(i=n.$document()),o(t)&&o(t["$include?"](S("ATTR_REF_HEAD")))&&(t=i.$sub_attributes(t)),o(i.$register("refs",[e,S("Inline").$new(n,"anchor",t,s(["type","id"],{type:"ref",id:e}))]))||(m(S("Reader"),r)&&(r=r.$cursor()),this.$logger().$warn(this.$message_with_context("id assigned to anchor already in use: "+e,s(["source_location"],{source_location:r})))),w}),-5),l(E,"$catalog_inline_anchors",(function(e,t,n,r){return(o(e["$include?"]("[["))||o(e["$include?"]("or:")))&&i(e,"scan",[S("InlineAnchorScanRx")],(function e(){var i,a=null==e.$$s?this:e.$$s,l=w,u=w,c=w,_=w;if(o(l=(i=$["~"])===w?w:i["$[]"](1))){if(o(u=(i=$["~"])===w?w:i["$[]"](2))&&o(u["$include?"](S("ATTR_REF_HEAD")))&&o((u=n.$sub_attributes(u))["$empty?"]()))return w}else l=(i=$["~"])===w?w:i["$[]"](3),o(u=(i=$["~"])===w?w:i["$[]"](4))&&(o(u["$include?"]("]"))?(u=u.$gsub("\\]","]"),o(u["$include?"](S("ATTR_REF_HEAD")))&&(u=n.$sub_attributes(u))):o(u["$include?"](S("ATTR_REF_HEAD")))&&o((u=n.$sub_attributes(u))["$empty?"]())&&(u=w));return o(n.$register("refs",[l,S("Inline").$new(t,"anchor",u,s(["type","id"],{type:"ref",id:l}))]))?w:(c=r.$cursor_at_mark(),o(p(_=f(((i=$["~"])===w?w:i.$pre_match()).$count(S("LF")),o(((i=$["~"])===w?w:i["$[]"](0))["$start_with?"](S("LF")))?1:0),0))&&(c=c.$dup()).$advance(_),a.$logger().$warn(a.$message_with_context("id assigned to anchor already in use: "+l,s(["source_location"],{source_location:c}))))}),{$$s:this}),w})),l(E,"$catalog_inline_biblio_anchor",(function(e,t,n,r){var i;return o(n.$document().$register("refs",[e,S("Inline").$new(n,"anchor",o(i=t)?"["+t+"]":i,s(["type","id"],{type:"bibref",id:e}))]))||this.$logger().$warn(this.$message_with_context("id assigned to bibliography anchor already in use: "+e,s(["source_location"],{source_location:r.$cursor()}))),w})),l(E,"$parse_description_list",(function(e,t,n){var r=w,i=w,s=w,a=w,l=w;for(null==$["~"]&&($["~"]=w),r=S("List").$new(n,"dlist"),i=S("DescriptionListSiblingRx")["$[]"](t["$[]"](2)),r.$items()["$<<"](s=this.$parse_list_item(e,r,t,i));o(o(a=e["$has_more_lines?"]())?i["$=~"](e.$peek_line()):a);)l=this.$parse_list_item(e,r,$["~"],i),o(s["$[]"](1))?r.$items()["$<<"](s=l):(s["$[]"](0)["$<<"](l["$[]"](0)["$[]"](0)),s["$[]="](1,l["$[]"](1)));return r})),l(E,"$parse_callout_list",(function(e,t,n,r){var i=this,a=w,l=w,c=w,$=w,_=w,d=w,p=w,h=w;for(a=S("List").$new(n,"colist"),l=1,c=0;o(o($=t)?$:o(_=t=S("CalloutListRx").$match(e.$peek_line()))?e.$mark():_);)u(d=t["$[]"](1),".")&&(d=(c=f(c,1)).$to_s()),u(d,l.$to_s())||i.$logger().$warn(i.$message_with_context("callout list item index: expected "+l+", got "+d,s(["source_location"],{source_location:e.$cursor_at_mark()}))),o(p=i.$parse_list_item(e,a,t,"<1>"))&&(a.$items()["$<<"](p),o((h=r.$callout_ids(a.$items().$size()))["$empty?"]())?i.$logger().$warn(i.$message_with_context("no callout found for <"+a.$items().$size()+">",s(["source_location"],{source_location:e.$cursor_at_mark()}))):p.$attributes()["$[]="]("coids",h)),l=f(l,1),t=w;return r.$next_list(),a})),l(E,"$parse_list_item",(function(e,t,n,r,i){var l,_,f,d,p=this,h=w,m=w,v=w,b=w,y=w,x=w,k=w,E=w,A=w,C=w,O=w,T=w,I=w,R=w,N=w,L=w,z=w,D=w;if(null==i&&(i=w),u(f=t.$context(),"dlist"))h=!0,m=S("ListItem").$new(t,v=n["$[]"](1)),o(v["$start_with?"]("[["))&&o(S("LeadingInlineAnchorRx")["$=~"](v))&&p.$catalog_inline_anchor((l=$["~"])===w?w:l["$[]"](1),o(b=(l=$["~"])===w?w:l["$[]"](2))?b:((l=$["~"])===w?w:l.$post_match()).$lstrip(),m,e),o(y=n["$[]"](3))&&(x=!0),k=S("ListItem").$new(t,y),o(t.$document().$sourcemap())&&(m["$source_location="](e.$cursor()),o(x)?k["$source_location="](m.$source_location()):E=!0);else switch(x=!0,k=S("ListItem").$new(t,y=n["$[]"](2)),o(t.$document().$sourcemap())&&k["$source_location="](e.$cursor()),f){case"ulist":k["$marker="](r),o(y["$start_with?"]("["))&&(o(i)&&u(i,"bibliography")?o(S("InlineBiblioAnchorRx")["$=~"](y))&&p.$catalog_inline_biblio_anchor((l=$["~"])===w?w:l["$[]"](1),(l=$["~"])===w?w:l["$[]"](2),k,e):o(y["$start_with?"]("[["))?o(S("LeadingInlineAnchorRx")["$=~"](y))&&p.$catalog_inline_anchor((l=$["~"])===w?w:l["$[]"](1),(l=$["~"])===w?w:l["$[]"](2),k,e):o(y["$start_with?"]("[ ] ","[x] ","[*] "))&&(t.$set_option("checklist"),k.$attributes()["$[]="]("checkbox",""),o(y["$start_with?"]("[ "))||k.$attributes()["$[]="]("checked",""),k["$text="](y.$slice(4,y.$length()))));break;case"olist":_=p.$resolve_ordered_list_marker(r,A=t.$items().$size(),!0,e),r=null==(l=a(_))[0]?w:l[0],C=null==l[1]?w:l[1],k["$marker="](r),u(A,0)&&c(i)&&t["$style="](o(O=C)?O:(o(T=S("ORDERED_LIST_STYLES")["$[]"](g(r.$length(),1)))?T:"arabic").$to_s()),o(y["$start_with?"]("[["))&&o(S("LeadingInlineAnchorRx")["$=~"](y))&&p.$catalog_inline_anchor((l=$["~"])===w?w:l["$[]"](1),(l=$["~"])===w?w:l["$[]"](2),k,e);break;default:k["$marker="](r),o(y["$start_with?"]("[["))&&o(S("LeadingInlineAnchorRx")["$=~"](y))&&p.$catalog_inline_anchor((l=$["~"])===w?w:l["$[]"](1),(l=$["~"])===w?w:l["$[]"](2),k,e)}if(e.$shift(),d=e.$cursor(),I=S("Reader").$new(p.$read_lines_for_list_item(e,f,r,x),d),o(I["$has_more_lines?"]())){for(o(E)&&k["$source_location="](d),R=I.$skip_line_comments(),o(N=I.$peek_line())&&(o(R["$empty?"]())||I.$unshift_lines(R),o(N["$empty?"]())||(L=!0,o(h)||(x=w))),o(z=p.$next_block(I,k,s([],{}),s(["text_only","list_type"],{text_only:!o(x)||w,list_type:f})))&&k.$blocks()["$<<"](z);o(I["$has_more_lines?"]());)o(z=p.$next_block(I,k,s([],{}),s(["list_type"],{list_type:f})))&&k.$blocks()["$<<"](z);o(L)&&o(D=k.$blocks()["$[]"](0))&&u(D.$context(),"paragraph")&&k.$fold_first()}return o(h)?[[m],o(k["$text?"]())||o(k["$blocks?"]())?k:w]:k}),-5),l(E,"$read_lines_for_list_item",(function(e,t,n,r){var a,l,f=this,d=w,p=w,h=w,m=w,g=w,v=w,b=w,y=w,x=w,k=w,E=w,A=w,C=w,O=w;for(null==n&&(n=w),null==r&&(r=!0),d=[],p="inactive",h=!1,m=w,l=t["$=="]("dlist");o(e["$has_more_lines?"]())&&(g=e.$read_line(),!o(f["$is_sibling_list_item?"](g,t,n)));)if(v=o(d["$empty?"]())?w:d["$[]"](-1),u(v,S("LIST_CONTINUATION"))&&(u(p,"inactive")&&(p="active",r=!0,o(h)||d["$[]="](-1,"")),u(g,S("LIST_CONTINUATION"))))_(p,"frozen")&&(p="frozen",d["$<<"](g)),g=w;else{if(o(b=f["$is_delimited_block?"](g,!0))){if(!u(p,"active"))break;d["$<<"](g),d.$concat(e.$read_lines_until(s(["terminator","read_last_line","context"],{terminator:b.$terminator(),read_last_line:!0,context:w}))),p="inactive"}else if(o(l)&&_(p,"active")&&o(g["$start_with?"]("["))&&o(S("BlockAttributeLineRx")["$match?"](g))){for(y=[g];o(x=e.$peek_line());){if(o(f["$is_delimited_block?"](x)))k=!0;else{if(o(x["$empty?"]())||o(x["$start_with?"]("["))&&o(S("BlockAttributeLineRx")["$match?"](x))){y["$<<"](e.$read_line());continue}o(S("AnyListRx")["$match?"](x))&&c(f["$is_sibling_list_item?"](x,t,n))?d.$concat(y):k=!0}break}if(o(k)){e.$unshift_lines(y);break}}else if(u(p,"active")&&c(g["$empty?"]()))o(S("LiteralParagraphRx")["$match?"](g))?(e.$unshift_line(g),o(l)?d.$concat(i(e,"read_lines_until",[s(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(function e(r){return null==r&&(r=w),(null==e.$$s?this:e.$$s)["$is_sibling_list_item?"](r,t,n)}),{$$s:f})):d.$concat(e.$read_lines_until(s(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),p="inactive"):u(E=g.$chr(),".")&&o(S("BlockTitleRx")["$match?"](g))||u(E,"[")&&o(S("BlockAttributeLineRx")["$match?"](g))||u(E,":")&&o(S("AttributeEntryRx")["$match?"](g))?d["$<<"](g):(o(A=i(o(h)?["dlist"]:S("NESTABLE_LIST_CONTEXTS"),"find",[],(function(e){return null==e&&(e=w),S("ListRxMap")["$[]"](e)["$match?"](g)})))&&(h=!0,u(A,"dlist")&&o(((a=$["~"])===w?w:a["$[]"](3))["$nil_or_empty?"]())&&(r=!1)),d["$<<"](g),p="inactive");else if(o(v)&&o(v["$empty?"]())){if(o(g["$empty?"]())){if(!o(g=o(C=e.$skip_blank_lines())?e.$read_line():C))break;if(o(f["$is_sibling_list_item?"](g,t,n)))break}if(u(g,S("LIST_CONTINUATION")))m=d.$size(),d["$<<"](g);else if(o(r)){if(o(f["$is_sibling_list_item?"](g,t,n)))break;if(o(A=i(S("NESTABLE_LIST_CONTEXTS"),"find",[],(function(e){return null==e&&(e=w),S("ListRxMap")["$[]"](e)["$=~"](g)}))))d["$<<"](g),h=!0,u(A,"dlist")&&o(((a=$["~"])===w?w:a["$[]"](3))["$nil_or_empty?"]())&&(r=!1);else{if(!o(S("LiteralParagraphRx")["$match?"](g)))break;e.$unshift_line(g),o(l)?d.$concat(i(e,"read_lines_until",[s(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(function e(r){return null==r&&(r=w),(null==e.$$s?this:e.$$s)["$is_sibling_list_item?"](r,t,n)}),{$$s:f})):d.$concat(e.$read_lines_until(s(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})))}}else o(h)||d.$pop(),d["$<<"](g),r=!0}else o(g["$empty?"]())||(r=!0),o(A=i(o(h)?["dlist"]:S("NESTABLE_LIST_CONTEXTS"),"find",[],(function(e){return null==e&&(e=w),S("ListRxMap")["$[]"](e)["$=~"](g)})))&&(h=!0,u(A,"dlist")&&o(((a=$["~"])===w?w:a["$[]"](3))["$nil_or_empty?"]())&&(r=!1)),d["$<<"](g);g=w}for(o(g)&&e.$unshift_line(g),o(m)&&d["$[]="](m,"");!o(d["$empty?"]());){if(!o((O=d["$[]"](-1))["$empty?"]())){u(O,S("LIST_CONTINUATION"))&&d.$pop();break}d.$pop()}return d}),-3),l(E,"$initialize_section",(function(e,t,n){var r,l,$,_,f,d,h,m=this,v=w,b=w,y=w,x=w,k=w,E=w,A=w,C=w,O=w,T=w,I=w,R=w;return null==n&&(n=s([],{})),$=(b=(v=t.$document()).$doctype())["$=="]("book"),o(v.$sourcemap())&&(y=e.$cursor()),x=n["$[]"](1),l=m.$parse_section_title(e,v,n["$[]"]("id")),_=null==(r=a(l))[0]?w:r[0],f=null==r[1]?w:r[1],k=null==r[2]?w:r[2],E=null==r[3]?w:r[3],d=null==r[4]?w:r[4],o(x)?o($)&&u(x,"abstract")?(A=(r=["chapter",1])[0],E=r[1]):o(x["$start_with?"]("sect"))&&o(S("SectionLevelStyleRx")["$match?"](x))?A="section":(A=(r=[x,!0])[0],C=r[1],u(E,0)&&(E=1),O=A["$=="]("appendix")):o($)?A=u(E,0)?"part":o(p(E,1))?"section":"chapter":u(b,"manpage")&&u(k.$casecmp("synopsis"),0)?(A=(r=["synopsis",!0])[0],C=r[1]):A="section",o(f)&&n["$[]="]("reftext",f),T=S("Section").$new(t,E),l=[(r=[_,k,A,y])[0]],i(T,"id=",l),l[l.length-1],l=[r[1]],i(T,"title=",l),l[l.length-1],l=[r[2]],i(T,"sectname=",l),l[l.length-1],l=[r[3]],i(T,"source_location=",l),l[l.length-1],o(C)?(T["$special="](!0),o(O)?T["$numbered="](!0):u(v.$attributes()["$[]"]("sectnums"),"all")&&T["$numbered="](!o($)||!u(E,1)||"chapter")):o(v.$attributes()["$[]"]("sectnums"))&&o(p(E,0))?T["$numbered="](!o(T.$special())||o(I=t.$numbered())||I):o($)&&u(E,0)&&o(v.$attributes()["$[]"]("partnums"))&&T["$numbered="](!0),o(h=o(I=T.$id())?I:(r=[o(v.$attributes()["$key?"]("sectids"))?R=S("Section").$generate_id(T.$title(),v):w],i(T,"id=",r),r[r.length-1]))&&(o(R)||c(k["$include?"](S("ATTR_REF_HEAD")))||T.$title(),o(v.$register("refs",[h,T]))||m.$logger().$warn(m.$message_with_context("id assigned to section already in use: "+h,s(["source_location"],{source_location:e.$cursor_at_line(g(e.$lineno(),o(d)?1:2))})))),T.$update_attributes(n),e.$skip_blank_lines(),T}),-3),l(E,"$is_next_line_section?",(function(e,t){var n=w,r=w,i=w;return o(n=t["$[]"](1))&&(u(n,"discrete")||u(n,"float"))?w:o(S("Compliance").$underline_style_section_titles())?(r=e.$peek_lines(2,o(i=n)?n["$=="]("comment"):i),this["$is_section_title?"](o(i=r["$[]"](0))?i:"",r["$[]"](1))):this["$atx_section_title?"](o(i=e.$peek_line())?i:"")})),l(E,"$is_next_line_doctitle?",(function(e,t,n){var r=w,i=w;return o(n)?o(r=i=this["$is_next_line_section?"](e,t))?f(i,n.$to_i())["$=="](0):r:this["$is_next_line_section?"](e,t)["$=="](0)})),l(E,"$is_section_title?",(function(e,t){var n;return null==t&&(t=w),o(n=this["$atx_section_title?"](e))?n:o(t["$nil_or_empty?"]())?w:this["$setext_section_title?"](e,t)}),-2),l(E,"$atx_section_title?",(function(e){var t,n=w;return o(o(S("Compliance").$markdown_syntax())?o(n=e["$start_with?"]("=","#"))?S("ExtAtxSectionTitleRx")["$=~"](e):n:o(n=e["$start_with?"]("="))?S("AtxSectionTitleRx")["$=~"](e):n)?g(((t=$["~"])===w?w:t["$[]"](1)).$length(),1):w})),l(E,"$setext_section_title?",(function(e,t){var n,r,i=w;return o(n=S("SETEXT_SECTION_LEVELS")["$[]"](r=t.$chr()))&&o(this["$uniform?"](t,r,i=t.$length()))&&o(S("SetextSectionTitleRx")["$match?"](e))&&o(d(g(e.$length(),i).$abs(),2))?n:w})),l(E,"$parse_section_title",(function(e,t,n){var r,i,s=w,a=w,l=w,u=w,_=w,p=w,h=w,m=w,v=w;return null==n&&(n=w),s=w,a=e.$read_line(),o(o(S("Compliance").$markdown_syntax())?o(l=a["$start_with?"]("=","#"))?S("ExtAtxSectionTitleRx")["$=~"](a):l:o(l=a["$start_with?"]("="))?S("AtxSectionTitleRx")["$=~"](a):l)?(u=(r=[g(((i=$["~"])===w?w:i["$[]"](1)).$length(),1),(i=$["~"])===w?w:i["$[]"](2),!0])[0],_=r[1],p=r[2],o(n)||o(_["$end_with?"]("]]"))&&o(S("InlineSectionAnchorRx")["$=~"](_))&&c((r=$["~"])===w?w:r["$[]"](1))&&(r=[_.$slice(0,g(_.$length(),((i=$["~"])===w?w:i["$[]"](0)).$length())),(i=$["~"])===w?w:i["$[]"](2),(i=$["~"])===w?w:i["$[]"](3)],_=r[0],n=r[1],s=r[2])):o(S("Compliance").$underline_style_section_titles())&&o(v=e.$peek_line(!0))&&o(u=S("SETEXT_SECTION_LEVELS")["$[]"](m=v.$chr()))&&o(this["$uniform?"](v,m,h=v.$length()))&&o(_=o(l=S("SetextSectionTitleRx")["$=~"](a))?(r=$["~"])===w?w:r["$[]"](1):l)&&o(d(g(a.$length(),h).$abs(),2))?(p=!1,o(n)||o(_["$end_with?"]("]]"))&&o(S("InlineSectionAnchorRx")["$=~"](_))&&c((r=$["~"])===w?w:r["$[]"](1))&&(r=[_.$slice(0,g(_.$length(),((i=$["~"])===w?w:i["$[]"](0)).$length())),(i=$["~"])===w?w:i["$[]"](2),(i=$["~"])===w?w:i["$[]"](3)],_=r[0],n=r[1],s=r[2]),e.$shift()):this.$raise("Unrecognized section at "+e.$cursor_at_prev_line()),o(t["$attr?"]("leveloffset"))&&(u=f(u,t.$attr("leveloffset").$to_i()),o(d(u,0))&&(u=0)),[n,s,_,u,p]}),-3),l(E,"$parse_header_metadata",(function(e,t,n){var r,a,l=this,$=w,d=w,h=w,m=w,g=w,v=w,b=w,y=w,x=w,k=w,E=w,A=w,C=w,O=w,T=w,I=w,R=w,N=w;if(null==t&&(t=w),null==n&&(n=!0),$=o(a=t)?t.$attributes():a,l.$process_attribute_entries(e,t),o(e["$has_more_lines?"]())&&c(e["$next_line_empty?"]())?(d=(h=l.$process_authors(e.$read_line())).$delete("authorcount"),o(t)&&o(p((i($,"[]=",r=["authorcount",d]),r[r.length-1]),0))&&(i(h,"each",[],(function(e,n){var r;return null==e&&(e=w),null==n&&(n=w),o($["$key?"](e))?w:(r=[e,t.$apply_header_subs(n)],i($,"[]=",r),r[r.length-1])})),m=$["$[]"]("author"),g=$["$[]"]("authorinitials"),v=$["$[]"]("authors")),h["$[]="]("authorcount",d),l.$process_attribute_entries(e,t),o(e["$has_more_lines?"]())&&c(e["$next_line_empty?"]())&&(b=e.$read_line(),o(y=S("RevisionInfoLineRx").$match(b))?(x=s([],{}),o(y["$[]"](1))&&x["$[]="]("revnumber",y["$[]"](1).$rstrip()),o((k=y["$[]"](2).$strip())["$empty?"]())||(c(y["$[]"](1))&&o(k["$start_with?"]("v"))?x["$[]="]("revnumber",k.$slice(1,k.$length())):x["$[]="]("revdate",k)),o(y["$[]"](3))&&x["$[]="]("revremark",y["$[]"](3).$rstrip()),o(t)&&c(x["$empty?"]())&&i(x,"each",[],(function(e,n){var r;return null==e&&(e=w),null==n&&(n=w),o($["$key?"](e))?w:(r=[e,t.$apply_header_subs(n)],i($,"[]=",r),r[r.length-1])}))):e.$unshift_line(b)),l.$process_attribute_entries(e,t),e.$skip_blank_lines()):h=s([],{}),o(t)){if(o($["$key?"]("author"))&&_(E=$["$[]"]("author"),m))A=l.$process_authors(E,!0,!1),_($["$[]"]("authorinitials"),g)&&A.$delete("authorinitials");else if(o($["$key?"]("authors"))&&_(E=$["$[]"]("authors"),v))A=l.$process_authors(E,!0);else{for(C=(r=[[],1,"author_1",!1,!1])[0],O=r[1],T=r[2],I=r[3],R=r[4];o($["$key?"](T));)u(N=$["$[]"](T),h["$[]"](T))?(C["$<<"](w),R=!0):(C["$<<"](N),I=!0),T="author_"+(O=f(O,1));o(I)?(o(R)&&i(C,"each_with_index",[],(function(e,t){var n,r;return null==e&&(e=w),null==t&&(t=w),o(e)?w:(n=[t,i([h["$[]"]("firstname_"+(r=f(t,1))),h["$[]"]("middlename_"+r),h["$[]"]("lastname_"+r)].$compact(),"map",[],(function(e){return null==e&&(e=w),e.$tr(" ","_")})).$join(" ")],i(C,"[]=",n),n[n.length-1])})),A=l.$process_authors(C,!0,!1)):A=s(["authorcount"],{authorcount:0})}u(A["$[]"]("authorcount"),0)?o(d)?A=w:$["$[]="]("authorcount",0):($.$update(A),c($["$key?"]("email"))&&o($["$key?"]("email_1"))&&$["$[]="]("email",$["$[]"]("email_1")))}return o(n)?h.$merge(x.$to_h(),A.$to_h()):w}),-2),l(E,"$process_authors",(function(e,t,n){var r=w,a=w;return null==t&&(t=!1),null==n&&(n=!0),r=s([],{}),a=0,i(o(n)&&o(e["$include?"](";"))?e.$split(S("AuthorDelimiterRx")):[].concat(h(e)),"each",[],(function(e){var n,l=w,$=w,_=w,d=w,p=w,h=w,m=w;return null==e&&(e=w),o(e["$empty?"]())?w:(l=s([],{}),u(a=f(a,1),1)?i(S("AuthorKeys"),"each",[],(function(e){var t;return null==e&&(e=w),t=[e.$to_sym(),e],i(l,"[]=",t),t[t.length-1]})):i(S("AuthorKeys"),"each",[],(function(e){var t;return null==e&&(e=w),t=[e.$to_sym(),e+"_"+a],i(l,"[]=",t),t[t.length-1]})),o(t)?(o(e["$include?"]("<"))&&(r["$[]="](l["$[]"]("author"),e.$tr("_"," ")),e=e.$gsub(S("XmlSanitizeRx"),"")),u(($=e.$split(w,3)).$size(),3)&&$["$<<"]($.$pop().$squeeze(" "))):o(_=S("AuthorInfoLineRx").$match(e))&&($=_.$to_a()).$shift(),o($)?(n=[l["$[]"]("firstname"),p=$["$[]"](0).$tr("_"," ")],i(r,"[]=",n),d=n[n.length-1],r["$[]="](l["$[]"]("authorinitials"),p.$chr()),o($["$[]"](1))&&(o($["$[]"](2))?(r["$[]="](l["$[]"]("middlename"),h=$["$[]"](1).$tr("_"," ")),r["$[]="](l["$[]"]("lastname"),m=$["$[]"](2).$tr("_"," ")),d=f(f(f(f(p," "),h)," "),m),r["$[]="](l["$[]"]("authorinitials"),""+p.$chr()+h.$chr()+m.$chr())):(r["$[]="](l["$[]"]("lastname"),m=$["$[]"](1).$tr("_"," ")),d=f(f(p," "),m),r["$[]="](l["$[]"]("authorinitials"),""+p.$chr()+m.$chr()))),o(r["$[]"](l["$[]"]("author")))||r["$[]="](l["$[]"]("author"),d),o(t)||c($["$[]"](3))||r["$[]="](l["$[]"]("email"),$["$[]"](3))):(r["$[]="](l["$[]"]("author"),(n=[l["$[]"]("firstname"),p=e.$squeeze(" ").$strip()],i(r,"[]=",n),n[n.length-1])),r["$[]="](l["$[]"]("authorinitials"),p.$chr())),u(a,1)?(n=["authors",r["$[]"](l["$[]"]("author"))],i(r,"[]=",n),n[n.length-1]):(u(a,2)&&i(S("AuthorKeys"),"each",[],(function(e){var t;return null==e&&(e=w),o(r["$key?"](e))?(t=[e+"_1",r["$[]"](e)],i(r,"[]=",t),t[t.length-1]):w})),n=["authors",r["$[]"]("authors")+", "+r["$[]"](l["$[]"]("author"))],i(r,"[]=",n),n[n.length-1]))})),r["$[]="]("authorcount",a),r}),-2),l(E,"$parse_block_metadata_lines",(function(e,t,n,r){for(null==n&&(n=s([],{})),null==r&&(r=s([],{}));o(this.$parse_block_metadata_line(e,t,n,r))&&(e.$shift(),o(e.$skip_blank_lines())););return n}),-3),l(E,"$parse_block_metadata_line",(function(e,t,n,r){var i,a=this,l=w,_=w,f=w,d=w,p=w,h=w;if(null==$["~"]&&($["~"]=w),null==r&&(r=s([],{})),o(_=e.$peek_line())&&o(o(r["$[]"]("text_only"))?_["$start_with?"]("[","/"):l=_["$start_with?"]("[",".","/",":")))if(o(_["$start_with?"]("["))){if(o(_["$start_with?"]("[["))){if(o(_["$end_with?"]("]]"))&&o(S("BlockAnchorRx")["$=~"](_)))return n["$[]="]("id",(i=$["~"])===w?w:i["$[]"](1)),o(f=(i=$["~"])===w?w:i["$[]"](2))&&n["$[]="]("reftext",o(f["$include?"](S("ATTR_REF_HEAD")))?t.$sub_attributes(f):f),!0}else if(o(_["$end_with?"]("]"))&&o(S("BlockAttributeListRx")["$=~"](_)))return d=n["$[]"](1),o(t.$parse_attributes((i=$["~"])===w?w:i["$[]"](1),[],s(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,into:n}))["$[]"](1))&&n["$[]="](1,o(p=a.$parse_style_attribute(n,e))?p:d),!0}else if(o(l)&&o(_["$start_with?"]("."))){if(o(S("BlockTitleRx")["$=~"](_)))return n["$[]="]("title",(i=$["~"])===w?w:i["$[]"](1)),!0}else if(c(l)||o(_["$start_with?"]("/"))){if(o(_["$start_with?"]("//"))){if(u(_,"//"))return!0;if(o(l)&&o(a["$uniform?"](_,"/",h=_.$length()))){if(!u(h,3))return e.$read_lines_until(s(["terminator","skip_first_line","preserve_last_line","skip_processing","context"],{terminator:_,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"})),!0}else if(!o(_["$start_with?"]("///")))return!0}}else if(o(l)&&o(_["$start_with?"](":"))&&o(S("AttributeEntryRx")["$=~"](_)))return a.$process_attribute_entry(e,t,n,$["~"]),!0;return w}),-4),l(E,"$process_attribute_entries",(function(e,t,n){for(null==n&&(n=w),e.$skip_comment_lines();o(this.$process_attribute_entry(e,t,n));)e.$shift(),e.$skip_comment_lines()}),-3),l(E,"$process_attribute_entry",(function(e,t,n,r){var i,s=w,a=w,l=w,u=w,c=w,$=w;if(null==n&&(n=w),null==r&&(r=w),o(r)||o(r=o(e["$has_more_lines?"]())?S("AttributeEntryRx").$match(e.$peek_line()):w)){if(o((s=r["$[]"](2))["$nil_or_empty?"]()))s="";else if(o(s["$end_with?"](S("LINE_CONTINUATION"),S("LINE_CONTINUATION_LEGACY"))))for(a=(i=[s.$slice(g(s.$length(),2),2),s.$slice(0,g(s.$length(),2)).$rstrip()])[0],s=i[1];o(o(l=e.$advance())?(u=o(c=e.$peek_line())?c:"")["$empty?"]()["$!"]():l)&&(u=u.$lstrip(),o($=u["$end_with?"](a))&&(u=u.$slice(0,g(u.$length(),2)).$rstrip()),s=""+s+(o(s["$end_with?"](S("HARD_LINE_BREAK")))?S("LF"):" ")+u,o($)););return this.$store_attribute(r["$[]"](1),s,t,n),!0}return w}),-3),l(E,"$store_attribute",(function(e,t,n,r){var i=w;return null==n&&(n=w),null==r&&(r=w),o(e["$end_with?"]("!"))?(e=e.$chop(),t=w):o(e["$start_with?"]("!"))&&(e=e.$slice(1,e.$length()),t=w),u(e=this.$sanitize_attribute_name(e),"numbered")?e="sectnums":u(e,"hardbreaks")?e="hardbreaks-option":u(e,"showtitle")&&this.$store_attribute("notitle",o(t)?w:"",n,r),o(n)?o(t)?(u(e,"leveloffset")&&(o(t["$start_with?"]("+"))?t=f(n.$attr("leveloffset",0).$to_i(),t.$slice(1,t.$length()).$to_i()).$to_s():o(t["$start_with?"]("-"))&&(t=g(n.$attr("leveloffset",0).$to_i(),t.$slice(1,t.$length()).$to_i()).$to_s())),o(i=n.$set_attribute(e,t))&&(t=i,o(r)&&x(S("Document"),"AttributeEntry").$new(e,t).$save_to(r))):o(n.$delete_attribute(e))&&o(r)&&x(S("Document"),"AttributeEntry").$new(e,t).$save_to(r):o(r)&&x(S("Document"),"AttributeEntry").$new(e,t).$save_to(r),[e,t]}),-3),l(E,"$resolve_list_marker",(function(e,t,n,r,i){switch(null==n&&(n=0),null==r&&(r=!1),null==i&&(i=w),e){case"ulist":return t;case"olist":return this.$resolve_ordered_list_marker(t,n,r,i)["$[]"](0);default:return"<1>"}}),-3),l(E,"$resolve_ordered_list_marker",(function(e,t,n,r){var a,l=w,u=w;if(null==t&&(t=0),null==n&&(n=!1),null==r&&(r=w),o(e["$start_with?"](".")))return[e];switch(a=i(S("ORDERED_LIST_STYLES"),"find",[],(function(t){return null==t&&(t=w),S("OrderedListMarkerRxMap")["$[]"](t)["$match?"](e)}))){case"arabic":o(n)&&(l=f(t,1),u=e.$to_i()),e="1.";break;case"loweralpha":o(n)&&(l=f("a"["$[]"](0).$ord(),t).$chr(),u=e.$chop()),e="a.";break;case"upperalpha":o(n)&&(l=f("A"["$[]"](0).$ord(),t).$chr(),u=e.$chop()),e="A.";break;case"lowerroman":o(n)&&(l=S("Helpers").$int_to_roman(f(t,1)).$downcase(),u=e.$chop()),e="i)";break;case"upperroman":o(n)&&(l=S("Helpers").$int_to_roman(f(t,1)),u=e.$chop()),e="I)"}return o(n)&&_(l,u)&&this.$logger().$warn(this.$message_with_context("list item index: expected "+l+", got "+u,s(["source_location"],{source_location:r.$cursor()}))),[e,a]}),-2),l(E,"$is_sibling_list_item?",(function(e,t,n){var r,i=w;return m(x("Regexp"),n)?n["$match?"](e):o(i=S("ListRxMap")["$[]"](t)["$=~"](e))?n["$=="](this.$resolve_list_marker(t,(r=$["~"])===w?w:r["$[]"](1))):i})),l(E,"$parse_table",(function(e,t,n){var r,s,l,$,_,d=this,h=w,g=w,v=w,b=w,y=w,k=w,E=w,A=w,C=w,O=w,T=w,I=w,R=w,N=w,L=w,z=w;for(h=S("Table").$new(t,n),o(n["$key?"]("cols"))&&c((g=d.$parse_colspecs(n["$[]"]("cols")))["$empty?"]())&&(h.$create_columns(g),v=!0),$=o(b=e.$skip_blank_lines())?b:0,o(n["$[]"]("header-option"))?h["$has_header_option="](!0):u($,0)&&c(n["$[]"]("noheader-option"))&&(h["$has_header_option="]("implicit"),y=!0),_=(r=[(k=x(S("Table"),"ParserContext").$new(e,h,n)).$format(),-1,w])[0],E=r[1],A=r[2];o(C=e.$read_line());){for(o(O=p(E=f(E,1),0))&&o(C["$empty?"]())?(C=w,o(A)&&(A=f(A,1))):u(_,"psv")&&(o(k["$starts_with_delimiter?"](C))?(C=C.$slice(1,C.$length()),k.$close_open_cell(),o(A)&&(A=w)):(s=d.$parse_cellspec(C,"start",k.$delimiter()),T=null==(r=a(s))[0]?w:r[0],C=null==r[1]?w:r[1],o(T)?(k.$close_open_cell(T),o(A)&&(A=w)):o(A)&&u(A,E)&&h["$has_header_option="](y=A=w))),o(O)||(e.$mark(),o(y)&&(o(e["$has_more_lines?"]())&&o(e.$peek_line()["$empty?"]())?A=1:h["$has_header_option="](y=w))),r=!1;r||o(!0);){if(r=!1,!o(C)||!o(I=k.$match_delimiter(C))){switch(k["$buffer="](""+k.$buffer()+C+S("LF")),_){case"csv":o(k["$buffer_has_unclosed_quotes?"]())?(o(A)&&u(E,0)&&h["$has_header_option="](y=A=w),k.$keep_cell_open()):k.$close_cell(!0);break;case"dsv":k.$close_cell(!0);break;default:k.$keep_cell_open()}break}if(R=(s=[I.$pre_match(),I.$post_match()])[0],N=s[1],m("csv",b=_)){if(o(k["$buffer_has_unclosed_quotes?"](R))){if(k.$skip_past_delimiter(R),o((C=N)["$empty?"]()))break;r=!0;continue}k["$buffer="](""+k.$buffer()+R)}else if(m("dsv",b)){if(o(R["$end_with?"]("\\"))){if(k.$skip_past_escaped_delimiter(R),o((C=N)["$empty?"]())){k["$buffer="](""+k.$buffer()+S("LF")),k.$keep_cell_open();break}r=!0;continue}k["$buffer="](""+k.$buffer()+R)}else{if(o(R["$end_with?"]("\\"))){if(k.$skip_past_escaped_delimiter(R),o((C=N)["$empty?"]())){k["$buffer="](""+k.$buffer()+S("LF")),k.$keep_cell_open();break}r=!0;continue}l=d.$parse_cellspec(R),T=null==(s=a(l))[0]?w:s[0],L=null==s[1]?w:s[1],k.$push_cellspec(T),k["$buffer="](""+k.$buffer()+L)}o((C=N)["$empty?"]())&&(C=w),k.$close_cell()}if(o(k["$cell_open?"]()))o(e["$has_more_lines?"]())||k.$close_cell(!0);else if(!o(b=e.$skip_blank_lines()))break}return u((z=h.$attributes(),o(b=z["$[]"]("colcount"))?b:(r=["colcount",h.$columns().$size()],i(z,"[]=",r),r[r.length-1])),0)||o(v)||h.$assign_column_widths(),o(y)&&h["$has_header_option="](!0),h.$partition_header_footer(n),h})),l(E,"$parse_colspecs",(function(e){var t=w;return o(e["$include?"](" "))&&(e=e.$delete(" ")),u(e,e.$to_i().$to_s())?i(x("Array"),"new",[e.$to_i()],(function(){return s(["width"],{width:1})})):(t=[],i(o(e["$include?"](","))?e.$split(",",-1):e.$split(";",-1),"each",[],(function(e){var n,r,l=w,$=w,_=w,f=w,d=w;return null==e&&(e=w),o(e["$empty?"]())?t["$<<"](s(["width"],{width:1})):o(l=S("ColumnSpecRx").$match(e))?($=s([],{}),o(l["$[]"](2))&&(r=l["$[]"](2).$split("."),_=null==(n=a(r))[0]?w:n[0],f=null==n[1]?w:n[1],c(_["$nil_or_empty?"]())&&o(S("TableCellHorzAlignments")["$key?"](_))&&$["$[]="]("halign",S("TableCellHorzAlignments")["$[]"](_)),c(f["$nil_or_empty?"]())&&o(S("TableCellVertAlignments")["$key?"](f))&&$["$[]="]("valign",S("TableCellVertAlignments")["$[]"](f))),o(d=l["$[]"](3))?$["$[]="]("width",u(d,"~")?-1:d.$to_i()):$["$[]="]("width",1),o(l["$[]"](4))&&o(S("TableCellStyles")["$key?"](l["$[]"](4)))&&$["$[]="]("style",S("TableCellStyles")["$[]"](l["$[]"](4))),o(l["$[]"](1))?i(1,"upto",[l["$[]"](1).$to_i()],(function(){return t["$<<"]($.$merge())})):t["$<<"]($)):w})),t)})),l(E,"$parse_cellspec",(function(e,t,n){var r,i,l=w,$=w,_=w,f=w,d=w,p=w;if(null==t&&(t="end"),null==n&&(n=w),l=(r=[w,""])[0],$=r[1],u(t,"start")){if(!o(e["$include?"](n)))return[w,e];if(i=e.$partition(n),_=null==(r=a(i))[0]?w:r[0],null==r[1]||r[1],$=null==r[2]?w:r[2],!o(l=S("CellSpecStartRx").$match(_)))return[w,e];if(o(l["$[]"](0)["$empty?"]()))return[s([],{}),$]}else{if(!o(l=S("CellSpecEndRx").$match(e)))return[s([],{}),e];if(o(l["$[]"](0).$lstrip()["$empty?"]()))return[s([],{}),e.$rstrip()];$=l.$pre_match()}if(f=s([],{}),o(l["$[]"](1)))switch(i=l["$[]"](1).$split("."),d=null==(r=a(i))[0]?w:r[0],p=null==r[1]?w:r[1],d=o(d["$nil_or_empty?"]())?1:d.$to_i(),p=o(p["$nil_or_empty?"]())?1:p.$to_i(),l["$[]"](2)){case"+":u(d,1)||f["$[]="]("colspan",d),u(p,1)||f["$[]="]("rowspan",p);break;case"*":u(d,1)||f["$[]="]("repeatcol",d)}return o(l["$[]"](3))&&(i=l["$[]"](3).$split("."),d=null==(r=a(i))[0]?w:r[0],p=null==r[1]?w:r[1],c(d["$nil_or_empty?"]())&&o(S("TableCellHorzAlignments")["$key?"](d))&&f["$[]="]("halign",S("TableCellHorzAlignments")["$[]"](d)),c(p["$nil_or_empty?"]())&&o(S("TableCellVertAlignments")["$key?"](p))&&f["$[]="]("valign",S("TableCellVertAlignments")["$[]"](p))),o(l["$[]"](4))&&o(S("TableCellStyles")["$key?"](l["$[]"](4)))&&f["$[]="]("style",S("TableCellStyles")["$[]"](l["$[]"](4))),[f,$]}),-2),l(E,"$parse_style_attribute",(function(e,t){var n,r=w,a=w,l=w,u=w,$=w,_=w;return null==t&&(t=w),o(r=e["$[]"](1))&&c(r["$include?"](" "))&&o(S("Compliance").$shorthand_property_syntax())?(a=w,l="",u=s([],{}),i(r,"each_char",[],(function e(n){var r=null==e.$$s?this:e.$$s;switch(null==n&&(n=w),n){case".":return r.$yield_buffered_attribute(u,a,l,t),l="",a="role";case"#":return r.$yield_buffered_attribute(u,a,l,t),l="",a="id";case"%":return r.$yield_buffered_attribute(u,a,l,t),l="",a="option";default:return l=f(l,n)}}),{$$s:this}),o(a)?(this.$yield_buffered_attribute(u,a,l,t),o($=u["$[]"]("style"))&&e["$[]="]("style",$),o(u["$key?"]("id"))&&e["$[]="]("id",u["$[]"]("id")),o(u["$key?"]("role"))&&e["$[]="]("role",o((_=e["$[]"]("role"))["$nil_or_empty?"]())?u["$[]"]("role").$join(" "):_+" "+u["$[]"]("role").$join(" ")),o(u["$key?"]("option"))&&i(u["$[]"]("option"),"each",[],(function(t){var n;return null==t&&(t=w),i(e,"[]=",n=[t+"-option",""]),n[n.length-1]})),$):(i(e,"[]=",n=["style",r]),n[n.length-1])):(i(e,"[]=",n=["style",r]),n[n.length-1])}),-2),l(E,"$yield_buffered_attribute",(function(e,t,n,r){var a,l=this,c=w;return o(t)?o(n["$empty?"]())?o(r)?l.$logger().$warn(l.$message_with_context("invalid empty "+t+" detected in style attribute",s(["source_location"],{source_location:r.$cursor_at_prev_line()}))):l.$logger().$warn("invalid empty "+t+" detected in style attribute"):u(t,"id")?(o(e["$key?"]("id"))&&(o(r)?l.$logger().$warn(l.$message_with_context("multiple ids detected in style attribute",s(["source_location"],{source_location:r.$cursor_at_prev_line()}))):l.$logger().$warn("multiple ids detected in style attribute")),e["$[]="](t,n)):(o(c=e["$[]"](t))?c:(a=[t,[]],i(e,"[]=",a),a[a.length-1]))["$<<"](n):o(n["$empty?"]())||e["$[]="]("style",n),w})),l(E,"$adjust_indentation!",(function(e,t,n){var r=w,s=w,a=w;return null==t&&(t=0),null==n&&(n=0),o(e["$empty?"]())||(o(p(n,0))&&o(i(e,"any?",[],(function(e){return null==e&&(e=w),e["$include?"](S("TAB"))})))&&(r=v(" ",n),i(e,"map!",[],(function(e){var t=w,s=w,a=w,l=w,c=w;return null==e&&(e=w),o(e["$empty?"]())||o((t=e.$index(S("TAB")))["$nil?"]())||u(t,0)&&(s=0,function(){try{var t=b("break");return i(e,"each_byte",[],(function(e){return null==e&&(e=w),u(e,9)||t.$throw(),s=f(s,1)}))}catch(e){if(e===t)return e.$v;throw e}}(),e=""+v(r,s)+e.$slice(s,e.$length()),!o(e["$include?"](S("TAB"))))?e:(a=0,l=0,c="",i(e,"each_char",[],(function(e){var t=w,i=w;return null==e&&(e=w),u(e,S("TAB"))?u((t=f(l,a))["$%"](n),0)?(a=f(a,g(n,1)),c=f(c,r)):(u(i=g(n,t["$%"](n)),1)||(a=f(a,g(i,1))),c=f(c,v(" ",i))):c=f(c,e),l=f(l,1)})),c)}))),o(d(t,0))||(s=w,function(){try{var t=b("break");return i(e,"each",[],(function(e){var n;return null==e&&(e=w),o(e["$empty?"]())?w:(u(n=g(e.$length(),e.$lstrip().$length()),0)&&(s=w,t.$throw()),o(s)&&o(d(s,n))?w:s=n)}))}catch(e){if(e===t)return e.$v;throw e}}(),u(t,0)?o(s)&&i(e,"map!",[],(function(e){return null==e&&(e=w),o(e["$empty?"]())?e:e.$slice(s,e.$length())})):(a=v(" ",t),o(s)?i(e,"map!",[],(function(e){return null==e&&(e=w),o(e["$empty?"]())?e:f(a,e.$slice(s,e.$length()))})):i(e,"map!",[],(function(e){return null==e&&(e=w),o(e["$empty?"]())?e:f(a,e)}))))),w}),-2),l(E,"$uniform?",(function(e,t,n){return e.$count(t)["$=="](n)})),l(E,"$sanitize_attribute_name",(function(e){return e.$gsub(S("InvalidAttributeNameCharsRx"),"").$downcase()}))}(E[0],0,E)}(y[0],y)},Opal.modules["asciidoctor/path_resolver"]=function(e){var t=e.module,n=e.klass,r=e.const_set,i=e.truthy,o=e.hash2,s=e.def,a=e.eqeq,l=e.alias,u=e.rb_plus,c=e.to_ary,$=e.send,_=e.not,f=e.neqeq,d=e.rb_gt,p=e.gvars,h=[],m=e.nil,g=e.$$$;return e.add_stubs("include,attr_accessor,root?,posixify,expand_path,pwd,start_with?,==,match?,absolute_path?,+,length,descends_from?,slice,to_s,relative_path_from,new,include?,tr,partition_path,each,pop,<<,join_path,[],web_root?,unc?,index,split,delete,[]=,join,raise,!,fetch,warn,logger,empty?,nil_or_empty?,chomp,!=,>,size,extract_uri_prefix,end_with?,gsub,private,=~"),function(h,v){var b=[t(h,"Asciidoctor")].concat(v);return function(t,h,v){var b=n(t,null,"PathResolver"),y=[b].concat(v),w=e.$r(y),x=b.$$prototype;return x.file_separator=x._partition_path_web=x._partition_path_sys=x.working_dir=m,b.$include(w("Logging")),r(y[0],"DOT","."),r(y[0],"DOT_DOT",".."),r(y[0],"DOT_SLASH","./"),r(y[0],"SLASH","/"),r(y[0],"BACKSLASH","\\"),r(y[0],"DOUBLE_SLASH","//"),r(y[0],"URI_CLASSLOADER","uri:classloader:"),r(y[0],"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/),b.$attr_accessor("file_separator"),b.$attr_accessor("working_dir"),s(b,"$initialize",(function(e,t){var n,r,s=this;return null==e&&(e=m),null==t&&(t=m),s.file_separator=i(n=i(r=e)?r:g(g("File"),"ALT_SEPARATOR"))?n:g(g("File"),"SEPARATOR"),s.working_dir=i(t)?i(s["$root?"](t))?s.$posixify(t):g("File").$expand_path(t):g("Dir").$pwd(),s._partition_path_sys=o([],{}),s._partition_path_web=o([],{})}),-1),s(b,"$absolute_path?",(function(e){var t,n=m;return i(t=e["$start_with?"](w("SLASH")))?t:i(n=this.file_separator["$=="](w("BACKSLASH")))?w("WindowsRootRx")["$match?"](e):n})),a(w("RUBY_ENGINE"),"opal")&&a(g("JAVASCRIPT_IO_MODULE"),"xmlhttprequest")?s(b,"$root?",(function(e){var t;return i(t=this["$absolute_path?"](e))?t:e["$start_with?"]("file://","http://","https://")})):a(g("RUBY_ENGINE"),"jruby")?s(b,"$root?",(function(e){var t;return i(t=this["$absolute_path?"](e))?t:e["$start_with?"](w("URI_CLASSLOADER"))})):l(b,"root?","absolute_path?"),s(b,"$unc?",(function(e){return e["$start_with?"](w("DOUBLE_SLASH"))})),s(b,"$web_root?",(function(e){return e["$start_with?"](w("SLASH"))})),s(b,"$descends_from?",(function(e,t){var n=m;return a(t,e)?0:a(t,w("SLASH"))?i(n=e["$start_with?"](w("SLASH")))?1:n:i(n=e["$start_with?"](u(t,w("SLASH"))))?u(t.$length(),1):n})),s(b,"$relative_path",(function(t,n){var r;if(!i(this["$root?"](t)))return t;if(i(r=this["$descends_from?"](t,n)))return t.$slice(r,t.$length());try{return w("Pathname").$new(t).$relative_path_from(w("Pathname").$new(n)).$to_s()}catch(n){if(!e.rescue(n,[w("StandardError")]))throw n;try{return t}finally{e.pop_exception()}}})),s(b,"$posixify",(function(e){return i(e)?a(this.file_separator,w("BACKSLASH"))&&i(e["$include?"](w("BACKSLASH")))?e.$tr(w("BACKSLASH"),w("SLASH")):e:""})),l(b,"posixfy","posixify"),s(b,"$expand_path",(function(e){var t,n,r,o,s=this,l=m;return n=s.$partition_path(e),r=null==(t=c(n))[0]?m:t[0],o=null==t[1]?m:t[1],i(e["$include?"](w("DOT_DOT")))?(l=[],$(r,"each",[],(function(e){return null==e&&(e=m),a(e,w("DOT_DOT"))?l.$pop():l["$<<"](e)})),s.$join_path(l,o)):s.$join_path(r,o)})),s(b,"$partition_path",(function(e,t){var n,r,o=this,s=m,a=m,l=m,c=m;return null==t&&(t=m),i(r=(s=i(t)?o._partition_path_web:o._partition_path_sys)["$[]"](e))?r:(a=o.$posixify(e),i(t)?i(o["$web_root?"](a))?l=w("SLASH"):i(a["$start_with?"](w("DOT_SLASH")))&&(l=w("DOT_SLASH")):i(o["$root?"](a))?l=i(o["$unc?"](a))?w("DOUBLE_SLASH"):i(a["$start_with?"](w("SLASH")))?w("SLASH"):i(a["$start_with?"](w("URI_CLASSLOADER")))?a.$slice(0,w("URI_CLASSLOADER").$length()):a.$slice(0,u(a.$index(w("SLASH")),1)):i(a["$start_with?"](w("DOT_SLASH")))&&(l=w("DOT_SLASH")),(c=(i(l)?a.$slice(l.$length(),a.$length()):a).$split(w("SLASH"))).$delete(w("DOT")),$(s,"[]=",n=[e,[c,l]]),n[n.length-1])}),-2),s(b,"$join_path",(function(e,t){return null==t&&(t=m),i(t)?""+t+e.$join(w("SLASH")):e.$join(w("SLASH"))}),-2),s(b,"$system_path",(function(e,t,n,r){var s,l,p=this,h=m,v=m,b=m,y=m,x=m,k=m,E=m,A=m,S=m,C=m,O=m;if(null==t&&(t=m),null==n&&(n=m),null==r&&(r=o([],{})),i(n)&&(i(p["$root?"](n))||p.$raise(g("SecurityError"),"Jail is not an absolute path: "+n),n=p.$posixify(n)),i(e)){if(i(p["$root?"](e))){if(h=p.$expand_path(e),i(n)&&_(p["$descends_from?"](h,n))){if(i(r.$fetch("recover",!0)))return p.$logger().$warn((i(v=r["$[]"]("target_name"))?v:"path")+" is outside of jail; recovering automatically"),l=p.$partition_path(h),b=null==(s=c(l))[0]?m:s[0],l=p.$partition_path(n),s=c(l),y=null==s[0]?m:s[0],x=null==s[1]?m:s[1],p.$join_path(u(y,b),x);p.$raise(g("SecurityError"),(i(v=r["$[]"]("target_name"))?v:"path")+" "+e+" is outside of jail: "+n+" (disallowed in safe mode)")}return h}l=p.$partition_path(e),b=null==(s=c(l))[0]?m:s[0]}else b=[];if(i(b["$empty?"]())){if(i(t["$nil_or_empty?"]()))return i(v=n)?v:p.working_dir;if(i(p["$root?"](t))){if(!i(n))return p.$expand_path(t);t=p.$posixify(t)}else l=p.$partition_path(t),b=null==(s=c(l))[0]?m:s[0],t=i(v=n)?v:p.working_dir}else i(t["$nil_or_empty?"]())?t=i(v=n)?v:p.working_dir:i(p["$root?"](t))?i(n)&&(t=p.$posixify(t)):t=(i(v=n)?v:p.working_dir).$chomp("/")+"/"+t;return i(n)&&i(k=p["$descends_from?"](t,n)["$!"]())&&a(p.file_separator,w("BACKSLASH"))?(l=p.$partition_path(t),E=null==(s=c(l))[0]?m:s[0],A=null==s[1]?m:s[1],l=p.$partition_path(n),s=c(l),y=null==s[0]?m:s[0],x=null==s[1]?m:s[1],f(A,x)&&(i(r.$fetch("recover",!0))?(p.$logger().$warn("start path for "+(i(v=r["$[]"]("target_name"))?v:"path")+" is outside of jail root; recovering automatically"),E=y,k=!1):p.$raise(g("SecurityError"),"start path for "+(i(v=r["$[]"]("target_name"))?v:"path")+" "+t+" refers to location outside jail root: "+n+" (disallowed in safe mode)"))):(l=p.$partition_path(t),E=null==(s=c(l))[0]?m:s[0],x=null==s[1]?m:s[1]),i((S=u(E,b))["$include?"](w("DOT_DOT")))&&(C=(s=[S,[]])[0],S=s[1],i(n)?(i(y)||(l=p.$partition_path(n),s=c(l),y=null==s[0]?m:s[0]),O=!1,$(C,"each",[],(function t(o){var s=null==t.$$s?this:t.$$s;return null==o&&(o=m),a(o,w("DOT_DOT"))?i(d(S.$size(),y.$size()))?S.$pop():i(r.$fetch("recover",!0))?i(O)?m:(s.$logger().$warn((i(v=r["$[]"]("target_name"))?v:"path")+" has illegal reference to ancestor of jail; recovering automatically"),O=!0):s.$raise(g("SecurityError"),(i(v=r["$[]"]("target_name"))?v:"path")+" "+e+" refers to location outside jail: "+n+" (disallowed in safe mode)"):S["$<<"](o)}),{$$s:p})):$(C,"each",[],(function(e){return null==e&&(e=m),a(e,w("DOT_DOT"))?S.$pop():S["$<<"](e)}))),i(k)?(h=p.$join_path(S,x),i(p["$descends_from?"](h,n))?h:i(r.$fetch("recover",!0))?(p.$logger().$warn((i(v=r["$[]"]("target_name"))?v:"path")+" is outside of jail; recovering automatically"),i(y)||(l=p.$partition_path(n),s=c(l),y=null==s[0]?m:s[0]),p.$join_path(u(y,b),x)):p.$raise(g("SecurityError"),(i(v=r["$[]"]("target_name"))?v:"path")+" "+e+" is outside of jail: "+n+" (disallowed in safe mode)")):p.$join_path(S,x)}),-2),s(b,"$web_path",(function(e,t){var n,r,o,s,l=this,u=m,_=m,d=m;return null==t&&(t=m),e=l.$posixify(e),t=l.$posixify(t),i(t["$nil_or_empty?"]())||i(l["$web_root?"](e))||(r=l.$extract_uri_prefix(""+t+(i(t["$end_with?"](w("SLASH")))?"":w("SLASH"))+e),e=null==(n=c(r))[0]?m:n[0],u=null==n[1]?m:n[1]),r=l.$partition_path(e,!0),o=null==(n=c(r))[0]?m:n[0],s=null==n[1]?m:n[1],_=[],$(o,"each",[],(function(e){return null==e&&(e=m),a(e,w("DOT_DOT"))?i(_["$empty?"]())?i(s)&&f(s,w("DOT_SLASH"))?m:_["$<<"](e):a(_["$[]"](-1),w("DOT_DOT"))?_["$<<"](e):_.$pop():_["$<<"](e)})),i((d=l.$join_path(_,s))["$include?"](" "))&&(d=d.$gsub(" ","%20")),i(u)?""+u+d:d}),-2),b.$private(),s(b,"$extract_uri_prefix",(function(e){var t;return i(e["$include?"](":"))&&i(w("UriSniffRx")["$=~"](e))?[e.$slice(((t=p["~"])===m?m:t["$[]"](0)).$length(),e.$length()),(t=p["~"])===m?m:t["$[]"](0)]:e}))}(b[0],0,b)}(h[0],h)},Opal.modules["asciidoctor/reader"]=function(e){var t=e.module,n=e.klass,r=e.def,i=e.rb_plus,o=e.alias,s=e.hash2,a=e.not,l=e.eqeqeq,u=e.to_ary,c=e.truthy,$=e.rb_gt,_=e.send,f=e.rb_minus,d=e.thrower,p=e.eqeq,h=e.rb_times,m=e.neqeq,g=e.to_a,v=e.assign_ivar_val,b=e.send2,y=e.find_super,w=e.rb_ge,x=e.gvars,k=e.rb_lt,E=e.hash,A=[],S=e.nil,C=e.$$$;return e.add_stubs("include,attr_reader,+,line_info,attr_accessor,!,===,split,file,dir,dirname,path,basename,lineno,reverse,prepare_lines,empty?,nil_or_empty?,peek_line,[],>,slice,length,process_line,times,shift,read_line,<<,-,unshift_all,has_more_lines?,read_lines,join,unshift,unshift_line,unshift_lines,replace_next_line,start_with?,==,*,read_lines_until,size,clear,cursor,[]=,fetch,!=,cursor_at_mark,warn,logger,message_with_context,pop,push,respond_to?,reverse_each,new,tap,each,instance_variables,instance_variable_get,drop,instance_variable_set,class,object_id,inspect,private,prepare_source_array,prepare_source_string,chomp,valid_encoding?,to_s,raise,to_i,attributes,catalog,pop_include,parse,path=,dup,end_with?,keys,rindex,rootname,key?,attr,reverse!,>=,exceeds_max_depth?,nil?,include_processors?,extensions,extensions?,include_processors,map,skip_front_matter!,adjust_indentation!,include?,=~,preprocess_conditional_directive,preprocess_include_directive,downcase,error,none?,any?,all?,strip,send,resolve_expr_val,rstrip,sub_attributes,attribute_missing,info,parse_attributes,find,handles?,instance,process_method,safe,resolve_include_path,method,split_delimited_value,partition,<,to_a,uniq,sort,call,each_line,infinite?,push_include,delete,first,values,value?,create_include_cursor,delete_at,keep_if,read,uriish?,attr?,require_library,normalize_system_path,file?,relative_path,path_resolver,base_dir,to_f"),function(A,O){var T=[t(A,"Asciidoctor")].concat(O),I=e.$r(T);return function(t,b,y){var w=n(t,null,"Reader"),x=[w].concat(y),k=e.$r(x),E=w.$$prototype;E.file=E.lines=E.look_ahead=E.unescape_next_line=E.lineno=E.process_lines=E.dir=E.path=E.mark=E.source_lines=E.saved=S,w.$include(k("Logging")),function(e,t){var s=n(e,null,"Cursor"),a=s.$$prototype;a.lineno=a.path=S,s.$attr_reader("file","dir","path","lineno"),r(s,"$initialize",(function(e,t,n,r){var i,o=this;return null==t&&(t=S),null==n&&(n=S),null==r&&(r=1),i=[e,t,n,r],o.file=i[0],o.dir=i[1],o.path=i[2],o.lineno=i[3],i}),-2),r(s,"$advance",(function(e){return this.lineno=i(this.lineno,e)})),r(s,"$line_info",(function(){return this.path+": line "+this.lineno})),o(s,"to_s","line_info")}(x[0]),w.$attr_reader("file"),w.$attr_reader("dir"),w.$attr_reader("path"),w.$attr_reader("lineno"),w.$attr_reader("source_lines"),w.$attr_accessor("process_lines"),w.$attr_accessor("unterminated"),r(w,"$initialize",(function(e,t,n){var r,i,o=this,$=S;return null==e&&(e=S),null==t&&(t=S),null==n&&(n=s([],{})),a(t)?(o.file=S,o.dir=".",o.path="<stdin>",o.lineno=1):l(C("String"),t)?(o.file=t,i=C("File").$split(o.file),r=u(i),o.dir=null==r[0]?S:r[0],o.path=null==r[1]?S:r[1],o.lineno=1):(c(o.file=t.$file())?(o.dir=c($=t.$dir())?$:C("File").$dirname(o.file),o.path=c($=t.$path())?$:C("File").$basename(o.file)):(o.dir=c($=t.$dir())?$:".",o.path=c($=t.$path())?$:"<stdin>"),o.lineno=c($=t.$lineno())?$:1),o.lines=(o.source_lines=o.$prepare_lines(e,n)).$reverse(),o.mark=S,o.look_ahead=0,o.process_lines=!0,o.unescape_next_line=!1,o.unterminated=S,o.saved=S}),-1),r(w,"$has_more_lines?",(function(){return!c(this.lines["$empty?"]())||(this.look_ahead=0,!1)})),r(w,"$empty?",(function(){return!!c(this.lines["$empty?"]())&&(this.look_ahead=0,!0)})),o(w,"eof?","empty?"),r(w,"$next_line_empty?",(function(){return this.$peek_line()["$nil_or_empty?"]()})),r(w,"$peek_line",(function(e){var t=this,n=S,r=S;for(null==e&&(e=!1);c(!0);){if(n=t.lines["$[]"](-1),c(e)||c($(t.look_ahead,0)))return c(t.unescape_next_line)?n.$slice(1,n.$length()):n;if(!c(n))return t.look_ahead=0,S;if(c(r=t.$process_line(n)))return r}}),-1),r(w,"$peek_lines",(function(e,t){var n,r=this,i=S,o=S;return null==e&&(e=S),null==t&&(t=!1),n=r.look_ahead,i=[],function(){try{var n=d("break");return _(c(o=e)?o:k("MAX_INT"),"times",[],(function e(){var r,o=null==e.$$s?this:e.$$s;if(null==o.lineno&&(o.lineno=S),c(r=c(t)?o.$shift():o.$read_line()))return i["$<<"](r);c(t)&&(o.lineno=f(o.lineno,1)),n.$throw()}),{$$s:r})}catch(e){if(e===n)return e.$v;throw e}}(),c(i["$empty?"]())||(r.$unshift_all(i),c(t)&&(r.look_ahead=n)),i}),-1),r(w,"$read_line",(function(){var e=this;return c($(e.look_ahead,0))||c(e["$has_more_lines?"]())?e.$shift():S})),r(w,"$read_lines",(function(){var e=S;for(e=[];c(this["$has_more_lines?"]());)e["$<<"](this.$shift());return e})),o(w,"readlines","read_lines"),r(w,"$read",(function(){return this.$read_lines().$join(k("LF"))})),r(w,"$advance",(function(){return!!c(this.$shift())})),r(w,"$unshift_line",(function(e){return this.$unshift(e),S})),o(w,"restore_line","unshift_line"),r(w,"$unshift_lines",(function(e){return this.$unshift_all(e)})),o(w,"restore_lines","unshift_lines"),r(w,"$replace_next_line",(function(e){return this.$shift(),this.$unshift(e),!0})),o(w,"replace_line","replace_next_line"),r(w,"$skip_blank_lines",(function(){var e=this,t=S,n=S;if(c(e["$empty?"]()))return S;for(t=0;c(n=e.$peek_line());){if(!c(n["$empty?"]()))return t;e.$shift(),t=i(t,1)}})),r(w,"$skip_comment_lines",(function(){var e=this,t=S,n=S,r=S;if(c(e["$empty?"]()))return S;for(;c(c(t=n=e.$peek_line())?n["$empty?"]()["$!"]():t)&&c(n["$start_with?"]("//"));)if(c(n["$start_with?"]("///"))){if(!c($(r=n.$length(),3))||!p(n,h("/",r)))break;e.$read_lines_until(s(["terminator","skip_first_line","read_last_line","skip_processing","context"],{terminator:n,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}))}else e.$shift();return S})),r(w,"$skip_line_comments",(function(){var e=this,t=S,n=S,r=S;if(c(e["$empty?"]()))return[];for(t=[];c(c(n=r=e.$peek_line())?r["$empty?"]()["$!"]():n)&&c(r["$start_with?"]("//"));)t["$<<"](e.$shift());return t})),r(w,"$terminate",(function(){var e=this;return e.lineno=i(e.lineno,e.lines.$size()),e.lines.$clear(),e.look_ahead=0,S})),r(w,"$read_lines_until",(function t(n){var r,i,o,l=t.$$p||S,u=this,$=S,d=S,h=S,g=S,v=S,b=S,y=S,w=S,x=S,E=S,A=S,C=S,O=S,T=S;for(t.$$p=null,null==n&&(n=s([],{})),$=[],c(u.process_lines)&&c(n["$[]"]("skip_processing"))&&(u.process_lines=!1,d=!0),c(i=n["$[]"]("terminator"))?(h=c(g=n["$[]"]("cursor"))?g:u.$cursor(),v=!1,b=!1):(v=n["$[]"]("break_on_blank_lines"),b=n["$[]"]("break_on_list_continuation")),o=n["$[]"]("skip_line_comments"),y=w=S,c(n["$[]"]("skip_first_line"))&&u.$shift();c(x=u.$read_line());){if(c(c(i)?x["$=="](i):c(g=c(E=c(A=v)?x["$empty?"]():A)?E:c(A=c(C=c(O=b)?y:O)?x["$=="](k("LIST_CONTINUATION")):C)?(_(n,"[]=",r=["preserve_last_line",!0]),r[r.length-1]):A)?g:c(E=l!==S)?e.yield1(l,x):E)){c(n["$[]"]("read_last_line"))&&$["$<<"](x),c(n["$[]"]("preserve_last_line"))&&(u.$unshift(x),w=!0);break}c(o)&&c(x["$start_with?"]("//"))&&a(x["$start_with?"]("///"))||($["$<<"](x),y=!0)}return c(d)&&(u.process_lines=!0,c(w)&&a(i)&&(u.look_ahead=f(u.look_ahead,1))),c(i)&&m(i,x)&&c(T=n.$fetch("context",i))&&(p(h,"at_mark")&&(h=u.$cursor_at_mark()),u.$logger().$warn(u.$message_with_context("unterminated "+T+" block",s(["source_location"],{source_location:h}))),u.unterminated=!0),$}),-1),r(w,"$shift",(function(){var e=this;return e.lineno=i(e.lineno,1),p(e.look_ahead,0)||(e.look_ahead=f(e.look_ahead,1)),e.lines.$pop()})),r(w,"$unshift",(function(e){var t=this;return t.lineno=f(t.lineno,1),t.look_ahead=i(t.look_ahead,1),t.lines.$push(e),S})),p(C("RUBY_ENGINE"),"jruby")?r(w,"$unshift_all",(function(e){var t=this;return t.lineno=f(t.lineno,e.$size()),t.look_ahead=i(t.look_ahead,e.$size()),c(e["$respond_to?"]("reverse"))?_(t.lines,"push",g(e.$reverse())):_(e,"reverse_each",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==n.lines&&(n.lines=S),null==t&&(t=S),n.lines.$push(t)}),{$$s:t}),S})):r(w,"$unshift_all",(function(e){var t=this;return t.lineno=f(t.lineno,e.$size()),t.look_ahead=i(t.look_ahead,e.$size()),_(t.lines,"push",g(e.$reverse())),S})),r(w,"$cursor",(function(){var e=this;return k("Cursor").$new(e.file,e.dir,e.path,e.lineno)})),r(w,"$cursor_at_line",(function(e){var t=this;return k("Cursor").$new(t.file,t.dir,t.path,e)})),r(w,"$cursor_at_mark",(function(){var e=this;return c(e.mark)?_(k("Cursor"),"new",g(e.mark)):e.$cursor()})),r(w,"$cursor_before_mark",(function(){var e,t,n=this,r=S,i=S,o=S,s=S;return c(n.mark)?(t=n.mark,r=null==(e=u(t))[0]?S:e[0],i=null==e[1]?S:e[1],o=null==e[2]?S:e[2],s=null==e[3]?S:e[3],k("Cursor").$new(r,i,o,f(s,1))):k("Cursor").$new(n.file,n.dir,n.path,f(n.lineno,1))})),r(w,"$cursor_at_prev_line",(function(){var e=this;return k("Cursor").$new(e.file,e.dir,e.path,f(e.lineno,1))})),r(w,"$mark",(function(){var e=this;return e.mark=[e.file,e.dir,e.path,e.lineno]})),r(w,"$line_info",(function(){return this.path+": line "+this.lineno})),r(w,"$lines",(function(){return this.lines.$reverse()})),r(w,"$string",(function(){return this.lines.$reverse().$join(k("LF"))})),r(w,"$source",(function(){return this.source_lines.$join(k("LF"))})),r(w,"$save",(function(){return this.saved=_(s([],{}),"tap",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==t&&(t=S),_(n.$instance_variables(),"each",[],(function e(n){var r,i=null==e.$$s?this:e.$$s,o=S;return null==n&&(n=S),p(n,"@saved")||p(n,"@source_lines")?S:(r=[n,l(C("Array"),o=i.$instance_variable_get(n))?o.$drop(0):o],_(t,"[]=",r),r[r.length-1])}),{$$s:n})}),{$$s:this}),S})),r(w,"$restore_save",(function(){var e=this;return c(e.saved)?(_(e.saved,"each",[],(function e(t,n){return null==t&&(t=S),null==n&&(n=S),(null==e.$$s?this:e.$$s).$instance_variable_set(t,n)}),{$$s:e}),e.saved=S):S})),r(w,"$discard_save",v("saved",S)),r(w,"$to_s",(function(){var e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {path: "+e.path.$inspect()+", line: "+e.lineno+"}>"})),w.$private(),r(w,"$prepare_lines",(function(t,n){var r=S;null==n&&(n=s([],{}));try{return c(r=n["$[]"]("normalize"))?l(C("Array"),t)?k("Helpers").$prepare_source_array(t,r["$!="]("chomp")):k("Helpers").$prepare_source_string(t,r["$!="]("chomp")):l(C("Array"),t)?t.$drop(0):c(t)?t.$chomp().$split(k("LF"),-1):[]}catch(n){if(!e.rescue(n,[k("StandardError")]))throw n;try{return c((l(C("Array"),t)?t.$join():t.$to_s())["$valid_encoding?"]())?this.$raise():this.$raise(C("ArgumentError"),"source is either binary or contains invalid Unicode data")}finally{e.pop_exception()}}}),-2),r(w,"$process_line",(function(e){var t=this;return c(t.process_lines)&&(t.look_ahead=i(t.look_ahead,1)),e}))}(T[0],0,T),function(t,h,v){var A=n(t,h,"PreprocessorReader"),O=[A].concat(v),T=e.$r(O),I=A.$$prototype;return I.include_stack=I.lines=I.file=I.dir=I.path=I.lineno=I.maxdepth=I.process_lines=I.includes=I.document=I.unescape_next_line=I.include_processor_extensions=I.look_ahead=I.skipping=I.conditional_stack=S,A.$attr_reader("include_stack"),r(A,"$initialize",(function e(t,n,r,i){var o,a,l=this;return e.$$p=null,null==n&&(n=S),null==r&&(r=S),null==i&&(i=s([],{})),l.document=t,b(l,y(l,"initialize",e,!1,!0),"initialize",[n,r,i],null),c($(o=(c(a=t.$attributes()["$[]"]("max-include-depth"))?a:64).$to_i(),0))?l.maxdepth=s(["abs","curr","rel"],{abs:o,curr:o,rel:o}):l.maxdepth=S,l.include_stack=[],l.includes=t.$catalog()["$[]"]("includes"),l.skipping=!1,l.conditional_stack=[],l.include_processor_extensions=S}),-2),r(A,"$has_more_lines?",(function(){return!!c(this.$peek_line())})),r(A,"$empty?",(function(){return!c(this.$peek_line())})),o(A,"eof?","empty?"),r(A,"$peek_line",(function e(t){var n,r=e.$$p||S,i=this;return e.$$p=null,null==t&&(t=!1),c(n=b(i,y(i,"peek_line",e,!1,!0),"peek_line",[t],r))?n:c(i.include_stack["$empty?"]())?S:(i.$pop_include(),i.$peek_line(t))}),-1),r(A,"$push_include",(function(e,t,n,r,o){var a=this,u=S,d=S,h=S,m=S,v=S,b=S;return null==t&&(t=S),null==n&&(n=S),null==r&&(r=1),null==o&&(o=s([],{})),a.include_stack["$<<"]([a.lines,a.file,a.dir,a.path,a.lineno,a.maxdepth,a.process_lines]),c(a.file=t)?(l(C("String"),t)?a.dir=C("File").$dirname(t):c(T("RUBY_ENGINE_OPAL"))?a.dir=C("URI").$parse(C("File").$dirname(t=t.$to_s())):((a.dir=t.$dup())["$path="](p(u=C("File").$dirname(t.$path()),"/")?"":u),t=t.$to_s()),a.path=n=c(d=n)?d:C("File").$basename(t),c(a.process_lines=_(t,"end_with?",g(T("ASCIIDOC_EXTENSIONS").$keys())))&&(c(d=a.includes["$[]"](n.$slice(0,n.$rindex("."))))||a.includes["$[]="](n.$slice(0,n.$rindex(".")),!c(o["$[]"]("partial-option"))||S))):(a.dir=".",a.process_lines=!0,c(a.path=n)?c(d=a.includes["$[]"](T("Helpers").$rootname(n)))||a.includes["$[]="](T("Helpers").$rootname(n),!c(o["$[]"]("partial-option"))||S):a.path="<stdin>"),a.lineno=r,c(a.maxdepth)&&c(o["$key?"]("depth"))&&(c($(h=o["$[]"]("depth").$to_i(),0))?(c($(m=i(a.include_stack.$size(),h),v=a.maxdepth["$[]"]("abs")))&&(m=h=v),a.maxdepth=s(["abs","curr","rel"],{abs:v,curr:m,rel:h})):a.maxdepth=s(["abs","curr","rel"],{abs:a.maxdepth["$[]"]("abs"),curr:a.include_stack.$size(),rel:0})),c((a.lines=a.$prepare_lines(e,s(["normalize","condense","indent"],{normalize:c(d=a.process_lines)?d:"chomp",condense:!1,indent:o["$[]"]("indent")})))["$empty?"]())?a.$pop_include():(c(o["$key?"]("leveloffset"))?(a.lines=i(i([c(b=a.document.$attr("leveloffset"))?":leveloffset: "+b:":leveloffset!:",""],a.lines.$reverse()),["",":leveloffset: "+o["$[]"]("leveloffset")]),a.lineno=f(a.lineno,2)):a.lines["$reverse!"](),a.look_ahead=0),a}),-2),r(A,"$include_depth",(function(){return this.include_stack.$size()})),r(A,"$exceeds_max_depth?",(function(){var e,t,n=this;return c(e=c(t=n.maxdepth)?w(n.include_stack.$size(),n.maxdepth["$[]"]("curr")):t)?n.maxdepth["$[]"]("rel"):e})),o(A,"exceeded_max_depth?","exceeds_max_depth?"),r(A,"$shift",(function e(){var t=e.$$p||S,n=this,r=S;return e.$$p=null,c(n.unescape_next_line)?(n.unescape_next_line=!1,(r=b(n,y(n,"shift",e,!1,!0),"shift",[],t)).$slice(1,r.$length())):b(n,y(n,"shift",e,!1,!0),"shift",[],t)})),r(A,"$include_processors?",(function(){var e=this;return c(e.include_processor_extensions["$nil?"]())?c(e.document["$extensions?"]())&&c(e.document.$extensions()["$include_processors?"]())?(e.include_processor_extensions=e.document.$extensions().$include_processors())["$!"]()["$!"]():e.include_processor_extensions=!1:e.include_processor_extensions["$!="](!1)})),r(A,"$create_include_cursor",(function(e,t,n){var r=S;return l(C("String"),e)?r=C("File").$dirname(e):c(T("RUBY_ENGINE_OPAL"))?r=C("File").$dirname(e=e.$to_s()):(r=p(r=C("File").$dirname(e.$path()),"")?"/":r,e=e.$to_s()),T("Cursor").$new(e,r,t,n)})),r(A,"$to_s",(function(){var e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {path: "+e.path.$inspect()+", line: "+e.lineno+", include depth: "+e.include_stack.$size()+", include stack: ["+_(e.include_stack,"map",[],(function(e){return null==e&&(e=S),e.$to_s()})).$join(", ")+"]}>"})),A.$private(),r(A,"$prepare_lines",(function e(t,n){var r=e.$$p||S,i=this,o=S,a=S,l=S,u=S;if(e.$$p=null,null==n&&(n=s([],{})),o=b(i,y(i,"prepare_lines",e,!1,!0),"prepare_lines",[t,n],r),c(i.document)&&c(i.document.$attributes()["$[]"]("skip-front-matter"))&&c(a=i["$skip_front_matter!"](o))&&i.document.$attributes()["$[]="]("front-matter",a.$join(T("LF"))),c(n.$fetch("condense",!0)))for(;c(c(l=u=o["$[]"](-1))?u["$empty?"]():l);)o.$pop();return c(n["$[]"]("indent"))&&T("Parser")["$adjust_indentation!"](o,n["$[]"]("indent").$to_i(),i.document.$attr("tabsize").$to_i()),o}),-2),r(A,"$process_line",(function(e){var t,n=this;return c(n.process_lines)?c(e["$empty?"]())?(n.look_ahead=i(n.look_ahead,1),e):c(e["$end_with?"]("]"))&&a(e["$start_with?"]("["))&&c(e["$include?"]("::"))?c(e["$include?"]("if"))&&c(T("ConditionalDirectiveRx")["$=~"](e))?p((t=x["~"])===S?S:t["$[]"](1),"\\")?(n.unescape_next_line=!0,n.look_ahead=i(n.look_ahead,1),e.$slice(1,e.$length())):c(n.$preprocess_conditional_directive((t=x["~"])===S?S:t["$[]"](2),(t=x["~"])===S?S:t["$[]"](3),(t=x["~"])===S?S:t["$[]"](4),(t=x["~"])===S?S:t["$[]"](5)))?(n.$shift(),S):(n.look_ahead=i(n.look_ahead,1),e):c(n.skipping)?(n.$shift(),S):c(e["$start_with?"]("inc","\\inc"))&&c(T("IncludeDirectiveRx")["$=~"](e))?p((t=x["~"])===S?S:t["$[]"](1),"\\")?(n.unescape_next_line=!0,n.look_ahead=i(n.look_ahead,1),e.$slice(1,e.$length())):c(n.$preprocess_include_directive((t=x["~"])===S?S:t["$[]"](2),(t=x["~"])===S?S:t["$[]"](3)))?S:(n.look_ahead=i(n.look_ahead,1),e):(n.look_ahead=i(n.look_ahead,1),e):c(n.skipping)?(n.$shift(),S):(n.look_ahead=i(n.look_ahead,1),e):e})),r(A,"$preprocess_conditional_directive",(function(t,n,r,i){var o,l,u=this,$=S,d=S,h=S,m=S,g=S;if(c(l=n["$empty?"]())||(n=n.$downcase()),p(t,"endif"))return c(i)?u.$logger().$error(u.$message_with_context("malformed preprocessor directive - text not permitted: endif::"+n+"["+i+"]",s(["source_location"],{source_location:u.$cursor()}))):c(u.conditional_stack["$empty?"]())?u.$logger().$error(u.$message_with_context("unmatched preprocessor directive: endif::"+n+"[]",s(["source_location"],{source_location:u.$cursor()}))):c(l)||p(n,($=u.conditional_stack["$[]"](-1))["$[]"]("target"))?(u.conditional_stack.$pop(),u.skipping=!c(u.conditional_stack["$empty?"]())&&u.conditional_stack["$[]"](-1)["$[]"]("skipping")):u.$logger().$error(u.$message_with_context("mismatched preprocessor directive: endif::"+n+"[], expected endif::"+$["$[]"]("target")+"[]",s(["source_location"],{source_location:u.$cursor()}))),!0;if(c(u.skipping))d=!1;else switch(t){case"ifdef":if(c(l))return u.$logger().$error(u.$message_with_context("malformed preprocessor directive - missing target: ifdef::["+i+"]",s(["source_location"],{source_location:u.$cursor()}))),!0;switch(r){case",":d=_(n.$split(",",-1),"none?",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==n.document&&(n.document=S),null==t&&(t=S),n.document.$attributes()["$key?"](t)}),{$$s:u});break;case"+":d=_(n.$split("+",-1),"any?",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==n.document&&(n.document=S),null==t&&(t=S),n.document.$attributes()["$key?"](t)["$!"]()}),{$$s:u});break;default:d=u.document.$attributes()["$key?"](n)["$!"]()}break;case"ifndef":if(c(l))return u.$logger().$error(u.$message_with_context("malformed preprocessor directive - missing target: ifndef::["+i+"]",s(["source_location"],{source_location:u.$cursor()}))),!0;switch(r){case",":d=_(n.$split(",",-1),"any?",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==n.document&&(n.document=S),null==t&&(t=S),n.document.$attributes()["$key?"](t)}),{$$s:u});break;case"+":d=_(n.$split("+",-1),"all?",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==n.document&&(n.document=S),null==t&&(t=S),n.document.$attributes()["$key?"](t)}),{$$s:u});break;default:d=u.document.$attributes()["$key?"](n)}break;case"ifeval":if(!c(l))return u.$logger().$error(u.$message_with_context("malformed preprocessor directive - target not permitted: ifeval::"+n+"["+i+"]",s(["source_location"],{source_location:u.$cursor()}))),!0;if(!c(i)||!c(T("EvalExpressionRx")["$=~"](i.$strip())))return u.$logger().$error(u.$message_with_context("malformed preprocessor directive - "+(c(i)?"invalid expression":"missing expression")+": ifeval::["+i+"]",s(["source_location"],{source_location:u.$cursor()}))),!0;h=(o=x["~"])===S?S:o["$[]"](1),m=(o=x["~"])===S?S:o["$[]"](2),g=(o=x["~"])===S?S:o["$[]"](3),d=function(){try{return!c(u.$resolve_expr_val(h).$send(m,u.$resolve_expr_val(g)))}catch(t){if(!e.rescue(t,[T("StandardError")]))throw t;try{return!0}finally{e.pop_exception()}}}()}return p(t,"ifeval")||a(i)?(c(d)&&(u.skipping=!0),u.conditional_stack["$<<"](s(["target","skip","skipping"],{target:n,skip:d,skipping:u.skipping}))):c(u.skipping)||c(d)||(u.$replace_next_line(i.$rstrip()),u.$unshift(""),c(i["$start_with?"]("include::"))&&(u.look_ahead=f(u.look_ahead,1))),!0})),r(A,"$preprocess_include_directive",(function(t,n){var r,o,h=this,g=S,v=S,b=S,y=S,A=S,O=S,I=S,R=S,N=S,L=S,z=S,D=S,F=S,M=S,q=S,B=S,j=S,P=S,U=S,H=S,Y=S,G=S,W=S,K=S,V=S,X=S,J=S;if(g=h.document,c((v=t)["$include?"](T("ATTR_REF_HEAD")))&&c((v=g.$sub_attributes(t,s(["attribute_missing"],{attribute_missing:p(b=c(y=g.$attributes()["$[]"]("attribute-missing"))?y:T("Compliance").$attribute_missing(),"warn")?"drop-line":b})))["$empty?"]()))return p(b,"drop-line")&&c(g.$sub_attributes(i(t," "),s(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?(_(h.$logger(),"info",[],(function e(){var r=null==e.$$s?this:e.$$s;return r.$message_with_context("include dropped due to missing attribute: include::"+t+"["+n+"]",s(["source_location"],{source_location:r.$cursor()}))}),{$$s:h}),h.$shift(),!0):c(g.$parse_attributes(n,[],s(["sub_input"],{sub_input:!0}))["$[]"]("optional-option"))?(_(h.$logger(),"info",[],(function e(){var r=null==e.$$s?this:e.$$s;return r.$message_with_context("optional include dropped "+(p(b,"warn")&&c(g.$sub_attributes(i(t," "),s(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?"due to missing attribute":"because resolved target is blank")+": include::"+t+"["+n+"]",s(["source_location"],{source_location:r.$cursor()}))}),{$$s:h}),h.$shift(),!0):(h.$logger().$warn(h.$message_with_context("include dropped "+(p(b,"warn")&&c(g.$sub_attributes(i(t," "),s(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?"due to missing attribute":"because resolved target is blank")+": include::"+t+"["+n+"]",s(["source_location"],{source_location:h.$cursor()}))),h.$replace_next_line("Unresolved directive in "+h.path+" - include::"+t+"["+n+"]"));if(c(h["$include_processors?"]())&&c(A=_(h.include_processor_extensions,"find",[],(function(e){return null==e&&(e=S),e.$instance()["$handles?"](v)}))))return h.$shift(),A.$process_method()["$[]"](g,h,v,g.$parse_attributes(n,[],s(["sub_input"],{sub_input:!0}))),!0;if(c(w(g.$safe(),C(T("SafeMode"),"SECURE"))))return h.$replace_next_line("link:"+v+"[role=include]");if(c(h.maxdepth)){if(c(w(h.include_stack.$size(),h.maxdepth["$[]"]("curr"))))return h.$logger().$error(h.$message_with_context("maximum include depth of "+h.maxdepth["$[]"]("rel")+" exceeded",s(["source_location"],{source_location:h.$cursor()}))),S;switch(O=g.$parse_attributes(n,[],s(["sub_input"],{sub_input:!0})),o=h.$resolve_include_path(v,n,O),r=u(o),I=null==r[0]?S:r[0],R=null==r[1]?S:r[1],N=null==r[2]?S:r[2],R){case"file":L=C("File").$method("open"),z=T("FILE_READ_MODE");break;case"uri":L=C("OpenURI").$method("open_uri"),z=T("URI_READ_MODE");break;default:return I}if(c(T("RUBY_ENGINE_OPAL"))||c(D=O["$[]"]("encoding"))&&c(function(){try{return C("Encoding").$find(D)}catch(t){if(!e.rescue(t,[T("StandardError")]))throw t;try{return S}finally{e.pop_exception()}}}())&&((F=z.$split(":"))["$[]="](1,D),z=F.$join(":")),M=q=S,c(n)&&(c(O["$key?"]("lines"))?(M=[],_(h.$split_delimited_value(O["$[]"]("lines")),"each",[],(function(t){var n,r,o=S,s=S;return null==t&&(t=S),c(t["$include?"](".."))?(r=t.$partition(".."),o=null==(n=u(r))[0]?S:n[0],null==n[1]||n[1],s=null==n[2]?S:n[2],M=i(M,c(s["$empty?"]())||c(k(s=s.$to_i(),0))?[o.$to_i(),C(C("Float"),"INFINITY")]:e.Range.$new(o.$to_i(),s,!1).$to_a())):M["$<<"](t.$to_i())})),M=c(M["$empty?"]())?S:M.$sort().$uniq()):c(O["$key?"]("tag"))?c((B=O["$[]"]("tag"))["$empty?"]())||p(B,"!")||(q=c(B["$start_with?"]("!"))?E(B.$slice(1,B.$length()),!1):E(B,!0)):c(O["$key?"]("tags"))&&(q=s([],{}),_(h.$split_delimited_value(O["$[]"]("tags")),"each",[],(function(e){var t;return null==e&&(e=S),c(e["$empty?"]())||p(e,"!")?S:c(e["$start_with?"]("!"))?(t=[e.$slice(1,e.$length()),!1],_(q,"[]=",t),t[t.length-1]):(_(q,"[]=",t=[e,!0]),t[t.length-1])})),c(q["$empty?"]())&&(q=S))),c(M)){j=(r=[[],S,0])[0],P=r[1],U=r[2];try{_(L,"call",[I,z],(function(e){var t=S;return null==e&&(e=S),t=S,function(){try{var n=d("break");return _(e,"each_line",[],(function(e){var r=S;return null==e&&(e=S),U=i(U,1),c(t)||l(C("Float"),r=M["$[]"](0))&&c(t=r["$infinite?"]())?(P=c(y=P)?y:U,j["$<<"](e)):(p(r,U)&&(P=c(y=P)?y:U,j["$<<"](e),M.$shift()),c(M["$empty?"]())?void n.$throw():S)}))}catch(e){if(e===n)return e.$v;throw e}}()}))}catch(t){if(!e.rescue(t,[T("StandardError")]))throw t;try{return h.$logger().$error(h.$message_with_context("include "+R+" not readable: "+I,s(["source_location"],{source_location:h.$cursor()}))),h.$replace_next_line("Unresolved directive in "+h.path+" - include::"+v+"["+n+"]")}finally{e.pop_exception()}}h.$shift(),c(P)&&(O["$[]="]("partial-option",""),h.$push_include(j,I,N,P,O))}else if(c(q)){r=[[],S,0,[],C("Set").$new(),S],j=r[0],P=r[1],U=r[2],H=r[3],Y=r[4],G=r[5],c(q["$key?"]("**"))?(W=K=q.$delete("**"),c(q["$key?"]("*"))?V=q.$delete("*"):a(W)&&p(q.$values().$first(),!1)&&(V=!0)):c(q["$key?"]("*"))?p(q.$keys().$first(),"*")?W=K=(V=q.$delete("*"))["$!"]():(W=K=!1,V=q.$delete("*")):W=K=q["$value?"](!0)["$!"]();try{_(L,"call",[I,z],(function e(t){var n,r,o;return null==t&&(t=S),r=(n=["::","[]"])[0],o=n[1],_(t,"each_line",[],(function e(t){var n,l,$=null==e.$$s?this:e.$$s,f=S,d=S,h=S;return null==t&&(t=S),U=i(U,1),c(t["$include?"](r))&&c(t["$include?"](o))&&c(T("TagDirectiveRx")["$=~"](t))?(f=(n=x["~"])===S?S:n["$[]"](2),c((n=x["~"])===S?S:n["$[]"](1))?p(f,G)?(H.$pop(),l=c(H["$empty?"]())?[S,K]:H["$[]"](-1),n=u(l),G=null==n[0]?S:n[0],W=null==n[1]?S:n[1],l):c(q["$key?"](f))?(d=$.$create_include_cursor(I,v,U),c(h=_(H,"rindex",[],(function(e){return null==e&&(e=S),e["$=="](f)}),{$$has_trailing_comma_in_args:!0}))?(p(h,0)?H.$shift():H.$delete_at(h),$.$logger().$warn($.$message_with_context("mismatched end tag (expected '"+G+"' but found '"+f+"') at line "+U+" of include "+R+": "+I,s(["source_location","include_location"],{source_location:$.$cursor(),include_location:d})))):$.$logger().$warn($.$message_with_context("unexpected end tag '"+f+"' at line "+U+" of include "+R+": "+I,s(["source_location","include_location"],{source_location:$.$cursor(),include_location:d})))):S:c(q["$key?"](f))?(c(W=q["$[]"](f))&&Y["$<<"](f),H["$<<"]([G=f,W,U])):a(V["$nil?"]())?(W=(!c(G)||!a(W))&&V,H["$<<"]([G=f,W,U])):S):c(W)?(P=c(y=P)?y:U,j["$<<"](t)):S}),{$$s:null==e.$$s?this:e.$$s})}),{$$s:h})}catch(t){if(!e.rescue(t,[T("StandardError")]))throw t;try{return h.$logger().$error(h.$message_with_context("include "+R+" not readable: "+I,s(["source_location"],{source_location:h.$cursor()}))),h.$replace_next_line("Unresolved directive in "+h.path+" - include::"+v+"["+n+"]")}finally{e.pop_exception()}}c(H["$empty?"]())||_(H,"each",[],(function e(t,n,r){var i=null==e.$$s?this:e.$$s;return null==t&&(t=S),null==n&&(n=S),null==r&&(r=S),i.$logger().$warn(i.$message_with_context("detected unclosed tag '"+t+"' starting at line "+r+" of include "+R+": "+I,s(["source_location","include_location"],{source_location:i.$cursor(),include_location:i.$create_include_cursor(I,v,r)})))}),{$$s:h}),c((X=f(_(q,"keep_if",[],(function(e,t){return null==e&&(e=S),null==t&&(t=S),t})).$keys(),Y.$to_a()))["$empty?"]())||h.$logger().$warn(h.$message_with_context("tag"+(c($(X.$size(),1))?"s":"")+" '"+X.$join(", ")+"' not found in include "+R+": "+I,s(["source_location"],{source_location:h.$cursor()}))),h.$shift(),c(P)&&(c(K)&&m(V,!1)&&c(q["$empty?"]())||O["$[]="]("partial-option",""),h.$push_include(j,I,N,P,O))}else{J=S;try{J=_(L,"call",[I,z],(function(e){return null==e&&(e=S),e.$read()})),h.$shift()}catch(t){if(!e.rescue(t,[T("StandardError")]))throw t;try{return h.$logger().$error(h.$message_with_context("include "+R+" not readable: "+I,s(["source_location"],{source_location:h.$cursor()}))),h.$replace_next_line("Unresolved directive in "+h.path+" - include::"+v+"["+n+"]")}finally{e.pop_exception()}}h.$push_include(J,I,N,1,O)}return!0}return S})),r(A,"$resolve_include_path",(function(e,t,n){var r,i=this,o=S,u=S,$=S;return o=i.document,c(T("Helpers")["$uriish?"](e))||c(l(C("String"),i.dir)?S:e=i.dir+"/"+e)?c(o["$attr?"]("allow-uri-read"))?(c(o["$attr?"]("cache-uri"))?c((r=C("::","OpenURI","skip_raise"))&&C(r,"Cache","skip_raise")?"constant":S)||T("Helpers").$require_library("open-uri/cached","open-uri-cached"):a(T("RUBY_ENGINE_OPAL"))&&C("OpenURI"),[C("URI").$parse(e),"uri",e]):i.$replace_next_line("link:"+e+"[role=include]"):(u=o.$normalize_system_path(e,i.dir,S,s(["target_name"],{target_name:"include file"})),c(C("File")["$file?"](u))?($=o.$path_resolver().$relative_path(u,o.$base_dir()),[u,"file",$]):c(n["$[]"]("optional-option"))?(_(i.$logger(),"info",[],(function e(){var t=null==e.$$s?this:e.$$s;return t.$message_with_context("optional include dropped because include file not found: "+u,s(["source_location"],{source_location:t.$cursor()}))}),{$$s:i}),i.$shift(),!0):(i.$logger().$error(i.$message_with_context("include file not found: "+u,s(["source_location"],{source_location:i.$cursor()}))),i.$replace_next_line("Unresolved directive in "+i.path+" - include::"+e+"["+t+"]")))})),r(A,"$pop_include",(function(){var e,t,n=this;return c(n.include_stack["$empty?"]())||(t=n.include_stack.$pop(),e=u(t),n.lines=null==e[0]?S:e[0],n.file=null==e[1]?S:e[1],n.dir=null==e[2]?S:e[2],n.path=null==e[3]?S:e[3],n.lineno=null==e[4]?S:e[4],n.maxdepth=null==e[5]?S:e[5],n.process_lines=null==e[6]?S:e[6],n.look_ahead=0),S})),r(A,"$split_delimited_value",(function(e){return c(e["$include?"](","))?e.$split(","):e.$split(";")})),r(A,"$skip_front_matter!",(function(e,t){var n,r=this,o=S,s=S,a=S,l=S;if(null==t&&(t=!0),!p(n=e["$[]"](0),"---"))return S;for(o=e.$drop(0),e.$shift(),s=[],c(t)&&(r.lineno=i(r.lineno,1));!c(c(a=l=e["$empty?"]())?a:e["$[]"](0)["$=="](n));)s["$<<"](e.$shift()),c(t)&&(r.lineno=i(r.lineno,1));return c(l)?(_(e,"unshift",g(o)),c(t)&&(r.lineno=f(r.lineno,o.$size())),S):(e.$shift(),c(t)&&(r.lineno=i(r.lineno,1)),s)}),-2),r(A,"$resolve_expr_val",(function(e){var t=S;return c(e["$start_with?"]('"'))&&c(e["$end_with?"]('"'))||c(e["$start_with?"]("'"))&&c(e["$end_with?"]("'"))?(t=!0,e=e.$slice(1,f(e.$length(),1))):t=!1,c(e["$include?"](T("ATTR_REF_HEAD")))&&(e=this.document.$sub_attributes(e,s(["attribute_missing"],{attribute_missing:"drop"}))),c(t)?e:c(e["$empty?"]())?S:!!p(e,"true")||!p(e,"false")&&(c(e.$rstrip()["$empty?"]())?" ":c(e["$include?"]("."))?e.$to_f():e.$to_i())}))}(T[0],I("Reader"),T)}(A[0],A)},Opal.modules["asciidoctor/section"]=function(e){var t=e.module,n=e.klass,r=e.hash2,i=e.send2,o=e.find_super,s=e.eqeqeq,a=e.truthy,l=e.rb_plus,u=e.def,c=e.alias,$=e.rb_gt,_=e.eqeq,f=e.not,d=e.send,p=e.defs,h=[],m=e.nil;return e.add_stubs("attr_accessor,attr_reader,===,+,level,special,title,generate_id,>,==,sectnum,!,empty?,reftext,sub_placeholder,sub_quotes,compat_mode,[],attributes,context,assign_numeral,class,object_id,inspect,size,[]=,chr,length,gsub,downcase,delete,tr_s,end_with?,chop,start_with?,slice,key?,catalog,unique_id_start_index"),function(h,g){var v=[t(h,"Asciidoctor")].concat(g),b=e.$r(v);return function(t,h,g){var v=n(t,h,"Section"),b=[v].concat(g),y=e.$r(b),w=v.$$prototype;return w.document=w.next_section_index=w.parent=w.level=w.numeral=w.numbered=w.sectname=w.title=w.blocks=m,v.$attr_accessor("index"),v.$attr_accessor("sectname"),v.$attr_accessor("special"),v.$attr_accessor("numbered"),v.$attr_reader("caption"),u(v,"$initialize",(function e(t,n,u,c){var $,_=this,f=m;return e.$$p=null,null==t&&(t=m),null==n&&(n=m),null==u&&(u=!1),null==c&&(c=r([],{})),i(_,o(_,"initialize",e,!1,!0),"initialize",[t,"section",c],null),s(y("Section"),t)?($=[a(f=n)?f:l(t.$level(),1),t.$special()],_.level=$[0],_.special=$[1]):($=[a(f=n)?f:1,!1],_.level=$[0],_.special=$[1]),_.numbered=u,_.index=0}),-1),c(v,"name","title"),u(v,"$generate_id",(function(){return y("Section").$generate_id(this.$title(),this.document)})),u(v,"$sections?",(function(){return $(this.next_section_index,0)})),u(v,"$sectnum",(function(e,t){var n,r=this;return null==e&&(e="."),null==t&&(t=m),t=a(n=t)?n:_(t,!1)?"":e,a($(r.level,1))&&s(y("Section"),r.parent)?""+r.parent.$sectnum(e,e)+r.numeral+t:""+r.numeral+t}),-1),u(v,"$xreftext",(function(e){var t=this,n=m,r=m,i=m,o=m;if(null==e&&(e=m),a(n=t.$reftext())&&f(n["$empty?"]()))return n;if(!a(e))return t.$title();if(!a(t.numbered))return _(r=t.sectname,"chapter")||_(r,"appendix")?t.$sub_placeholder(t.$sub_quotes("_%s_"),t.$title()):t.$title();switch(e){case"full":return i=_(r=t.sectname,"chapter")||_(r,"appendix")?t.$sub_placeholder(t.$sub_quotes("_%s_"),t.$title()):t.$sub_placeholder(t.$sub_quotes(a(t.document.$compat_mode())?"``%s''":'"`%s`"'),t.$title()),a(o=t.document.$attributes()["$[]"](r+"-refsig"))?o+" "+t.$sectnum(".",",")+" "+i:t.$sectnum(".",",")+" "+i;case"short":return a(o=t.document.$attributes()["$[]"](t.sectname+"-refsig"))?o+" "+t.$sectnum(".",""):t.$sectnum(".","");default:return _(r=t.sectname,"chapter")||_(r,"appendix")?t.$sub_placeholder(t.$sub_quotes("_%s_"),t.$title()):t.$title()}}),-1),u(v,"$<<",(function e(t){var n=e.$$p||m,r=this;return e.$$p=null,_(t.$context(),"section")&&r.$assign_numeral(t),i(r,o(r,"<<",e,!1,!0),"<<",[t],n)})),u(v,"$to_s",(function e(){var t=e.$$p||m,n=this,r=m;return e.$$p=null,a(n.title)?(r=a(n.numbered)?n.$sectnum()+" "+n.title:n.title,"#<"+n.$class()+"@"+n.$object_id()+" {level: "+n.level+", title: "+r.$inspect()+", blocks: "+n.blocks.$size()+"}>"):i(n,o(n,"to_s",e,!1,!0),"to_s",[],t)})),p(v,"$generate_id",(function(e,t){var n,r,i=m,o=m,s=m,u=m,c=m,$=m,p=m,h=m,g=m;if(i=t.$attributes(),o=a(r=i["$[]"]("idprefix"))?r:"_",a(s=i["$[]"]("idseparator"))?(_(s.$length(),1)||f(u=s["$empty?"]())&&a((n=["idseparator",s.$chr()],d(i,"[]=",n),s=n[n.length-1])))&&(c=_(s,"-")||_(s,".")?" .-":" "+s+".-"):(s=(n=["_"," _.-"])[0],c=n[1]),$=""+o+e.$downcase().$gsub(y("InvalidSectionIdCharsRx"),""),a(u)?$=$.$delete(" "):($=$.$tr_s(c,s),a($["$end_with?"](s))&&($=$.$chop()),a(o["$empty?"]())&&a($["$start_with?"](s))&&($=$.$slice(1,$.$length()))),a(t.$catalog()["$[]"]("refs")["$key?"]($))){for(p=t.$catalog()["$[]"]("refs"),h=y("Compliance").$unique_id_start_index();a(p["$[]"](g=""+$+s+h));)h=l(h,1);return g}return $}))}(v[0],b("AbstractBlock"),v)}(h[0],h)},Opal.modules["asciidoctor/stylesheets"]=function(e){var t=e.module,n=e.klass,r=e.const_set,i=e.return_ivar,o=e.defs,s=e.def,a=e.truthy,l=e.hash2,u=[],c=e.nil,$=e.$$$;return e.add_stubs("join,new,rstrip,read,primary_stylesheet_data,write,primary_stylesheet_name,stylesheet_basename,for,read_stylesheet,coderay_stylesheet_data,coderay_stylesheet_name,pygments_stylesheet_data,pygments_stylesheet_name"),function(u,_){var f=[t(u,"Asciidoctor")].concat(_);return function(t,u,_){var f=n(t,null,"Stylesheets"),d=[f].concat(_),p=e.$r(d);return f.$$prototype.primary_stylesheet_data=c,r(d[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),r(d[0],"STYLESHEETS_DIR",$("File").$join(p("DATA_DIR"),"stylesheets")),f.__instance__=f.$new(),o(f,"$instance",i("__instance__")),s(f,"$primary_stylesheet_name",(function(){return p("DEFAULT_STYLESHEET_NAME")})),s(f,"$primary_stylesheet_data",(function(){var e;return this.primary_stylesheet_data=a(e=this.primary_stylesheet_data)?e:$("File").$read($("File").$join(p("STYLESHEETS_DIR"),"asciidoctor-default.css"),l(["mode"],{mode:p("FILE_READ_MODE")})).$rstrip()})),s(f,"$embed_primary_stylesheet",(function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"})),s(f,"$write_primary_stylesheet",(function(e){return null==e&&(e="."),$("File").$write($("File").$join(e,this.$primary_stylesheet_name()),this.$primary_stylesheet_data(),l(["mode"],{mode:p("FILE_WRITE_MODE")}))}),-1),s(f,"$coderay_stylesheet_name",(function(){return p("SyntaxHighlighter").$for("coderay").$stylesheet_basename()})),s(f,"$coderay_stylesheet_data",(function(){return p("SyntaxHighlighter").$for("coderay").$read_stylesheet()})),s(f,"$embed_coderay_stylesheet",(function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"})),s(f,"$write_coderay_stylesheet",(function(e){return null==e&&(e="."),$("File").$write($("File").$join(e,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data(),l(["mode"],{mode:p("FILE_WRITE_MODE")}))}),-1),s(f,"$pygments_stylesheet_name",(function(e){return null==e&&(e=c),p("SyntaxHighlighter").$for("pygments").$stylesheet_basename(e)}),-1),s(f,"$pygments_stylesheet_data",(function(e){return null==e&&(e=c),p("SyntaxHighlighter").$for("pygments").$read_stylesheet(e)}),-1),s(f,"$embed_pygments_stylesheet",(function(e){return null==e&&(e=c),"<style>\n"+this.$pygments_stylesheet_data(e)+"\n</style>"}),-1),s(f,"$write_pygments_stylesheet",(function(e,t){return null==e&&(e="."),null==t&&(t=c),$("File").$write($("File").$join(e,this.$pygments_stylesheet_name(t)),this.$pygments_stylesheet_data(t),l(["mode"],{mode:p("FILE_WRITE_MODE")}))}),-1)}(f[0],0,f)}(u[0],u)},Opal.modules["asciidoctor/table"]=function(e){var t=e.module,n=e.klass,r=e.const_set,i=e.def,o=e.alias,s=e.hash2,a=e.send2,l=e.find_super,u=e.truthy,c=e.rb_lt,$=e.rb_gt,_=e.eqeq,f=e.rb_times,d=e.rb_divide,p=e.send,h=e.rb_plus,m=e.rb_minus,g=e.return_val,v=e.to_a,b=e.gvars,y=e.neqeq,w=e.return_ivar,x=e.to_ary,k=e.regexp,E=e.not,A=e.thrower,S=[],C=e.nil,O=e.$$$;return e.add_stubs("attr_accessor,send,attr_reader,new,[],<,>,to_i,==,[]=,attributes,truncate,*,/,to_f,empty?,body,each,<<,size,+,assign_column_widths,warn,logger,-,update_attributes,assign_width,round,head=,map,shift,reinitialize,nil?,unshift,foot=,pop,parent,sourcemap,dup,header_row?,table,style,merge,delete,start_with?,rstrip,slice,length,advance,lstrip,strip,split,include?,readlines,catalog_inline_anchor,=~,apply_subs,attr_writer,convert,text,!=,file,lineno,include,to_set,mark,key?,nested?,document,error,message_with_context,cursor_at_prev_line,nil_or_empty?,escape,columns,match,chop,end_with?,gsub,!,push_cellspec,cell_open?,close_cell,take_cellspec,squeeze,upto,times,cursor_before_mark,rowspan,activate_rowspan,colspan,end_of_row?,close_row,private,rows,effective_column_visits"),function(S,T){var I=[t(S,"Asciidoctor")].concat(T),R=e.$r(I);return function(t,g,v){var b=n(t,g,"Table"),y=[b].concat(v),w=e.$r(y),x=b.$$prototype;x.attributes=x.document=x.rows=x.has_header_option=x.columns=C,r(y[0],"DEFAULT_PRECISION",4),function(e,t){var r=n(e,null,"Rows"),a=r.$$prototype;a.head=a.body=a.foot=C,r.$attr_accessor("head","foot","body"),i(r,"$initialize",(function(e,t,n){var r=this;return null==e&&(e=[]),null==t&&(t=[]),null==n&&(n=[]),r.head=e,r.foot=t,r.body=n}),-1),o(r,"[]","send"),i(r,"$by_section",(function(){var e=this;return[["head",e.head],["body",e.body],["foot",e.foot]]})),i(r,"$to_h",(function(){var e=this;return s(["head","body","foot"],{head:e.head,body:e.body,foot:e.foot})}))}(y[0]),b.$attr_accessor("columns"),b.$attr_accessor("rows"),b.$attr_accessor("has_header_option"),b.$attr_reader("caption"),i(b,"$initialize",(function e(t,n){var r,i=this,o=C,s=C,h=C;return e.$$p=null,a(i,l(i,"initialize",e,!1,!0),"initialize",[t,"table"],null),i.rows=w("Rows").$new(),i.columns=[],i.has_header_option=!1,u(o=n["$[]"]("width"))?(u($(s=o.$to_i(),100))||u(c(s,1)))&&(_(s,0)&&(_(o,"0")||_(o,"0%"))||(s=100)):s=100,i.attributes["$[]="]("tablepcwidth",s),u(i.document.$attributes()["$[]"]("pagewidth"))&&i.attributes["$[]="]("tableabswidth",_(h=f(d(s,100),i.document.$attributes()["$[]"]("pagewidth").$to_f()).$truncate(w("DEFAULT_PRECISION")),h.$to_i())?h.$to_i():h),u(n["$[]"]("rotate-option"))?(r=["orientation","landscape"],p(i.attributes,"[]=",r),r[r.length-1]):C})),i(b,"$header_row?",(function(){var e;return u(e=this.has_header_option)&&u(this.rows.$body()["$empty?"]())?e:C})),i(b,"$create_columns",(function(e){var t,n=this,r=C,i=C,o=C;return r=[],i=C,o=0,p(e,"each",[],(function e(t){var n,s=null==e.$$s?this:e.$$s,a=C;return null==t&&(t=C),n=t["$[]"]("width"),r["$<<"](w("Column").$new(s,r.$size(),t)),u(c(n,0))?(i=u(a=i)?a:[])["$<<"](r["$[]"](-1)):o=h(o,n)}),{$$s:n}),u($(t=(n.columns=r).$size(),0))&&(n.attributes["$[]="]("colcount",t),u($(o,0))||u(i)||(o=C),n.$assign_column_widths(o,i)),C})),i(b,"$assign_column_widths",(function(e,t){var n,r=this,i=C,o=C,a=C,l=C;return null==e&&(e=C),null==t&&(t=C),n=w("DEFAULT_PRECISION"),i=o=0,u(e)?(u(t)&&(u($(e,100))?(a=0,r.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+e+"%")):(a=d(m(100,e),t.$size()).$truncate(n),_(a.$to_i(),a)&&(a=a.$to_i()),e=100),l=s(["width","autowidth-option"],{width:a,"autowidth-option":""}),p(t,"each",[],(function(e){return null==e&&(e=C),e.$update_attributes(l)}))),p(r.columns,"each",[],(function(t){return null==t&&(t=C),i=h(i,o=t.$assign_width(C,e,n))}))):(o=d(100,r.columns.$size()).$truncate(n),_(o.$to_i(),o)&&(o=o.$to_i()),p(r.columns,"each",[],(function(e){return null==e&&(e=C),i=h(i,e.$assign_width(o,C,n))}))),_(i,100)||r.columns["$[]"](-1).$assign_width(h(m(100,i),o).$round(n),C,n),C}),-1),i(b,"$partition_header_footer",(function(e){var t,n=this,r=C,i=C;return t=["rowcount",(i=n.rows.$body()).$size()],p(n.attributes,"[]=",t),u($(r=t[t.length-1],0))&&(u(n.has_header_option)?(n.rows["$head="]([p(i.$shift(),"map",[],(function(e){return null==e&&(e=C),e.$reinitialize(!0)}))]),r=m(r,1)):u(n.has_header_option["$nil?"]())&&(n.has_header_option=!1,i.$unshift(p(i.$shift(),"map",[],(function(e){return null==e&&(e=C),e.$reinitialize(!1)}))))),u($(r,0))&&u(e["$[]"]("footer-option"))&&n.rows["$foot="]([i.$pop()]),C}))}(I[0],R("AbstractBlock"),I),function(e,t){var r=n(e,t,"Column");r.$$prototype.attributes=C,r.$attr_accessor("style"),i(r,"$initialize",(function e(t,n,r){var i=this;return e.$$p=null,null==r&&(r=s([],{})),a(i,l(i,"initialize",e,!1,!0),"initialize",[t,"table_column"],null),i.style=r["$[]"]("style"),r["$[]="]("colnumber",h(n,1)),u(r["$[]"]("width"))||r["$[]="]("width",1),u(r["$[]"]("halign"))||r["$[]="]("halign","left"),u(r["$[]"]("valign"))||r["$[]="]("valign","top"),i.$update_attributes(r)}),-3),o(r,"table","parent"),i(r,"$assign_width",(function(e,t,n){var r,i=this,o=C;return u(t)&&(e=d(f(i.attributes["$[]"]("width").$to_f(),100),t).$truncate(n),_(e.$to_i(),e)&&(e=e.$to_i())),u(i.$parent().$attributes()["$[]"]("tableabswidth"))&&i.attributes["$[]="]("colabswidth",_(o=f(d(e,100),i.$parent().$attributes()["$[]"]("tableabswidth")).$truncate(n),o.$to_i())?o.$to_i():o),r=["colpcwidth",e],p(i.attributes,"[]=",r),r[r.length-1]})),i(r,"$block?",g(!1)),i(r,"$inline?",g(!1))}(R("Table"),R("AbstractNode")),function(t,$,d){var m=n(t,$,"Cell"),g=[m].concat(d),x=e.$r(g),k=m.$$prototype;k.document=k.reinitialize_args=k.attributes=k.cursor=k.text=k.subs=k.style=k.inner_document=k.source_location=k.colspan=k.rowspan=C,r(g[0],"DOUBLE_LF",f(x("LF"),2)),m.$attr_accessor("colspan"),m.$attr_accessor("rowspan"),o(m,"column","parent"),m.$attr_reader("inner_document"),i(m,"$initialize",(function e(t,n,r,i){var o,$=this,f=C,d=C,m=C,g=C,b=C,y=C,w=C,k=C,E=C,A=C,S=C,O=C,T=C;if(e.$$p=null,null==r&&(r=s([],{})),null==i&&(i=s([],{})),a($,l($,"initialize",e,!1,!0),"initialize",[t,"table_cell"],null),$.cursor=$.reinitialize_args=C,u($.document.$sourcemap())&&($.source_location=i["$[]"]("cursor").$dup()),u(t)&&(u(f=t.$table()["$header_row?"]())?_(f,"implicit")&&u(d=u(m=t.$style())?m:u(g=r)?r["$[]"]("style"):g)&&((_(d,"asciidoc")||_(d,"literal"))&&($.reinitialize_args=[t,n,u(m=r)?r.$merge():m,i]),d=C):d=t.$style(),$.$update_attributes(t.$attributes())),u(r))switch(u(r["$empty?"]())?$.colspan=$.rowspan=C:(o=[r.$delete("colspan"),r.$delete("rowspan")],$.colspan=o[0],$.rowspan=o[1],u(f)||(d=u(m=r["$[]"]("style"))?m:d),$.$update_attributes(r)),d){case"asciidoc":if(b=!0,y=i["$[]"]("cursor"),u((n=n.$rstrip())["$start_with?"](x("LF")))){for(w=1;u((n=n.$slice(1,n.$length()))["$start_with?"](x("LF")));)w=h(w,1);y.$advance(w)}else n=n.$lstrip();break;case"literal":for(k=!0,n=n.$rstrip();u(n["$start_with?"](x("LF")));)n=n.$slice(1,n.$length());break;default:E=!0,n=u(n)?n.$strip():""}else $.colspan=$.rowspan=C,_(d,"asciidoc")&&(b=!0,y=i["$[]"]("cursor"));return u(b)?(A=$.document.$attributes().$delete("doctitle"),S=n.$split(x("LF"),-1),u(S["$empty?"]())||u((O=S["$[]"](0))["$include?"]("::"))&&(T=x("PreprocessorReader").$new($.document,[O]).$readlines(),_(O,T["$[]"](0))&&u(c(T.$size(),2))||(S.$shift(),u(T["$empty?"]())||p(S,"unshift",v(T)))),$.inner_document=x("Document").$new(S,s(["standalone","parent","cursor"],{standalone:!1,parent:$.document,cursor:y})),u(A["$nil?"]())||$.document.$attributes()["$[]="]("doctitle",A),$.subs=C):u(k)?($.content_model="verbatim",$.subs=x("BASIC_SUBS")):(u(E)&&(u(f)?$.cursor=i["$[]"]("cursor"):$.$catalog_inline_anchor(n,i["$[]"]("cursor"))),$.content_model="simple",$.subs=x("NORMAL_SUBS")),$.text=n,$.style=d}),-3),i(m,"$reinitialize",(function(e){var t=this;if(u(e))t.reinitialize_args=C;else{if(u(t.reinitialize_args))return p(O(x("Table"),"Cell"),"new",v(t.reinitialize_args));t.style=t.attributes["$[]"]("style")}return u(t.cursor)&&t.$catalog_inline_anchor(),t})),i(m,"$catalog_inline_anchor",(function(e,t){var n,r=this;return null==e&&(e=r.text),null==t&&(t=C),u(t)||(t=(n=[r.cursor,C])[0],r.cursor=n[1]),u(e["$start_with?"]("[["))&&u(x("LeadingInlineAnchorRx")["$=~"](e))?x("Parser").$catalog_inline_anchor((n=b["~"])===C?C:n["$[]"](1),(n=b["~"])===C?C:n["$[]"](2),r,t,r.document):C}),-1),i(m,"$text",(function(){var e=this;return e.$apply_subs(e.text,e.subs)})),m.$attr_writer("text"),i(m,"$content",(function(){var e,t=this,n=C;return _(e=t.style,"asciidoc")?t.inner_document.$convert():u(t.text["$include?"](x("DOUBLE_LF")))?p(t.$text().$split(x("BlankLineRx")),"map",[],(function t(n){var r=null==t.$$s?this:t.$$s;return null==n&&(n=C),u(e)&&y(e,"header")?x("Inline").$new(r.$parent(),"quoted",n,s(["type"],{type:e})).$convert():n}),{$$s:t}):u((n=t.$text())["$empty?"]())?[]:u(e)&&y(e,"header")?[x("Inline").$new(t.$parent(),"quoted",n,s(["type"],{type:e})).$convert()]:[n]})),i(m,"$lines",(function(){return this.text.$split(x("LF"))})),i(m,"$source",w("text")),i(m,"$file",(function(){var e;return u(e=this.source_location)?this.source_location.$file():e})),i(m,"$lineno",(function(){var e;return u(e=this.source_location)?this.source_location.$lineno():e})),i(m,"$to_s",(function e(){var t=e.$$p||C,n=this,r=C;return e.$$p=null,a(n,l(n,"to_s",e,!1,!0),"to_s",[],t)+" - [text: "+n.text+", colspan: "+(u(r=n.colspan)?r:1)+", rowspan: "+(u(r=n.rowspan)?r:1)+", attributes: "+n.attributes+"]"}))}(R("Table"),R("AbstractBlock"),I),function(t,o,a){var l=n(t,null,"ParserContext"),c=[l].concat(a),f=e.$r(c),d=l.$$prototype;return d.delimiter=d.delimiter_rx=d.buffer=d.cellspecs=d.cell_open=d.format=d.start_cursor_data=d.reader=d.table=d.current_row=d.colcount=d.column_visits=d.active_rowspans=d.linenum=C,l.$include(f("Logging")),r(c[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),r(c[0],"DELIMITERS",s(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]})),l.$attr_accessor("table"),l.$attr_accessor("format"),l.$attr_reader("colcount"),l.$attr_accessor("buffer"),l.$attr_reader("delimiter"),l.$attr_reader("delimiter_re"),i(l,"$initialize",(function(e,t,n){var r,i,o=this,a=C,l=C;return null==n&&(n=s([],{})),o.start_cursor_data=(o.reader=e).$mark(),o.table=t,u(n["$key?"]("format"))?u(f("FORMATS")["$include?"](a=n["$[]"]("format")))?_(a,"tsv")?o.format="csv":_(o.format=a,"psv")&&u(t.$document()["$nested?"]())&&(a="!sv"):(o.$logger().$error(o.$message_with_context("illegal table format: "+a,s(["source_location"],{source_location:e.$cursor_at_prev_line()}))),r=["psv",u(t.$document()["$nested?"]())?"!sv":"psv"],o.format=r[0],a=r[1]):(r=["psv",u(t.$document()["$nested?"]())?"!sv":"psv"],o.format=r[0],a=r[1]),u(n["$key?"]("separator"))?u((l=n["$[]"]("separator"))["$nil_or_empty?"]())?(i=f("DELIMITERS")["$[]"](a),r=x(i),o.delimiter=null==r[0]?C:r[0],o.delimiter_rx=null==r[1]?C:r[1]):_(l,"\\t")?(i=f("DELIMITERS")["$[]"]("tsv"),r=x(i),o.delimiter=null==r[0]?C:r[0],o.delimiter_rx=null==r[1]?C:r[1]):(r=[l,k([O("Regexp").$escape(l)])],o.delimiter=r[0],o.delimiter_rx=r[1]):(i=f("DELIMITERS")["$[]"](a),r=x(i),o.delimiter=null==r[0]?C:r[0],o.delimiter_rx=null==r[1]?C:r[1]),o.colcount=u(t.$columns()["$empty?"]())?-1:t.$columns().$size(),o.buffer="",o.cellspecs=[],o.cell_open=!1,o.active_rowspans=[0],o.column_visits=0,o.current_row=[],o.linenum=-1}),-3),i(l,"$starts_with_delimiter?",(function(e){return e["$start_with?"](this.delimiter)})),i(l,"$match_delimiter",(function(e){return this.delimiter_rx.$match(e)})),i(l,"$skip_past_delimiter",(function(e){var t=this;return t.buffer=""+t.buffer+e+t.delimiter,C})),i(l,"$skip_past_escaped_delimiter",(function(e){var t=this;return t.buffer=""+t.buffer+e.$chop()+t.delimiter,C})),i(l,"$buffer_has_unclosed_quotes?",(function(e,t){var n=C,r=C,i=C,o=C;return null==e&&(e=C),null==t&&(t='"'),!!_(n=u(e)?h(this.buffer,e).$strip():this.buffer.$strip(),t)||!!u(n["$start_with?"](t))&&(r=h(t,t),u(i=n["$end_with?"](t))&&u(n["$end_with?"](r))||u(n["$start_with?"](r))?u(o=(n=n.$gsub(r,""))["$start_with?"](t))?n["$end_with?"](t)["$!"]():o:i["$!"]())}),-1),i(l,"$take_cellspec",(function(){return this.cellspecs.$shift()})),i(l,"$push_cellspec",(function(e){var t;return null==e&&(e=s([],{})),this.cellspecs["$<<"](u(t=e)?t:s([],{})),C}),-1),i(l,"$keep_cell_open",(function(){return this.cell_open=!0,C})),i(l,"$mark_cell_closed",(function(){return this.cell_open=!1,C})),i(l,"$cell_open?",w("cell_open")),i(l,"$cell_closed?",(function(){return this.cell_open["$!"]()})),i(l,"$close_open_cell",(function(e){var t=this;return null==e&&(e=s([],{})),t.$push_cellspec(e),u(t["$cell_open?"]())&&t.$close_cell(!0),t.$advance(),C}),-1),i(l,"$close_cell",(function(e){try{var t=A("return"),n=this,r=C,i=C,o=C,a=C,l=C;return null==e&&(e=!1),_(n.format,"psv")?(r=n.buffer,n.buffer="",u(i=n.$take_cellspec())?o=u(a=i.$delete("repeatcol"))?a:1:(n.$logger().$error(n.$message_with_context("table missing leading separator; recovering automatically",s(["source_location"],{source_location:p(O(f("Reader"),"Cursor"),"new",v(n.start_cursor_data))}))),i=s([],{}),o=1)):(r=n.buffer.$strip(),n.buffer="",i=C,o=1,_(n.format,"csv")&&E(r["$empty?"]())&&u(r["$include?"](l='"'))&&(u(r["$start_with?"](l))&&u(r["$end_with?"](l))?u(r=r.$slice(1,m(r.$length(),2)))?r=r.$strip().$squeeze(l):(n.$logger().$error(n.$message_with_context("unclosed quote in CSV data; setting cell to empty",s(["source_location"],{source_location:n.reader.$cursor_at_prev_line()}))),r=""):r=r.$squeeze(l))),p(1,"upto",[o],(function n(l){var c=null==n.$$s?this:n.$$s,d=C,g=C,v=C,b=C;return null==c.colcount&&(c.colcount=C),null==c.table&&(c.table=C),null==c.current_row&&(c.current_row=C),null==c.reader&&(c.reader=C),null==c.column_visits&&(c.column_visits=C),null==c.linenum&&(c.linenum=C),null==l&&(l=C),_(c.colcount,-1)?(c.table.$columns()["$<<"](d=O(f("Table"),"Column").$new(c.table,m(h(c.table.$columns().$size(),l),1))),u(i)&&u(i["$key?"]("colspan"))&&u($(g=m(i["$[]"]("colspan").$to_i(),1),0))&&(v=c.table.$columns().$size(),p(g,"times",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==n.table&&(n.table=C),null==t&&(t=C),n.table.$columns()["$<<"](O(f("Table"),"Column").$new(n.table,h(v,t)))}),{$$s:c}))):u(d=c.table.$columns()["$[]"](c.current_row.$size()))||(c.$logger().$error(c.$message_with_context("dropping cell because it exceeds specified number of columns",s(["source_location"],{source_location:c.reader.$cursor_before_mark()}))),t.$throw()),b=O(f("Table"),"Cell").$new(d,r,i,s(["cursor"],{cursor:c.reader.$cursor_before_mark()})),c.reader.$mark(),E(b.$rowspan())||_(b.$rowspan(),1)||c.$activate_rowspan(b.$rowspan(),u(a=b.$colspan())?a:1),c.column_visits=h(c.column_visits,u(a=b.$colspan())?a:1),c.current_row["$<<"](b),u(c["$end_of_row?"]())&&(y(c.colcount,-1)||u($(c.linenum,0))||u(e)&&_(l,o))?c.$close_row():C}),{$$s:n,$$ret:t}),n.cell_open=!1,C}catch(e){if(e===t)return e.$v;throw e}}),-1),l.$private(),i(l,"$close_row",(function(){var e=this;return e.table.$rows().$body()["$<<"](e.current_row),_(e.colcount,-1)&&(e.colcount=e.column_visits),e.column_visits=0,e.current_row=[],e.active_rowspans.$shift(),u(e.active_rowspans["$[]"](0))||e.active_rowspans["$[]="](0,0),C})),i(l,"$activate_rowspan",(function(e,t){return p(1,"upto",[m(e,1)],(function e(n){var r,i,o=null==e.$$s?this:e.$$s;return null==o.active_rowspans&&(o.active_rowspans=C),null==n&&(n=C),r=[n,h(u(i=o.active_rowspans["$[]"](n))?i:0,t)],p(o.active_rowspans,"[]=",r),r[r.length-1]}),{$$s:this}),C})),i(l,"$end_of_row?",(function(){var e,t=this;return u(e=t.colcount["$=="](-1))?e:t.$effective_column_visits()["$=="](t.colcount)})),i(l,"$effective_column_visits",(function(){return h(this.column_visits,this.active_rowspans["$[]"](0))})),i(l,"$advance",(function(){return this.linenum=h(this.linenum,1)}))}(R("Table"),0,I)}(S[0],S)},Opal.modules["asciidoctor/writer"]=function(e){var t=e.module,n=e.truthy,r=e.rb_plus,i=e.hash2,o=e.def,s=e.return_val,a=[],l=e.nil,u=e.$$$;return e.add_stubs("respond_to?,write,+,chomp,include"),function(a,c){var $=[t(a,"Asciidoctor")].concat(c);return function(s,a){var c=t(s,"Writer"),$=[c].concat(a),_=e.$r($);o(c,"$write",(function(e,t){return n(t["$respond_to?"]("write"))?t.$write(r(e.$chomp(),_("LF"))):u("File").$write(t,e,i(["mode"],{mode:_("FILE_WRITE_MODE")})),l}))}($[0],$),function(n,r){var i=t(n,"VoidWriter"),a=[i].concat(r),u=e.$r(a);return i.$include(u("Writer")),o(i,"$write",s(l))}($[0],$)}(a[0],a)},Opal.modules["asciidoctor/load"]=function(e){var t=e.module,n=e.hash2,r=e.truthy,i=e.neqeq,o=e.not,s=e.eqeqeq,a=e.send,l=e.to_ary,u=e.rb_plus,c=e.eqeq,$=e.def,_=[],f=e.nil,d=e.$$$;return e.add_stubs("merge,[],start,!=,logger,key?,logger=,new,!,===,dup,tap,each,partition,[]=,split,gsub,+,respond_to?,keys,raise,join,ancestors,class,==,at,to_i,mtime,absolute_path,path,dirname,basename,extname,read,rewind,drop,record,parse,exception,message,set_backtrace,backtrace,stack_trace=,stack_trace,open,load"),function(_,p){var h=t(_,"Asciidoctor"),m=[h].concat(p);return function(t,_){var p=[t].concat(_),h=e.$r(p);return $(t,"$load",(function(t,$){var _,p,m,g=this,v=f,b=f,y=f,w=f,x=f,k=f,E=f,A=f,S=f,C=f;null==$&&($=n([],{}));try{if($=$.$merge(),r(v=$["$[]"]("timings"))&&v.$start("read"),r($["$key?"]("logger"))&&i(b=$["$[]"]("logger"),h("LoggerManager").$logger())&&h("LoggerManager")["$logger="](r(y=b)?y:h("NullLogger").$new()),o(w=$["$[]"]("attributes"))?w=n([],{}):s(d("Hash"),w)?w=w.$merge():r((p=d("::","Java","skip_raise"))&&(_=d(p,"JavaUtil","skip_raise"))&&d(_,"Map","skip_raise")?"constant":f)&&s(d(d(d("Java"),"JavaUtil"),"Map"),w)?w=w.$dup():s(d("Array"),w)?w=a(n([],{}),"tap",[],(function(e){return null==e&&(e=f),a(w,"each",[],(function(t){var n,r,i,o;return null==t&&(t=f),r=t.$partition("="),i=null==(n=l(r))[0]?f:n[0],null==n[1]||n[1],o=null==n[2]?f:n[2],a(e,"[]=",n=[i,o]),n[n.length-1]}))})):s(d("String"),w)?w=a(n([],{}),"tap",[],(function(e){return null==e&&(e=f),a(w.$gsub(h("SpaceDelimiterRx"),u("\\1",h("NULL"))).$gsub(h("EscapedSpaceRx"),"\\1").$split(h("NULL")),"each",[],(function(t){var n,r,i,o;return null==t&&(t=f),r=t.$partition("="),i=null==(n=l(r))[0]?f:n[0],null==n[1]||n[1],o=null==n[2]?f:n[2],a(e,"[]=",n=[i,o]),n[n.length-1]}))})):r(w["$respond_to?"]("keys"))&&r(w["$respond_to?"]("[]"))?w=a(n([],{}),"tap",[],(function(e){return null==e&&(e=f),a(w.$keys(),"each",[],(function(t){var n;return null==t&&(t=f),n=[t,w["$[]"](t)],a(e,"[]=",n),n[n.length-1]}))})):g.$raise(d("ArgumentError"),"illegal type for attributes option: "+w.$class().$ancestors().$join(" < ")),s(d("File"),t))$["$[]="]("input_mtime",c(h("RUBY_ENGINE"),"jruby")?d("Time").$at(t.$mtime().$to_i()):t.$mtime()),w["$[]="]("docfile",x=d("File").$absolute_path(t.$path())),w["$[]="]("docdir",d("File").$dirname(x)),w["$[]="]("docname",h("Helpers").$basename(x,(m=["docfilesuffix",h("Helpers").$extname(x)],a(w,"[]=",m),m[m.length-1]))),k=t.$read();else if(r(t["$respond_to?"]("read"))){try{t.$rewind()}catch(t){if(!e.rescue(t,[h("StandardError")]))throw t;e.pop_exception()}k=t.$read()}else s(d("String"),t)?k=t:s(d("Array"),t)?k=t.$drop(0):r(t)&&g.$raise(d("ArgumentError"),"unsupported input type: "+t.$class());return r(v)&&(v.$record("read"),v.$start("parse")),$["$[]="]("attributes",w),E=c($["$[]"]("parse"),!1)?h("Document").$new(k,$):h("Document").$new(k,$).$parse(),r(v)&&v.$record("parse"),E}catch(t){if(!e.rescue(t,[h("StandardError")]))throw t;A=t;try{try{S="asciidoctor: FAILED: "+(r(y=w["$[]"]("docfile"))?y:"<stdin>")+": Failed to load AsciiDoc document",r(A["$respond_to?"]("exception"))?(C=A.$exception(S+" - "+A.$message())).$set_backtrace(A.$backtrace()):(C=A.$class().$new(S,A))["$stack_trace="](A.$stack_trace())}catch(t){if(!e.rescue(t,[h("StandardError")]))throw t;try{C=A}finally{e.pop_exception()}}return g.$raise(C)}finally{e.pop_exception()}}}),-2),$(t,"$load_file",(function(e,t){return null==t&&(t=n([],{})),a(d("File"),"open",[e,h("FILE_READ_MODE")],(function e(n){return null==n&&(n=f),(null==e.$$s?this:e.$$s).$load(n,t)}),{$$s:this})}),-2)}(e.get_singleton_class(h),m)}(_[0],_)},Opal.modules["asciidoctor/convert"]=function(e){var t=e.module,n=e.hash2,r=e.eqeqeq,i=e.truthy,o=e.eqeq,s=e.rb_ge,a=e.not,l=e.rb_lt,u=e.neqeq,c=e.def,$=e.send,_=e.alias,f=[],d=e.nil,p=e.$$$;return e.add_stubs("delete,merge,===,absolute_path,path,load,respond_to?,[]=,key?,fetch,[],dirname,expand_path,join,attributes,outfilesuffix,==,raise,pwd,>=,safe,normalize_system_path,mkdir_p,directory?,!,convert,write,attr,uriish?,basebackend?,attr?,<,include?,syntax_highlighter,write_stylesheet?,write_primary_stylesheet,instance,to_s,read_asset,file?,!=,write_stylesheet,open,convert_file"),function(f,h){var m=t(f,"Asciidoctor"),g=[m].concat(h);return function(t,f){var h=[t].concat(f),m=e.$r(h);return c(t,"$convert",(function(e,t){var c,$,_,f=this,h=d,g=d,v=d,b=d,y=d,w=d,x=d,k=d,E=d,A=d,S=d,C=d,O=d,T=d,I=d,R=d,N=d,L=d,z=d,D=d,F=d;if(null==t&&(t=n([],{})),(t=t.$merge()).$delete("parse"),c=t.$delete("to_dir"),$=t.$delete("mkdirs"),r(!0,h=g=t.$delete("to_file"))||r(d,h))i(v=c)||r(p("File"),e)&&(b=p("File").$absolute_path(e.$path())),g=d;else if(r(!1,h))g=d;else{if(r("/dev/null",h))return f.$load(e,t);i(y=g["$respond_to?"]("write"))||t["$[]="]("to_file",v=g)}return i(t["$key?"]("standalone"))||(i(b)||i(v)?t["$[]="]("standalone",t.$fetch("header_footer",!0)):i(t["$key?"]("header_footer"))&&t["$[]="]("standalone",t["$[]"]("header_footer"))),i(b)?t["$[]="]("to_dir",w=p("File").$dirname(b)):i(v)&&(i(c)?i(g)?t["$[]="]("to_dir",p("File").$dirname(p("File").$expand_path(g,c))):t["$[]="]("to_dir",p("File").$expand_path(c)):i(g)&&t["$[]="]("to_dir",p("File").$dirname(p("File").$expand_path(g)))),x=f.$load(e,t),i(b)?(k=p("File").$join(w,""+x.$attributes()["$[]"]("docname")+x.$outfilesuffix()),o(k,b)&&f.$raise(p("IOError"),"input file and output file cannot be the same: "+k)):i(v)?(E=i(t["$key?"]("base_dir"))?p("File").$expand_path(t["$[]"]("base_dir")):p("Dir").$pwd(),A=i(s(x.$safe(),p(m("SafeMode"),"SAFE")))?E:d,i(c)?(w=x.$normalize_system_path(c,E,A,n(["target_name","recover"],{target_name:"to_dir",recover:!1})),i(g)?(k=x.$normalize_system_path(g,w,d,n(["target_name","recover"],{target_name:"to_dir",recover:!1})),w=p("File").$dirname(k)):k=p("File").$join(w,""+x.$attributes()["$[]"]("docname")+x.$outfilesuffix())):i(g)&&(k=x.$normalize_system_path(g,E,A,n(["target_name","recover"],{target_name:"to_dir",recover:!1})),w=p("File").$dirname(k)),r(p("File"),e)&&o(k,p("File").$absolute_path(e.$path()))&&f.$raise(p("IOError"),"input file and output file cannot be the same: "+k),i($)?m("Helpers").$mkdir_p(w):i(p("File")["$directory?"](w))||f.$raise(p("IOError"),"target directory does not exist: "+c+" (hint: set :mkdirs option)")):(k=g,w=d),_=i(k)&&a(y)?x.$convert(n(["outfile","outdir"],{outfile:k,outdir:w})):x.$convert(),i(k)?(x.$write(_,k),a(y)&&i(l(x.$safe(),p(m("SafeMode"),"SECURE")))&&i(x["$attr?"]("linkcss"))&&i(x["$attr?"]("copycss"))&&i(x["$basebackend?"]("html"))&&a(i(h=S=x.$attr("stylesdir"))?m("Helpers")["$uriish?"](S):h)&&(i(C=x.$attr("stylesheet"))&&(i(m("DEFAULT_STYLESHEET_KEYS")["$include?"](C))?O=!0:a(m("Helpers")["$uriish?"](C))&&(T=!0)),I=i(h=R=x.$syntax_highlighter())?R["$write_stylesheet?"](x):h,(i(O)||i(T)||i(I))&&(N=x.$normalize_system_path(S,w,i(s(x.$safe(),p(m("SafeMode"),"SAFE")))?w:d),i($)?m("Helpers").$mkdir_p(N):i(p("File")["$directory?"](N))||f.$raise(p("IOError"),"target stylesheet directory does not exist: "+N+" (hint: set :mkdirs option)"),i(O)?m("Stylesheets").$instance().$write_primary_stylesheet(N):i(T)&&(L=o(L=x.$attr("copycss"),"")||o(L,!0)?x.$normalize_system_path(C):x.$normalize_system_path(L.$to_s()),z=x.$normalize_system_path(C,N,i(s(x.$safe(),p(m("SafeMode"),"SAFE")))?w:d),u(L,z)&&i(D=x.$read_asset(L,n(["warn_on_failure","label"],{warn_on_failure:p("File")["$file?"](z)["$!"](),label:"stylesheet"})))&&(u(F=p("File").$dirname(z),N)&&a(p("File")["$directory?"](F))&&(i($)?m("Helpers").$mkdir_p(F):f.$raise(p("IOError"),"target stylesheet directory does not exist: "+F+" (hint: set :mkdirs option)")),p("File").$write(z,D,n(["mode"],{mode:m("FILE_WRITE_MODE")})))),i(I)&&R.$write_stylesheet(x,N))),x):_}),-2),c(t,"$convert_file",(function(e,t){return null==t&&(t=n([],{})),$(p("File"),"open",[e,m("FILE_READ_MODE")],(function e(n){return null==n&&(n=d),(null==e.$$s?this:e.$$s).$convert(n,t)}),{$$s:this})}),-2),_(t,"render","convert"),_(t,"render_file","convert_file")}(e.get_singleton_class(m),g)}(f[0],f)},Opal.modules["asciidoctor/syntax_highlighter/highlightjs"]=function(e){var t=e.module,n=e.klass,r=e.slice,i=e.send2,o=e.find_super,s=e.to_a,a=e.def,l=e.hash2,u=e.send,c=e.truthy,$=e.return_val,_=e.eqeq,f=[],d=e.nil,p=e.$$$;return e.add_stubs("register_for,merge,proc,[]=,attr,[],==,attr?,join,map,split,lstrip"),function(f,h){var m=[t(f,"Asciidoctor")].concat(h),g=e.$r(m);return function(t,f,p){var h=n(t,f,"HighlightJsAdapter"),m=[h].concat(p),g=e.$r(m);return h.$register_for("highlightjs","highlight.js"),a(h,"$initialize",(function e(t){var n,a=e.$$p||d,l=this;return e.$$p=null,n=r(arguments),i(l,o(l,"initialize",e,!1,!0),"initialize",s(n),a),l.name=l.pre_class="highlightjs"}),-1),a(h,"$format",(function e(t,n,r){var s=this;return e.$$p=null,i(s,o(s,"format",e,!1,!0),"format",[t,n,r.$merge(l(["transform"],{transform:u(s,"proc",[],(function(e,t){var r,i;return null==e&&(e=d),null==t&&(t=d),r=["class","language-"+(c(i=n)?i:"none")+" hljs"],u(t,"[]=",r),r[r.length-1]}))}))],null)})),a(h,"$docinfo?",$(!0)),a(h,"$docinfo",(function(e,t,n){var r;return r=t.$attr("highlightjsdir",n["$[]"]("cdn_base_url")+"/highlight.js/"+g("HIGHLIGHT_JS_VERSION")),_(e,"head")?'<link rel="stylesheet" href="'+r+"/styles/"+t.$attr("highlightjs-theme","github")+'.min.css"'+n["$[]"]("self_closing_tag_slash")+">":'<script src="'+r+'/highlight.min.js"><\/script>\n'+(c(t["$attr?"]("highlightjs-languages"))?u(t.$attr("highlightjs-languages").$split(","),"map",[],(function(e){return null==e&&(e=d),'<script src="'+r+"/languages/"+e.$lstrip()+'.min.js"><\/script>\n'})).$join():"")+"<script>\nif (!hljs.initHighlighting.called) {\n  hljs.initHighlighting.called = true\n  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })\n}\n<\/script>"}))}(g("SyntaxHighlighter"),p(g("SyntaxHighlighter"),"Base"),m)}(f[0],f)},Opal.modules["asciidoctor/syntax_highlighter"]=function(e){var t=e.module,n=e.hash2,r=e.def,i=e.return_val,o=e.defs,s=e.slice,a=e.send,l=e.to_a,u=e.truthy,c=e.eqeqeq,$=e.Class,_=e.klass,f=e.class_variable_set,d=e.class_variable_get,p=e.top,h=[],m=e.nil,g=e.$$$;return e.add_stubs("attr_reader,raise,class,extend,private_class_method,register,map,to_s,each,[]=,registry,[],for,===,new,name,private,include,delete,join,content"),function(p,h){var v=[t(p,"Asciidoctor")].concat(h);!function(p,h){var v=t(p,"SyntaxHighlighter"),b=[v].concat(h),y=e.$r(b);v.$attr_reader("name"),r(v,"$initialize",(function(e,t,r){return null==t&&(t="html5"),null==r&&(r=n([],{})),this.name=this.pre_class=e}),-2),r(v,"$docinfo?",i(m)),r(v,"$docinfo",(function(e,t,n){return this.$raise(g("NotImplementedError"),y("SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #docinfo method since #docinfo? returns true")})),r(v,"$highlight?",i(m)),r(v,"$highlight",(function(e,t,n,r){return this.$raise(g("NotImplementedError"),y("SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #highlight method since #highlight? returns true")})),r(v,"$format",(function(e,t,n){return this.$raise(g("NotImplementedError"),y("SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #format method")})),r(v,"$write_stylesheet?",i(m)),r(v,"$write_stylesheet",(function(e,t){return this.$raise(g("NotImplementedError"),y("SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #write_stylesheet method since #write_stylesheet? returns true")})),o(v,"$included",(function(e){return e.$extend(y("Config"))})),v.$private_class_method("included"),function(n,i){var o=t(n,"Config"),u=[o].concat(i),c=e.$r(u);r(o,"$register_for",(function(e){var t,n=this;return t=s(arguments),a(c("SyntaxHighlighter"),"register",[n].concat(l(a(t,"map",[],(function(e){return null==e&&(e=m),e.$to_s()})))))}),-1)}(b[0],b),function(i,o){var l=t(i,"Factory"),_=[l].concat(o),f=e.$r(_);r(l,"$register",(function(e,t){var n;return n=s(arguments,1),a(n,"each",[],(function t(n){var r;return null==n&&(n=m),r=[n,e],a((null==t.$$s?this:t.$$s).$registry(),"[]=",r),r[r.length-1]}),{$$s:this})}),-2),r(l,"$for",(function(e){return this.$registry()["$[]"](e)})),r(l,"$create",(function(e,t,r){var i=m;return null==t&&(t="html5"),null==r&&(r=n([],{})),u(i=this.$for(e))?(c($,i)&&(i=i.$new(e,t,r)),u(i.$name())||this.$raise(g("NameError"),i.$class()+" must specify a value for `name'"),i):m}),-2),l.$private(),r(l,"$registry",(function(){return this.$raise(g("NotImplementedError"),f("Factory")+" subclass "+this.$class()+" must implement the #registry method")}))}(b[0],b),function(t,i,o){var s=_(t,null,"CustomFactory"),a=[s].concat(o),l=e.$r(a);s.$include(l("Factory")),r(s,"$initialize",(function(e){var t;return null==e&&(e=m),this.registry=u(t=e)?t:n([],{})}),-1),s.$private(),s.$attr_reader("registry")}(b[0],0,b),function(i,o){var s=t(i,"DefaultFactory"),a=[s].concat(o),l=e.$r(a);s.$include(l("Factory")),f(a[0],"@@registry",n([],{})),s.$private(),r(s,"$registry",(function(){return d(a[0],"@@registry",!1)}))}(b[0],b),function(t,n,r){var i=_(t,n,"DefaultFactoryProxy"),o=[i].concat(r),s=e.$r(o);i.$include(s("DefaultFactory"))}(b[0],y("CustomFactory"),b),function(t,i,o){var s=_(t,null,"Base"),l=[s].concat(o),c=e.$r(l);s.$$prototype.pre_class=m,s.$include(c("SyntaxHighlighter")),r(s,"$format",(function(e,t,r){var i,o=m,s=m,l=m;return i=u(r["$[]"]("nowrap"))?this.pre_class+" highlight nowrap":this.pre_class+" highlight",u(o=r["$[]"]("transform"))?(o["$[]"](s=n(["class"],{class:i}),l=u(t)?n(["data-lang"],{"data-lang":t}):n([],{})),u(t=l.$delete("data-lang"))&&l["$[]="]("data-lang",t),"<pre"+a(s,"map",[],(function(e,t){return null==e&&(e=m),null==t&&(t=m)," "+e+'="'+t+'"'})).$join()+"><code"+a(l,"map",[],(function(e,t){return null==e&&(e=m),null==t&&(t=m)," "+e+'="'+t+'"'})).$join()+">"+e.$content()+"</code></pre>"):'<pre class="'+i+'"><code'+(u(t)?' data-lang="'+t+'"':"")+">"+e.$content()+"</code></pre>"}))}(b[0],0,b),v.$extend(y("DefaultFactory"))}(v[0],v)}(h[0],h),p.$require("asciidoctor/syntax_highlighter.rb/../syntax_highlighter/highlightjs"),m},Opal.modules["asciidoctor/timings"]=function(e){var t=e.module,n=e.klass,r=e.hash2,i=e.def,o=e.send,s=e.rb_minus,a=e.slice,l=e.rb_plus,u=e.truthy,c=e.rb_gt,$=e.gvars,_=e.eqeq,f=e.const_set,d=[],p=e.nil,h=e.$$$;return e.add_stubs("[]=,now,-,delete,reduce,+,[],>,time,puts,sprintf,to_f,read_parse,convert,read_parse_convert,private,==,const_defined?,clock_gettime"),function(d,m){var g=[t(d,"Asciidoctor")].concat(m);return function(t,d,m){var g,v,b,y,w=n(t,null,"Timings"),x=[w].concat(m),k=e.$r(x),E=w.$$prototype;return E.timers=E.log=p,i(w,"$initialize",(function(){return this.log=r([],{}),this.timers=r([],{})})),i(w,"$start",(function(e){var t;return t=[e,this.$now()],o(this.timers,"[]=",t),t[t.length-1]})),i(w,"$record",(function(e){var t,n=this;return t=[e,s(n.$now(),n.timers.$delete(e))],o(n.log,"[]=",t),t[t.length-1]})),i(w,"$time",(function(e){var t,n;return t=a(arguments),n=o(t,"reduce",[0],(function e(t,n){var r,i=null==e.$$s?this:e.$$s;return null==i.log&&(i.log=p),null==t&&(t=p),null==n&&(n=p),l(t,u(r=i.log["$[]"](n))?r:0)}),{$$s:this}),u(c(n,0))?n:p}),-1),i(w,"$read",(function(){return this.$time("read")})),i(w,"$parse",(function(){return this.$time("parse")})),i(w,"$read_parse",(function(){return this.$time("read","parse")})),i(w,"$convert",(function(){return this.$time("convert")})),i(w,"$read_parse_convert",(function(){return this.$time("read","parse","convert")})),i(w,"$write",(function(){return this.$time("write")})),i(w,"$total",(function(){return this.$time("read","parse","convert","write")})),i(w,"$print_report",(function(e,t){var n=this;return null==$.stdout&&($.stdout=p),null==e&&(e=$.stdout),null==t&&(t=p),u(t)&&e.$puts("Input file: "+t),e.$puts("  Time to read and parse source: "+n.$sprintf("%05.5f",n.$read_parse().$to_f())),e.$puts("  Time to convert document: "+n.$sprintf("%05.5f",n.$convert().$to_f())),e.$puts("  Total time (read, parse and convert): "+n.$sprintf("%05.5f",n.$read_parse_convert().$to_f()))}),-1),w.$private(),u(h("Process")["$const_defined?"]("CLOCK_MONOTONIC",!1))&&_((g=h("::","Process","skip_raise"))&&(v=g)&&(b=v)&&((y=b.$clock_gettime)&&!y.$$stub||b["$respond_to_missing?"]("clock_gettime"))?"method":p,"method")?(f(x[0],"CLOCK_ID",h(h("Process"),"CLOCK_MONOTONIC")),i(w,"$now",(function(){return h("Process").$clock_gettime(k("CLOCK_ID"))}))):i(w,"$now",(function(){return h("Time").$now()}))}(g[0],0,g)}(d[0],d)},Opal.modules["asciidoctor/converter/html5"]=function(e){var t=e.module,n=e.klass,r=e.const_set,i=e.hash2,o=e.regexp,s=e.eqeq,a=e.def,l=e.send2,u=e.find_super,c=e.truthy,$=e.send,_=e.rb_gt,f=e.rb_plus,d=e.not,p=e.neqeq,h=e.rb_le,m=e.rb_lt,g=e.to_ary,v=e.rb_times,b=e.rb_minus,y=e.gvars,w=e.return_val,x=e.alias,k=e.eqeqeq,E=e.slice,A=e.to_a,S=[],C=e.nil,O=e.$$$;return e.add_stubs("register_for,default=,==,[],init_backend_traits,node_name,convert_inline_quoted,convert_paragraph,convert_inline_anchor,convert_section,convert_listing,convert_literal,convert_ulist,convert_olist,convert_dlist,convert_admonition,convert_colist,convert_embedded,convert_example,convert_floating_title,convert_image,convert_inline_break,convert_inline_button,convert_inline_callout,convert_inline_footnote,convert_inline_image,convert_inline_indexterm,convert_inline_kbd,convert_inline_menu,convert_open,convert_page_break,convert_preamble,convert_quote,convert_sidebar,convert_stem,convert_table,convert_thematic_break,convert_verse,convert_video,convert_document,convert_toc,convert_pass,convert_audio,empty?,attr,attr?,<<,include?,sub_replacements,gsub,extname,slice,length,doctitle,normalize_web_path,primary_stylesheet_data,instance,read_contents,syntax_highlighter,size,docinfo,id,sections?,doctype,role?,role,join,noheader,convert,converter,generate_manname_section,header?,notitle,title,header,each,authors,>,name,email,sub_macros,+,downcase,concat,content,!,footnotes?,footnotes,index,text,nofooter,docinfo?,[]=,delete_at,inspect,!=,to_i,attributes,document,sections,level,caption,captioned_title,<=,numbered,<,sectname,sectnum,convert_outline,title?,icon_uri,compact,media_uri,option?,append_boolean_attribute,style,items,blocks?,text?,chomp,safe,read_svg_contents,alt,image_uri,encode_attribute_value,append_link_constraint_attrs,highlight?,to_sym,format,*,-,count,end_with?,start_with?,list_marker_keyword,parent,warn,logger,context,error,content_only,new,columns,to_h,rows,colspan,rowspan,unshift,shift,split,pop,nil_or_empty?,type,===,catalog,get_root_document,xreftext,target,reftext,chop,sub,match,private,upcase,nested?,parent_document,handles?,to_s,send"),function(S,T){var I=[t(S,"Asciidoctor")].concat(T),R=e.$r(I);return function(t,S,T){var I=n(t,S,"Html5Converter"),R=[I].concat(T),N=e.$r(R),L=I.$$prototype;return L.void_element_slash=L.xml_mode=L.refs=L.resolving_xref=C,I.$register_for("html5"),r(R[0],"QUOTE_TAGS",i(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;"],single:["&#8216;","&#8217;"],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}))["$default="](["",""]),r(R[0],"DropAnchorRx",/<(?:a\b[^>]*|\/a)>/),r(R[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/),r(R[0],"SvgPreambleRx",o(["^",N("CC_ALL"),"*?(?=<svg[\\s>])"])),r(R[0],"SvgStartTagRx",/^<svg(?:\s[^>]*)?>/),r(R[0],"DimensionAttributeRx",o(["\\s(?:width|height|style)=([\"'])",N("CC_ANY"),"*?\\1"])),a(I,"$initialize",(function(e,t){var n=this,r=C;return null==t&&(t=i([],{})),n.backend=e,s(t["$[]"]("htmlsyntax"),"xml")?(r="xml",n.xml_mode=!0,n.void_element_slash="/"):(r="html",n.xml_mode=C,n.void_element_slash=""),n.$init_backend_traits(i(["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates"],{basebackend:"html",filetype:"html",htmlsyntax:r,outfilesuffix:".html",supports_templates:!0}))}),-2),a(I,"$convert",(function e(t,n,r){var i=e.$$p||C,o=this;switch(e.$$p=null,null==n&&(n=t.$node_name()),null==r&&(r=C),n){case"inline_quoted":return o.$convert_inline_quoted(t);case"paragraph":return o.$convert_paragraph(t);case"inline_anchor":return o.$convert_inline_anchor(t);case"section":return o.$convert_section(t);case"listing":return o.$convert_listing(t);case"literal":return o.$convert_literal(t);case"ulist":return o.$convert_ulist(t);case"olist":return o.$convert_olist(t);case"dlist":return o.$convert_dlist(t);case"admonition":return o.$convert_admonition(t);case"colist":return o.$convert_colist(t);case"embedded":return o.$convert_embedded(t);case"example":return o.$convert_example(t);case"floating_title":return o.$convert_floating_title(t);case"image":return o.$convert_image(t);case"inline_break":return o.$convert_inline_break(t);case"inline_button":return o.$convert_inline_button(t);case"inline_callout":return o.$convert_inline_callout(t);case"inline_footnote":return o.$convert_inline_footnote(t);case"inline_image":return o.$convert_inline_image(t);case"inline_indexterm":return o.$convert_inline_indexterm(t);case"inline_kbd":return o.$convert_inline_kbd(t);case"inline_menu":return o.$convert_inline_menu(t);case"open":return o.$convert_open(t);case"page_break":return o.$convert_page_break(t);case"preamble":return o.$convert_preamble(t);case"quote":return o.$convert_quote(t);case"sidebar":return o.$convert_sidebar(t);case"stem":return o.$convert_stem(t);case"table":return o.$convert_table(t);case"thematic_break":return o.$convert_thematic_break(t);case"verse":return o.$convert_verse(t);case"video":return o.$convert_video(t);case"document":return o.$convert_document(t);case"toc":return o.$convert_toc(t);case"pass":return o.$convert_pass(t);case"audio":return o.$convert_audio(t);default:return l(o,u(o,"convert",e,!1,!0),"convert",[t,n,r],i)}}),-2),a(I,"$convert_document",(function(e){var t,n,r,o,a,l,u,p,h=this,m=C,g=C,v=C,b=C,y=C,w=C,x=C,k=C,E=C,A=C,S=C,O=C,T=C,I=C,R=C,L=C,z=C;return t="<br"+(n=h.void_element_slash)+">",c((m=e.$attr("asset-uri-scheme","https"))["$empty?"]())||(m+=":"),r=m+"//cdnjs.cloudflare.com/ajax/libs",o=e["$attr?"]("linkcss"),a=c(e["$attr?"]("max-width"))?' style="max-width: '+e.$attr("max-width")+';"':"",g=["<!DOCTYPE html>"],l=c(e["$attr?"]("nolang"))?"":' lang="'+e.$attr("lang","en")+'"',g["$<<"]("<html"+(c(h.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+l+">"),g["$<<"]('<head>\n<meta charset="'+e.$attr("encoding","UTF-8")+'"'+n+'>\n<meta http-equiv="X-UA-Compatible" content="IE=edge"'+n+'>\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+n+'>\n<meta name="generator" content="Asciidoctor '+e.$attr("asciidoctor-version")+'"'+n+">"),c(e["$attr?"]("app-name"))&&g["$<<"]('<meta name="application-name" content="'+e.$attr("app-name")+'"'+n+">"),c(e["$attr?"]("description"))&&g["$<<"]('<meta name="description" content="'+e.$attr("description")+'"'+n+">"),c(e["$attr?"]("keywords"))&&g["$<<"]('<meta name="keywords" content="'+e.$attr("keywords")+'"'+n+">"),c(e["$attr?"]("authors"))&&g["$<<"]('<meta name="author" content="'+(c((v=e.$sub_replacements(e.$attr("authors")))["$include?"]("<"))?v.$gsub(N("XmlSanitizeRx"),""):v)+'"'+n+">"),c(e["$attr?"]("copyright"))&&g["$<<"]('<meta name="copyright" content="'+e.$attr("copyright")+'"'+n+">"),c(e["$attr?"]("favicon"))&&(c((b=e.$attr("favicon"))["$empty?"]())?(b="favicon.ico",y="image/x-icon"):y=c(w=N("Helpers").$extname(b,C))?s(w,".ico")?"image/x-icon":"image/"+w.$slice(1,w.$length()):"image/x-icon",g["$<<"]('<link rel="icon" type="'+y+'" href="'+b+'"'+n+">")),g["$<<"]("<title>"+e.$doctitle(i(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),c(N("DEFAULT_STYLESHEET_KEYS")["$include?"](e.$attr("stylesheet")))?(c(x=e.$attr("webfonts"))&&g["$<<"]('<link rel="stylesheet" href="'+m+"//fonts.googleapis.com/css?family="+(c(x["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":x)+'"'+n+">"),c(o)?g["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(N("DEFAULT_STYLESHEET_NAME"),e.$attr("stylesdir",""),!1)+'"'+n+">"):g["$<<"]("<style>\n"+N("Stylesheets").$instance().$primary_stylesheet_data()+"\n</style>")):c(e["$attr?"]("stylesheet"))&&(c(o)?g["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(e.$attr("stylesheet"),e.$attr("stylesdir",""))+'"'+n+">"):g["$<<"]("<style>\n"+e.$read_contents(e.$attr("stylesheet"),i(["start","warn_on_failure","label"],{start:e.$attr("stylesdir"),warn_on_failure:!0,label:"stylesheet"}))+"\n</style>")),c(e["$attr?"]("icons","font"))&&(c(e["$attr?"]("iconfont-remote"))?g["$<<"]('<link rel="stylesheet" href="'+e.$attr("iconfont-cdn",r+"/font-awesome/"+N("FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+n+">"):(k=e.$attr("iconfont-name","font-awesome")+".css",g["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(k,e.$attr("stylesdir",""),!1)+'"'+n+">"))),c(E=e.$syntax_highlighter())&&g["$<<"](A=g.$size()),c((S=e.$docinfo())["$empty?"]())||g["$<<"](S),g["$<<"]("</head>"),u=c(e.$id())?' id="'+e.$id()+'"':"",O=c(p=e["$sections?"]())&&c(e["$attr?"]("toc-class"))&&c(e["$attr?"]("toc"))&&c(e["$attr?"]("toc-placement","auto"))?[e.$doctype(),e.$attr("toc-class"),"toc-"+e.$attr("toc-position","header")]:[e.$doctype()],c(e["$role?"]())&&O["$<<"](e.$role()),g["$<<"]("<body"+u+' class="'+O.$join(" ")+'">'),c((S=e.$docinfo("header"))["$empty?"]())||g["$<<"](S),c(e.$noheader())||(g["$<<"]('<div id="header"'+a+">"),s(e.$doctype(),"manpage")?(g["$<<"]("<h1>"+e.$doctitle()+" Manual Page</h1>"),c(p)&&c(e["$attr?"]("toc"))&&c(e["$attr?"]("toc-placement","auto"))&&g["$<<"]('<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+e.$converter().$convert(e,"outline")+"\n</div>"),c(e["$attr?"]("manpurpose"))&&g["$<<"](h.$generate_manname_section(e))):(c(e["$header?"]())&&(c(e.$notitle())||g["$<<"]("<h1>"+e.$header().$title()+"</h1>"),T=[],I=1,$(e.$authors(),"each",[],(function(n){return null==n&&(n=C),T["$<<"]('<span id="author'+(c(_(I,1))?I:"")+'" class="author">'+e.$sub_replacements(n.$name())+"</span>"+t),c(n.$email())&&T["$<<"]('<span id="email'+(c(_(I,1))?I:"")+'" class="email">'+e.$sub_macros(n.$email())+"</span>"+t),I=f(I,1)})),c(e["$attr?"]("revnumber"))&&T["$<<"]('<span id="revnumber">'+(c(R=e.$attr("version-label"))?R:"").$downcase()+" "+e.$attr("revnumber")+(c(e["$attr?"]("revdate"))?",":"")+"</span>"),c(e["$attr?"]("revdate"))&&T["$<<"]('<span id="revdate">'+e.$attr("revdate")+"</span>"),c(e["$attr?"]("revremark"))&&T["$<<"](t+'<span id="revremark">'+e.$attr("revremark")+"</span>"),c(T["$empty?"]())||(g["$<<"]('<div class="details">'),g.$concat(T),g["$<<"]("</div>"))),c(p)&&c(e["$attr?"]("toc"))&&c(e["$attr?"]("toc-placement","auto"))&&g["$<<"]('<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+e.$converter().$convert(e,"outline")+"\n</div>")),g["$<<"]("</div>")),g["$<<"]('<div id="content"'+a+">\n"+e.$content()+"\n</div>"),c(e["$footnotes?"]())&&d(e["$attr?"]("nofootnotes"))&&(g["$<<"]('<div id="footnotes"'+a+">\n<hr"+n+">"),$(e.$footnotes(),"each",[],(function(e){return null==e&&(e=C),g["$<<"]('<div class="footnote" id="_footnotedef_'+e.$index()+'">\n<a href="#_footnoteref_'+e.$index()+'">'+e.$index()+"</a>. "+e.$text()+"\n</div>")})),g["$<<"]("</div>")),c(e.$nofooter())||(g["$<<"]('<div id="footer"'+a+">"),g["$<<"]('<div id="footer-text">'),c(e["$attr?"]("revnumber"))&&g["$<<"](e.$attr("version-label")+" "+e.$attr("revnumber")+t),c(e["$attr?"]("last-update-label"))&&d(e["$attr?"]("reproducible"))&&g["$<<"](e.$attr("last-update-label")+" "+e.$attr("docdatetime")),g["$<<"]("</div>"),g["$<<"]("</div>")),c(E)&&(c(E["$docinfo?"]("head"))?g["$[]="](A,E.$docinfo("head",e,i(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:r,linkcss:o,self_closing_tag_slash:n}))):g.$delete_at(A),c(E["$docinfo?"]("footer"))&&g["$<<"](E.$docinfo("footer",e,i(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:r,linkcss:o,self_closing_tag_slash:n})))),c(e["$attr?"]("stem"))&&(L=e.$attr("eqnums","none"),c(L["$empty?"]())&&(L="AMS"),z=' equationNumbers: { autoNumber: "'+L+'" } ',g["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+N("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+N("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+N("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+z+'}\n})\nMathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {\n  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {\n    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {\n      data.math.root.display = "block"\n    }\n    return data\n  })\n})\n<\/script>\n<script src="'+r+"/mathjax/"+N("MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML"><\/script>')),c((S=e.$docinfo("footer"))["$empty?"]())||g["$<<"](S),g["$<<"]("</body>"),g["$<<"]("</html>"),g.$join(N("LF"))})),a(I,"$convert_embedded",(function(e){var t=C,n=C,r=C;return t=[],s(e.$doctype(),"manpage")?(c(e.$notitle())||(n=c(e.$id())?' id="'+e.$id()+'"':"",t["$<<"]("<h1"+n+">"+e.$doctitle()+" Manual Page</h1>")),c(e["$attr?"]("manpurpose"))&&t["$<<"](this.$generate_manname_section(e))):c(e["$header?"]())&&d(e.$notitle())&&(n=c(e.$id())?' id="'+e.$id()+'"':"",t["$<<"]("<h1"+n+">"+e.$header().$title()+"</h1>")),c(e["$sections?"]())&&c(e["$attr?"]("toc"))&&p(r=e.$attr("toc-placement"),"macro")&&p(r,"preamble")&&t["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+e.$converter().$convert(e,"outline")+"\n</div>"),t["$<<"](e.$content()),c(e["$footnotes?"]())&&d(e["$attr?"]("nofootnotes"))&&(t["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),$(e.$footnotes(),"each",[],(function(e){return null==e&&(e=C),t["$<<"]('<div class="footnote" id="_footnotedef_'+e.$index()+'">\n<a href="#_footnoteref_'+e.$index()+'">'+e.$index()+"</a>. "+e.$text()+"\n</div>")})),t["$<<"]("</div>")),t.$join(N("LF"))})),a(I,"$convert_outline",(function(e,t){var n,r,o=C,a=C,l=C,u=C;return null==t&&(t=i([],{})),c(e["$sections?"]())?(n=c(o=t["$[]"]("sectnumlevels"))?o:(c(a=e.$document().$attributes()["$[]"]("sectnumlevels"))?a:3).$to_i(),r=c(o=t["$[]"]("toclevels"))?o:(c(a=e.$document().$attributes()["$[]"]("toclevels"))?a:2).$to_i(),l=e.$sections(),u=['<ul class="sectlevel'+l["$[]"](0).$level()+'">'],$(l,"each",[],(function t(o){var a,l=null==t.$$s?this:t.$$s,$=C,_=C,f=C;if(null==o&&(o=C),a=o.$level(),c(o.$caption()))$=o.$captioned_title();else if(c(o.$numbered())&&c(h(a,n)))if(c(m(a,2))&&s(e.$document().$doctype(),"book"))switch(o.$sectname()){case"chapter":$=(c(_=e.$document().$attributes()["$[]"]("chapter-signifier"))?_+" ":"")+o.$sectnum()+" "+o.$title();break;case"part":$=(c(_=e.$document().$attributes()["$[]"]("part-signifier"))?_+" ":"")+o.$sectnum(C,":")+" "+o.$title();break;default:$=o.$sectnum()+" "+o.$title()}else $=o.$sectnum()+" "+o.$title();else $=o.$title();return c($["$include?"]("<a"))&&($=$.$gsub(N("DropAnchorRx"),"")),c(m(a,r))&&c(f=l.$convert_outline(o,i(["toclevels","sectnumlevels"],{toclevels:r,sectnumlevels:n})))?(u["$<<"]('<li><a href="#'+o.$id()+'">'+$+"</a>"),u["$<<"](f),u["$<<"]("</li>")):u["$<<"]('<li><a href="#'+o.$id()+'">'+$+"</a></li>")}),{$$s:this}),u["$<<"]("</ul>"),u.$join(N("LF"))):C}),-2),a(I,"$convert_section",(function(e){var t,n=C,r=C,i=C,o=C,a=C,l=C,u=C;if(n=e.$document().$attributes(),t=e.$level(),c(e.$caption()))r=e.$captioned_title();else if(c(e.$numbered())&&c(h(t,(c(i=n["$[]"]("sectnumlevels"))?i:3).$to_i())))if(c(m(t,2))&&s(e.$document().$doctype(),"book"))switch(e.$sectname()){case"chapter":r=(c(o=n["$[]"]("chapter-signifier"))?o+" ":"")+e.$sectnum()+" "+e.$title();break;case"part":r=(c(o=n["$[]"]("part-signifier"))?o+" ":"")+e.$sectnum(C,":")+" "+e.$title();break;default:r=e.$sectnum()+" "+e.$title()}else r=e.$sectnum()+" "+e.$title();else r=e.$title();return c(e.$id())?(a=' id="'+(l=e.$id())+'"',c(n["$[]"]("sectlinks"))&&(r='<a class="link" href="#'+l+'">'+r+"</a>"),c(n["$[]"]("sectanchors"))&&(r=s(n["$[]"]("sectanchors"),"after")?r+'<a class="anchor" href="#'+l+'"></a>':'<a class="anchor" href="#'+l+'"></a>'+r)):a="",s(t,0)?"<h1"+a+' class="sect0'+(c(u=e.$role())?" "+u:"")+'">'+r+"</h1>\n"+e.$content():'<div class="sect'+t+(c(u=e.$role())?" "+u:"")+'">\n<h'+f(t,1)+a+">"+r+"</h"+f(t,1)+">\n"+(s(t,1)?'<div class="sectionbody">\n'+e.$content()+"\n</div>":e.$content())+"\n</div>"})),a(I,"$convert_admonition",(function(e){var t,n,r,i,o;return t=c(e.$id())?' id="'+e.$id()+'"':"",n=e.$attr("name"),r=c(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":"",o=c(e.$document()["$attr?"]("icons"))?c(e.$document()["$attr?"]("icons","font"))&&d(e["$attr?"]("icon"))?'<i class="fa icon-'+n+'" title="'+e.$attr("textlabel")+'"></i>':'<img src="'+e.$icon_uri(n)+'" alt="'+e.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+e.$attr("textlabel")+"</div>","<div"+t+' class="admonitionblock '+n+(c(i=e.$role())?" "+i:"")+'">\n<table>\n<tr>\n<td class="icon">\n'+o+'\n</td>\n<td class="content">\n'+r+e.$content()+"\n</td>\n</tr>\n</table>\n</div>"})),a(I,"$convert_audio",(function(e){var t,n,r,i,o,s,a,l=this,u=C;return t=l.xml_mode,n=c(e.$id())?' id="'+e.$id()+'"':"",r=' class="'+["audioblock",e.$role()].$compact().$join(" ")+'"',i=c(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":"",o=e.$attr("start"),s=e.$attr("end"),a=c(o)||c(s)?"#t="+(c(u=o)?u:"")+(c(s)?","+s:""):"","<div"+n+r+">\n"+i+'<div class="content">\n<audio src="'+e.$media_uri(e.$attr("target"))+a+'"'+(c(e["$option?"]("autoplay"))?l.$append_boolean_attribute("autoplay",t):"")+(c(e["$option?"]("nocontrols"))?"":l.$append_boolean_attribute("controls",t))+(c(e["$option?"]("loop"))?l.$append_boolean_attribute("loop",t):"")+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"})),a(I,"$convert_colist",(function(e){var t,n,r,i=C,o=C,s=C;return i=[],n=c(e.$id())?' id="'+e.$id()+'"':"",r=' class="'+["colist",e.$style(),e.$role()].$compact().$join(" ")+'"',i["$<<"]("<div"+n+r+">"),c(e["$title?"]())&&i["$<<"]('<div class="title">'+e.$title()+"</div>"),c(e.$document()["$attr?"]("icons"))?(i["$<<"]("<table>"),t=[e.$document()["$attr?"]("icons","font"),0],o=t[0],s=t[1],$(e.$items(),"each",[],(function t(n){var r,a=null==t.$$s?this:t.$$s;return null==a.void_element_slash&&(a.void_element_slash=C),null==n&&(n=C),s=f(s,1),r=c(o)?'<i class="conum" data-value="'+s+'"></i><b>'+s+"</b>":'<img src="'+e.$icon_uri("callouts/"+s)+'" alt="'+s+'"'+a.void_element_slash+">",i["$<<"]("<tr>\n<td>"+r+"</td>\n<td>"+n.$text()+(c(n["$blocks?"]())?f(N("LF"),n.$content()):"")+"</td>\n</tr>")}),{$$s:this}),i["$<<"]("</table>")):(i["$<<"]("<ol>"),$(e.$items(),"each",[],(function(e){return null==e&&(e=C),i["$<<"]("<li>\n<p>"+e.$text()+"</p>"+(c(e["$blocks?"]())?f(N("LF"),e.$content()):"")+"\n</li>")})),i["$<<"]("</ol>")),i["$<<"]("</div>"),i.$join(N("LF"))})),a(I,"$convert_dlist",(function(e){var t,n,r=C,i=C,o=C,s=C,a=C;switch(r=[],t=c(e.$id())?' id="'+e.$id()+'"':"",e.$style()){case"qanda":i=["qlist","qanda",e.$role()];break;case"horizontal":i=["hdlist",e.$role()];break;default:i=["dlist",e.$style(),e.$role()]}switch(n=' class="'+i.$compact().$join(" ")+'"',r["$<<"]("<div"+t+n+">"),c(e["$title?"]())&&r["$<<"]('<div class="title">'+e.$title()+"</div>"),e.$style()){case"qanda":r["$<<"]("<ol>"),$(e.$items(),"each",[],(function(e,t){return null==e&&(e=C),null==t&&(t=C),r["$<<"]("<li>"),$(e,"each",[],(function(e){return null==e&&(e=C),r["$<<"]("<p><em>"+e.$text()+"</em></p>")})),c(t)&&(c(t["$text?"]())&&r["$<<"]("<p>"+t.$text()+"</p>"),c(t["$blocks?"]())&&r["$<<"](t.$content())),r["$<<"]("</li>")})),r["$<<"]("</ol>");break;case"horizontal":o=this.void_element_slash,r["$<<"]("<table>"),(c(e["$attr?"]("labelwidth"))||c(e["$attr?"]("itemwidth")))&&(r["$<<"]("<colgroup>"),s=c(e["$attr?"]("labelwidth"))?' style="width: '+e.$attr("labelwidth").$chomp("%")+'%;"':"",r["$<<"]("<col"+s+o+">"),s=c(e["$attr?"]("itemwidth"))?' style="width: '+e.$attr("itemwidth").$chomp("%")+'%;"':"",r["$<<"]("<col"+s+o+">"),r["$<<"]("</colgroup>")),$(e.$items(),"each",[],(function(t,n){var i=C;return null==t&&(t=C),null==n&&(n=C),r["$<<"]("<tr>"),r["$<<"]('<td class="hdlist1'+(c(e["$option?"]("strong"))?" strong":"")+'">'),i=!0,$(t,"each",[],(function(e){return null==e&&(e=C),c(i)||r["$<<"]("<br"+o+">"),r["$<<"](e.$text()),i=C})),r["$<<"]("</td>"),r["$<<"]('<td class="hdlist2">'),c(n)&&(c(n["$text?"]())&&r["$<<"]("<p>"+n.$text()+"</p>"),c(n["$blocks?"]())&&r["$<<"](n.$content())),r["$<<"]("</td>"),r["$<<"]("</tr>")})),r["$<<"]("</table>");break;default:r["$<<"]("<dl>"),a=c(e.$style())?"":' class="hdlist1"',$(e.$items(),"each",[],(function(e,t){return null==e&&(e=C),null==t&&(t=C),$(e,"each",[],(function(e){return null==e&&(e=C),r["$<<"]("<dt"+a+">"+e.$text()+"</dt>")})),c(t)?(r["$<<"]("<dd>"),c(t["$text?"]())&&r["$<<"]("<p>"+t.$text()+"</p>"),c(t["$blocks?"]())&&r["$<<"](t.$content()),r["$<<"]("</dd>")):C})),r["$<<"]("</dl>")}return r["$<<"]("</div>"),r.$join(N("LF"))})),a(I,"$convert_example",(function(e){var t,n=C,r=C,i=C,o=C;return t=c(e.$id())?' id="'+e.$id()+'"':"",c(e["$option?"]("collapsible"))?(n=c(e.$role())?' class="'+e.$role()+'"':"",r=c(e["$title?"]())?'<summary class="title">'+e.$title()+"</summary>":'<summary class="title">Details</summary>',"<details"+t+n+(c(e["$option?"]("open"))?" open":"")+">\n"+r+'\n<div class="content">\n'+e.$content()+"\n</div>\n</details>"):(i=c(e["$title?"]())?'<div class="title">'+e.$captioned_title()+"</div>\n":"","<div"+t+' class="exampleblock'+(c(o=e.$role())?" "+o:"")+'">\n'+i+'<div class="content">\n'+e.$content()+"\n</div>\n</div>")})),a(I,"$convert_floating_title",(function(e){var t;return"<"+(t="h"+f(e.$level(),1))+(c(e.$id())?' id="'+e.$id()+'"':"")+' class="'+[e.$style(),e.$role()].$compact().$join(" ")+'">'+e.$title()+"</"+t+">"})),a(I,"$convert_image",(function(e){var t,n,r,i=this,o=C,s=C,a=C,l=C,u=C;return o=e.$attr("target"),t=c(e["$attr?"]("width"))?' width="'+e.$attr("width")+'"':"",n=c(e["$attr?"]("height"))?' height="'+e.$attr("height")+'"':"",(c(e["$attr?"]("format","svg"))||c(o["$include?"](".svg")))&&c(m(e.$document().$safe(),O(N("SafeMode"),"SECURE")))?c(e["$option?"]("inline"))?s=c(a=i.$read_svg_contents(e,o))?a:'<span class="alt">'+e.$alt()+"</span>":c(e["$option?"]("interactive"))?(l=c(e["$attr?"]("fallback"))?'<img src="'+e.$image_uri(e.$attr("fallback"))+'" alt="'+i.$encode_attribute_value(e.$alt())+'"'+t+n+i.void_element_slash+">":'<span class="alt">'+e.$alt()+"</span>",s='<object type="image/svg+xml" data="'+e.$image_uri(o)+'"'+t+n+">"+l+"</object>"):s='<img src="'+e.$image_uri(o)+'" alt="'+i.$encode_attribute_value(e.$alt())+'"'+t+n+i.void_element_slash+">":s='<img src="'+e.$image_uri(o)+'" alt="'+i.$encode_attribute_value(e.$alt())+'"'+t+n+i.void_element_slash+">",c(e["$attr?"]("link"))&&(s='<a class="image" href="'+e.$attr("link")+'"'+i.$append_link_constraint_attrs(e).$join()+">"+s+"</a>"),r=c(e.$id())?' id="'+e.$id()+'"':"",u=["imageblock"],c(e["$attr?"]("float"))&&u["$<<"](e.$attr("float")),c(e["$attr?"]("align"))&&u["$<<"]("text-"+e.$attr("align")),c(e.$role())&&u["$<<"](e.$role()),"<div"+r+' class="'+u.$join(" ")+'">\n<div class="content">\n'+s+"\n</div>"+(c(e["$title?"]())?'\n<div class="title">'+e.$captioned_title()+"</div>":"")+"\n</div>"})),a(I,"$convert_listing",(function(e){var t,n,r,o,a=C,l=C,u=C,$=C,_=C,d=C,p=C;return t=c(a=e["$option?"]("nowrap"))?a:e.$document()["$attr?"]("prewrap")["$!"](),s(e.$style(),"source")?(l=e.$attr("language"),c(u=e.$document().$syntax_highlighter())?($=c(u["$highlight?"]())?i(["css_mode","style"],{css_mode:(c(a=(_=e.$document().$attributes())["$[]"](u.$name()+"-css"))?a:"class").$to_sym(),style:_["$[]"](u.$name()+"-style")}):i([],{}))["$[]="]("nowrap",t):(d='<pre class="highlight'+(c(t)?" nowrap":"")+'"><code'+(c(l)?' class="language-'+l+'" data-lang="'+l+'"':"")+">",p="</code></pre>")):(d="<pre"+(c(t)?' class="nowrap"':"")+">",p="</pre>"),n=c(e.$id())?' id="'+e.$id()+'"':"",r=c(e["$title?"]())?'<div class="title">'+e.$captioned_title()+"</div>\n":"","<div"+n+' class="listingblock'+(c(o=e.$role())?" "+o:"")+'">\n'+r+'<div class="content">\n'+(c(u)?u.$format(e,l,$):f(f(d,e.$content()),p))+"\n</div>\n</div>"})),a(I,"$convert_literal",(function(e){var t,n,r,i,o;return t=c(e.$id())?' id="'+e.$id()+'"':"",n=c(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":"",r=c(i=e.$document()["$attr?"]("prewrap")["$!"]())?i:e["$option?"]("nowrap"),"<div"+t+' class="literalblock'+(c(o=e.$role())?" "+o:"")+'">\n'+n+'<div class="content">\n<pre'+(c(r)?' class="nowrap"':"")+">"+e.$content()+"</pre>\n</div>\n</div>"})),a(I,"$convert_stem",(function(e){var t,n,r,i,o,a,l,u,_=C,f=C;return r=c(e.$id())?' id="'+e.$id()+'"':"",i=c(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":"",n=N("BLOCK_MATH_DELIMITERS")["$[]"](o=e.$style().$to_sym()),t=g(n),a=null==t[0]?C:t[0],l=null==t[1]?C:t[1],c(_=e.$content())?(s(o,"asciimath")&&c(_["$include?"](N("LF")))&&(f=N("LF")+"<br"+this.void_element_slash+">",_=$(_,"gsub",[N("StemBreakRx")],(function(){var e;return""+l+v(f,b(((e=y["~"])===C?C:e["$[]"](0)).$count(N("LF")),1))+N("LF")+a}))),c(_["$start_with?"](a))&&c(_["$end_with?"](l))||(_=""+a+_+l)):_="","<div"+r+' class="stemblock'+(c(u=e.$role())?" "+u:"")+'">\n'+i+'<div class="content">\n'+_+"\n</div>\n</div>"})),a(I,"$convert_olist",(function(e){var t,n,r,i,o,s,a=C;return a=[],t=c(e.$id())?' id="'+e.$id()+'"':"",n=' class="'+["olist",e.$style(),e.$role()].$compact().$join(" ")+'"',a["$<<"]("<div"+t+n+">"),c(e["$title?"]())&&a["$<<"]('<div class="title">'+e.$title()+"</div>"),r=c(i=e.$list_marker_keyword())?' type="'+i+'"':"",o=c(e["$attr?"]("start"))?' start="'+e.$attr("start")+'"':"",s=c(e["$option?"]("reversed"))?this.$append_boolean_attribute("reversed",this.xml_mode):"",a["$<<"]('<ol class="'+e.$style()+'"'+r+o+s+">"),$(e.$items(),"each",[],(function(e){return null==e&&(e=C),c(e.$id())?a["$<<"]('<li id="'+e.$id()+'"'+(c(e.$role())?' class="'+e.$role()+'"':"")+">"):c(e.$role())?a["$<<"]('<li class="'+e.$role()+'">'):a["$<<"]("<li>"),a["$<<"]("<p>"+e.$text()+"</p>"),c(e["$blocks?"]())&&a["$<<"](e.$content()),a["$<<"]("</li>")})),a["$<<"]("</ol>"),a["$<<"]("</div>"),a.$join(N("LF"))})),a(I,"$convert_open",(function(e){var t,n=C,r=C,i=C;return s(t=e.$style(),"abstract")?s(e.$parent(),e.$document())&&s(e.$document().$doctype(),"book")?(this.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(n=c(e.$id())?' id="'+e.$id()+'"':"",r=c(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":"","<div"+n+' class="quoteblock abstract'+(c(i=e.$role())?" "+i:"")+'">\n'+r+"<blockquote>\n"+e.$content()+"\n</blockquote>\n</div>"):s(t,"partintro")&&(c(_(e.$level(),0))||p(e.$parent().$context(),"section")||p(e.$document().$doctype(),"book"))?(this.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),""):(n=c(e.$id())?' id="'+e.$id()+'"':"",r=c(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":"","<div"+n+' class="openblock'+(c(t)&&p(t,"open")?" "+t:"")+(c(i=e.$role())?" "+i:"")+'">\n'+r+'<div class="content">\n'+e.$content()+"\n</div>\n</div>")})),a(I,"$convert_page_break",w('<div style="page-break-after: always;"></div>')),a(I,"$convert_paragraph",(function(e){var t;return t=c(e.$role())?(c(e.$id())?' id="'+e.$id()+'"':"")+' class="paragraph '+e.$role()+'"':c(e.$id())?' id="'+e.$id()+'" class="paragraph"':' class="paragraph"',c(e["$title?"]())?"<div"+t+'>\n<div class="title">'+e.$title()+"</div>\n<p>"+e.$content()+"</p>\n</div>":"<div"+t+">\n<p>"+e.$content()+"</p>\n</div>"})),x(I,"convert_pass","content_only"),a(I,"$convert_preamble",(function(e){var t,n=C;return t=c((n=e.$document())["$attr?"]("toc-placement","preamble"))&&c(n["$sections?"]())&&c(n["$attr?"]("toc"))?'\n<div id="toc" class="'+n.$attr("toc-class","toc")+'">\n<div id="toctitle">'+n.$attr("toc-title")+"</div>\n"+n.$converter().$convert(n,"outline")+"\n</div>":"",'<div id="preamble">\n<div class="sectionbody">\n'+e.$content()+"\n</div>"+t+"\n</div>"})),a(I,"$convert_quote",(function(e){var t,n,r,i,o,s=C,a=C;return t=c(e.$id())?' id="'+e.$id()+'"':"",n=' class="'+["quoteblock",e.$role()].$compact().$join(" ")+'"',r=c(e["$title?"]())?'\n<div class="title">'+e.$title()+"</div>":"",i=c(e["$attr?"]("attribution"))?e.$attr("attribution"):C,o=c(e["$attr?"]("citetitle"))?e.$attr("citetitle"):C,c(i)||c(o)?(s=c(o)?"<cite>"+o+"</cite>":"",a='\n<div class="attribution">\n'+(c(i)?"&#8212; "+i+(c(o)?"<br"+this.void_element_slash+">\n":""):"")+s+"\n</div>"):a="","<div"+t+n+">"+r+"\n<blockquote>\n"+e.$content()+"\n</blockquote>"+a+"\n</div>"})),a(I,"$convert_thematic_break",(function(e){return"<hr"+this.void_element_slash+">"})),a(I,"$convert_sidebar",(function(e){var t,n,r;return t=c(e.$id())?' id="'+e.$id()+'"':"",n=c(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":"","<div"+t+' class="sidebarblock'+(c(r=e.$role())?" "+r:"")+'">\n<div class="content">\n'+n+e.$content()+"\n</div>\n</div>"})),a(I,"$convert_table",(function(e){var t,n,r,i,o,a=C,l=C,u=C,p=C,h=C,m=C;return a=[],t=c(e.$id())?' id="'+e.$id()+'"':"",s(l=e.$attr("frame","all","table-frame"),"topbot")&&(l="ends"),u=["tableblock","frame-"+l,"grid-"+e.$attr("grid","all","table-grid")],c(n=e.$attr("stripes",C,"table-stripes"))&&u["$<<"]("stripes-"+n),p="",c(r=e["$option?"]("autowidth"))&&d(e["$attr?"]("width"))?u["$<<"]("fit-content"):s(h=e.$attr("tablepcwidth"),100)?u["$<<"]("stretch"):p=' style="width: '+h+'%;"',c(e["$attr?"]("float"))&&u["$<<"](e.$attr("float")),c(i=e.$role())&&u["$<<"](i),o=' class="'+u.$join(" ")+'"',a["$<<"]("<table"+t+o+p+">"),c(e["$title?"]())&&a["$<<"]('<caption class="title">'+e.$captioned_title()+"</caption>"),c(_(e.$attr("rowcount"),0))&&(m=this.void_element_slash,a["$<<"]("<colgroup>"),c(r)?a=f(a,N("Array").$new(e.$columns().$size(),"<col"+m+">")):$(e.$columns(),"each",[],(function(e){return null==e&&(e=C),a["$<<"](c(e["$option?"]("autowidth"))?"<col"+m+">":'<col style="width: '+e.$attr("colpcwidth")+'%;"'+m+">")})),a["$<<"]("</colgroup>"),$(e.$rows().$to_h(),"each",[],(function(t,n){return null==t&&(t=C),null==n&&(n=C),c(n["$empty?"]())?C:(a["$<<"]("<t"+t+">"),$(n,"each",[],(function(n){return null==n&&(n=C),a["$<<"]("<tr>"),$(n,"each",[],(function(n){var r,i,o,l,u,$=C;if(null==n&&(n=C),s(t,"head"))$=n.$text();else switch(n.$style()){case"asciidoc":$='<div class="content">'+n.$content()+"</div>";break;case"literal":$='<div class="literal"><pre>'+n.$text()+"</pre></div>";break;default:$=c(($=n.$content())["$empty?"]())?"":'<p class="tableblock">'+$.$join('</p>\n<p class="tableblock">')+"</p>"}return r=s(t,"head")||s(n.$style(),"header")?"th":"td",i=' class="tableblock halign-'+n.$attr("halign")+" valign-"+n.$attr("valign")+'"',o=c(n.$colspan())?' colspan="'+n.$colspan()+'"':"",l=c(n.$rowspan())?' rowspan="'+n.$rowspan()+'"':"",u=c(e.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+e.$document().$attr("cellbgcolor")+';"':"",a["$<<"]("<"+r+i+o+l+u+">"+$+"</"+r+">")})),a["$<<"]("</tr>")})),a["$<<"]("</t"+t+">"))}))),a["$<<"]("</table>"),a.$join(N("LF"))})),a(I,"$convert_toc",(function(e){var t,n,r=C,o=C,s=C;return c((r=e.$document())["$attr?"]("toc-placement","macro"))&&c(r["$sections?"]())&&c(r["$attr?"]("toc"))?(c(e.$id())?(o=' id="'+e.$id()+'"',s=' id="'+e.$id()+'title"'):(o=' id="toc"',s=' id="toctitle"'),t=c(e["$title?"]())?e.$title():r.$attr("toc-title"),n=c(e["$attr?"]("levels"))?e.$attr("levels").$to_i():C,"<div"+o+' class="'+(c(e["$role?"]())?e.$role():r.$attr("toc-class","toc"))+'">\n<div'+s+' class="title">'+t+"</div>\n"+r.$converter().$convert(r,"outline",i(["toclevels"],{toclevels:n}))+"\n</div>"):"\x3c!-- toc disabled --\x3e"})),a(I,"$convert_ulist",(function(e){var t,n,r=C,i=C,o=C,s=C,a=C;return r=[],t=c(e.$id())?' id="'+e.$id()+'"':"",i=["ulist",e.$style(),e.$role()].$compact(),o=s="",c(n=e["$option?"]("checklist"))?(i.$unshift(i.$shift(),"checklist"),a=' class="checklist"',c(e["$option?"]("interactive"))?c(this.xml_mode)?(o='<input type="checkbox" data-item-complete="1" checked="checked"/> ',s='<input type="checkbox" data-item-complete="0"/> '):(o='<input type="checkbox" data-item-complete="1" checked> ',s='<input type="checkbox" data-item-complete="0"> '):c(e.$document()["$attr?"]("icons","font"))?(o='<i class="fa fa-check-square-o"></i> ',s='<i class="fa fa-square-o"></i> '):(o="&#10003; ",s="&#10063; ")):a=c(e.$style())?' class="'+e.$style()+'"':"",r["$<<"]("<div"+t+' class="'+i.$join(" ")+'">'),c(e["$title?"]())&&r["$<<"]('<div class="title">'+e.$title()+"</div>"),r["$<<"]("<ul"+a+">"),$(e.$items(),"each",[],(function(e){return null==e&&(e=C),c(e.$id())?r["$<<"]('<li id="'+e.$id()+'"'+(c(e.$role())?' class="'+e.$role()+'"':"")+">"):c(e.$role())?r["$<<"]('<li class="'+e.$role()+'">'):r["$<<"]("<li>"),c(n)&&c(e["$attr?"]("checkbox"))?r["$<<"]("<p>"+(c(e["$attr?"]("checked"))?o:s)+e.$text()+"</p>"):r["$<<"]("<p>"+e.$text()+"</p>"),c(e["$blocks?"]())&&r["$<<"](e.$content()),r["$<<"]("</li>")})),r["$<<"]("</ul>"),r["$<<"]("</div>"),r.$join(N("LF"))})),a(I,"$convert_verse",(function(e){var t,n,r,i,o,s=C,a=C;return t=c(e.$id())?' id="'+e.$id()+'"':"",n=' class="'+["verseblock",e.$role()].$compact().$join(" ")+'"',r=c(e["$title?"]())?'\n<div class="title">'+e.$title()+"</div>":"",i=c(e["$attr?"]("attribution"))?e.$attr("attribution"):C,o=c(e["$attr?"]("citetitle"))?e.$attr("citetitle"):C,c(i)||c(o)?(s=c(o)?"<cite>"+o+"</cite>":"",a='\n<div class="attribution">\n'+(c(i)?"&#8212; "+i+(c(o)?"<br"+this.void_element_slash+">\n":""):"")+s+"\n</div>"):a="","<div"+t+n+">"+r+'\n<pre class="content">'+e.$content()+"</pre>"+a+"\n</div>"})),a(I,"$convert_video",(function(e){var t,n,r,i,o,s,a,l,u=this,$=C,_=C,f=C,d=C,p=C,h=C,m=C,v=C,b=C,y=C,w=C,x=C,k=C,E=C,A=C,S=C,O=C,T=C,I=C,R=C,N=C,L=C,z=C,D=C,F=C,M=C,q=C,B=C,j=C;switch(r=u.xml_mode,i=c(e.$id())?' id="'+e.$id()+'"':"",$=["videoblock"],c(e["$attr?"]("float"))&&$["$<<"](e.$attr("float")),c(e["$attr?"]("align"))&&$["$<<"]("text-"+e.$attr("align")),c(e.$role())&&$["$<<"](e.$role()),o=' class="'+$.$join(" ")+'"',s=c(e["$title?"]())?'\n<div class="title">'+e.$title()+"</div>":"",a=c(e["$attr?"]("width"))?' width="'+e.$attr("width")+'"':"",l=c(e["$attr?"]("height"))?' height="'+e.$attr("height")+'"':"",e.$attr("poster")){case"vimeo":return c((_=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(_+=":"),f=c(e["$attr?"]("start"))?"#at="+e.$attr("start"):"",d=["?"],n=e.$attr("target").$split("/",2),p=null==(t=g(n))[0]?C:t[0],h=null==t[1]?C:t[1],"<div"+i+o+">"+s+'\n<div class="content">\n<iframe'+a+l+' src="'+_+"//player.vimeo.com/video/"+p+(c(h=c(m=h)?m:e.$attr("hash"))?(c(m=d.$pop())?m:"&amp;")+"h="+h:"")+(v=c(e["$option?"]("autoplay"))?(c(m=d.$pop())?m:"&amp;")+"autoplay=1":"")+(b=c(e["$option?"]("loop"))?(c(m=d.$pop())?m:"&amp;")+"loop=1":"")+(c(e["$option?"]("muted"))?(c(m=d.$pop())?m:"&amp;")+"muted=1":"")+f+'" frameborder="0"'+(c(e["$option?"]("nofullscreen"))?"":u.$append_boolean_attribute("allowfullscreen",r))+"></iframe>\n</div>\n</div>";case"youtube":return c((_=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(_+=":"),y=c(e["$option?"]("related"))?1:0,w=c(e["$attr?"]("start"))?"&amp;start="+e.$attr("start"):"",x=c(e["$attr?"]("end"))?"&amp;end="+e.$attr("end"):"",v=c(e["$option?"]("autoplay"))?"&amp;autoplay=1":"",b=c(k=e["$option?"]("loop"))?"&amp;loop=1":"",E=c(e["$option?"]("muted"))?"&amp;mute=1":"",A=c(e["$option?"]("nocontrols"))?"&amp;controls=0":"",c(e["$option?"]("nofullscreen"))?(S="&amp;fs=0",O=""):(S="",O=u.$append_boolean_attribute("allowfullscreen",r)),T=c(e["$option?"]("modest"))?"&amp;modestbranding=1":"",I=c(e["$attr?"]("theme"))?"&amp;theme="+e.$attr("theme"):"",R=c(e["$attr?"]("lang"))?"&amp;hl="+e.$attr("lang"):"",n=e.$attr("target").$split("/",2),p=null==(t=g(n))[0]?C:t[0],N=null==t[1]?C:t[1],c(N=c(m=N)?m:e.$attr("list"))?L="&amp;list="+N:(n=p.$split(",",2),p=null==(t=g(n))[0]?C:t[0],z=null==t[1]?C:t[1],L=c(z=c(m=z)?m:e.$attr("playlist"))?"&amp;playlist="+p+","+z:c(k)?"&amp;playlist="+p:""),"<div"+i+o+">"+s+'\n<div class="content">\n<iframe'+a+l+' src="'+_+"//www.youtube.com/embed/"+p+"?rel="+y+w+x+v+b+E+A+L+S+T+I+R+'" frameborder="0"'+O+"></iframe>\n</div>\n</div>";default:return D=c((F=e.$attr("poster"))["$nil_or_empty?"]())?"":' poster="'+e.$media_uri(F)+'"',M=c((F=e.$attr("preload"))["$nil_or_empty?"]())?"":' preload="'+F+'"',q=e.$attr("start"),B=e.$attr("end"),j=c(q)||c(B)?"#t="+(c(m=q)?m:"")+(c(B)?","+B:""):"","<div"+i+o+">"+s+'\n<div class="content">\n<video src="'+e.$media_uri(e.$attr("target"))+j+'"'+a+l+D+(c(e["$option?"]("autoplay"))?u.$append_boolean_attribute("autoplay",r):"")+(c(e["$option?"]("muted"))?u.$append_boolean_attribute("muted",r):"")+(c(e["$option?"]("nocontrols"))?"":u.$append_boolean_attribute("controls",r))+(c(e["$option?"]("loop"))?u.$append_boolean_attribute("loop",r):"")+M+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}})),a(I,"$convert_inline_anchor",(function(e){var t=this,n=C,r=C,i=C,o=C,s=C,a=C,l=C,u=C,$=C;switch(e.$type()){case"xref":return c(n=e.$attributes()["$[]"]("path"))?(r=t.$append_link_constraint_attrs(e,c(e.$role())?[' class="'+e.$role()+'"']:[]).$join(),i=c(o=e.$text())?o:n):(r=c(e.$role())?' class="'+e.$role()+'"':"",c(i=e.$text())||(k(N("AbstractNode"),s=c(o=(t.refs=c(a=t.refs)?a:e.$document().$catalog()["$[]"]("refs"))["$[]"](l=e.$attributes()["$[]"]("refid")))?o:c(l["$nil_or_empty?"]())?u=t.$get_root_document(e):C)?c(t.resolving_xref=c(o=t.resolving_xref)?o:$=!0)&&c($)?(c(i=s.$xreftext(e.$attr("xrefstyle",C,!0)))?c(i["$include?"]("<a"))&&(i=i.$gsub(N("DropAnchorRx"),"")):i=c(u)?"[^top]":"["+l+"]",t.resolving_xref=C):i=c(u)?"[^top]":"["+l+"]":i="["+l+"]")),'<a href="'+e.$target()+'"'+r+">"+i+"</a>";case"ref":return'<a id="'+e.$id()+'"></a>';case"link":return r=c(e.$id())?[' id="'+e.$id()+'"']:[],c(e.$role())&&r["$<<"](' class="'+e.$role()+'"'),c(e["$attr?"]("title"))&&r["$<<"](' title="'+e.$attr("title")+'"'),'<a href="'+e.$target()+'"'+t.$append_link_constraint_attrs(e,r).$join()+">"+e.$text()+"</a>";case"bibref":return'<a id="'+e.$id()+'"></a>['+(c(o=e.$reftext())?o:e.$id())+"]";default:return t.$logger().$warn("unknown anchor type: "+e.$type().$inspect()),C}})),a(I,"$convert_inline_break",(function(e){return e.$text()+"<br"+this.void_element_slash+">"})),a(I,"$convert_inline_button",(function(e){return'<b class="button">'+e.$text()+"</b>"})),a(I,"$convert_inline_callout",(function(e){var t=C;return c(e.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+e.$text()+'"></i><b>('+e.$text()+")</b>":c(e.$document()["$attr?"]("icons"))?'<img src="'+e.$icon_uri("callouts/"+e.$text())+'" alt="'+e.$text()+'"'+this.void_element_slash+">":k(O("Array"),t=e.$attributes()["$[]"]("guard"))?'&lt;!--<b class="conum">('+e.$text()+")</b>--&gt;":t+'<b class="conum">('+e.$text()+")</b>"})),a(I,"$convert_inline_footnote",(function(e){var t;return c(t=e.$attr("index"))?s(e.$type(),"xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+t+'" title="View footnote.">'+t+"</a>]</sup>":'<sup class="footnote"'+(c(e.$id())?' id="_footnote_'+e.$id()+'"':"")+'>[<a id="_footnoteref_'+t+'" class="footnote" href="#_footnotedef_'+t+'" title="View footnote.">'+t+"</a>]</sup>":s(e.$type(),"xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+e.$text()+"]</sup>":C})),a(I,"$convert_inline_image",(function(e){var t,n,r=this,i=C,o=C,a=C,l=C,u=C,$=C,_=C,f=C;return i=e.$target(),s(t=c(o=e.$type())?o:"image","icon")?s(a=e.$document().$attr("icons"),"font")?(l="fa fa-"+i,c(e["$attr?"]("size"))&&(l=l+" fa-"+e.$attr("size")),c(e["$attr?"]("flip"))?l=l+" fa-flip-"+e.$attr("flip"):c(e["$attr?"]("rotate"))&&(l=l+" fa-rotate-"+e.$attr("rotate")),$='<i class="'+l+'"'+(u=c(e["$attr?"]("title"))?' title="'+e.$attr("title")+'"':"")+"></i>"):c(a)?(u=c(e["$attr?"]("width"))?' width="'+e.$attr("width")+'"':"",c(e["$attr?"]("height"))&&(u=u+' height="'+e.$attr("height")+'"'),c(e["$attr?"]("title"))&&(u=u+' title="'+e.$attr("title")+'"'),$='<img src="'+e.$icon_uri(i)+'" alt="'+r.$encode_attribute_value(e.$alt())+'"'+u+r.void_element_slash+">"):$="["+e.$alt()+"&#93;":(u=c(e["$attr?"]("width"))?' width="'+e.$attr("width")+'"':"",c(e["$attr?"]("height"))&&(u=u+' height="'+e.$attr("height")+'"'),c(e["$attr?"]("title"))&&(u=u+' title="'+e.$attr("title")+'"'),(c(e["$attr?"]("format","svg"))||c(i["$include?"](".svg")))&&c(m(e.$document().$safe(),O(N("SafeMode"),"SECURE")))?c(e["$option?"]("inline"))?$=c(o=r.$read_svg_contents(e,i))?o:'<span class="alt">'+e.$alt()+"</span>":c(e["$option?"]("interactive"))?(_=c(e["$attr?"]("fallback"))?'<img src="'+e.$image_uri(e.$attr("fallback"))+'" alt="'+r.$encode_attribute_value(e.$alt())+'"'+u+r.void_element_slash+">":'<span class="alt">'+e.$alt()+"</span>",$='<object type="image/svg+xml" data="'+e.$image_uri(i)+'"'+u+">"+_+"</object>"):$='<img src="'+e.$image_uri(i)+'" alt="'+r.$encode_attribute_value(e.$alt())+'"'+u+r.void_element_slash+">":$='<img src="'+e.$image_uri(i)+'" alt="'+r.$encode_attribute_value(e.$alt())+'"'+u+r.void_element_slash+">"),c(e["$attr?"]("link"))&&($='<a class="image" href="'+e.$attr("link")+'"'+r.$append_link_constraint_attrs(e).$join()+">"+$+"</a>"),f=t,c(n=e.$role())?f=c(e["$attr?"]("float"))?f+" "+e.$attr("float")+" "+n:f+" "+n:c(e["$attr?"]("float"))&&(f=f+" "+e.$attr("float")),'<span class="'+f+'">'+$+"</span>"})),a(I,"$convert_inline_indexterm",(function(e){return s(e.$type(),"visible")?e.$text():""})),a(I,"$convert_inline_kbd",(function(e){var t=C;return s((t=e.$attr("keys")).$size(),1)?"<kbd>"+t["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+t.$join("</kbd>+<kbd>")+"</kbd></span>"})),a(I,"$convert_inline_menu",(function(e){var t,n,r,i=C,o=C;return n="</b>"+(t=c(e.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ')+'<b class="submenu">',r=e.$attr("menu"),c((i=e.$attr("submenus"))["$empty?"]())?c(o=e.$attr("menuitem"))?'<span class="menuseq"><b class="menu">'+r+"</b>"+t+'<b class="menuitem">'+o+"</b></span>":'<b class="menuref">'+r+"</b>":'<span class="menuseq"><b class="menu">'+r+"</b>"+t+'<b class="submenu">'+i.$join(n)+"</b>"+t+'<b class="menuitem">'+e.$attr("menuitem")+"</b></span>"})),a(I,"$convert_inline_quoted",(function(e){var t,n,r,i,o=C,s=C;return n=N("QUOTE_TAGS")["$[]"](e.$type()),o=null==(t=g(n))[0]?C:t[0],r=null==t[1]?C:t[1],i=null==t[2]?C:t[2],c(e.$id())?(s=c(e.$role())?' class="'+e.$role()+'"':"",c(i)?o.$chop()+' id="'+e.$id()+'"'+s+">"+e.$text()+r:'<span id="'+e.$id()+'"'+s+">"+o+e.$text()+r+"</span>"):c(e.$role())?c(i)?o.$chop()+' class="'+e.$role()+'">'+e.$text()+r:'<span class="'+e.$role()+'">'+o+e.$text()+r+"</span>":""+o+e.$text()+r})),a(I,"$read_svg_contents",(function(t,n){var r=C,o=C,a=C,l=C;if(c(r=t.$read_contents(n,i(["start","normalize","label","warn_if_empty"],{start:t.$document().$attr("imagesdir"),normalize:!0,label:"SVG",warn_if_empty:!0})))){if(c(r["$empty?"]()))return C;c(r["$start_with?"]("<svg"))||(r=r.$sub(N("SvgPreambleRx"),"")),o=a=l=C,$(["width","height"],"each",[],(function(e){var n=C,i=C;if(null==e&&(e=C),!c(t["$attr?"](e)))return C;if(!c(a)){if(s(l=c(n=l)?n:c(i=r.$match(N("SvgStartTagRx")))?i:"no_match","no_match"))return C;a=(o=l["$[]"](0)).$gsub(N("DimensionAttributeRx"),"")}return a=a.$chop()+" "+e+'="'+t.$attr(e)+'">'})),c(a)&&(r=""+a+r["$[]"](e.Range.$new(o.$length(),-1,!1)))}return r})),I.$private(),a(I,"$append_boolean_attribute",(function(e,t){return c(t)?" "+e+'="'+e+'"':" "+e})),a(I,"$append_link_constraint_attrs",(function(e,t){var n,r=C;return null==t&&(t=[]),c(e["$option?"]("nofollow"))&&(r="nofollow"),c(n=e.$attributes()["$[]"]("window"))?(t["$<<"](' target="'+n+'"'),(s(n,"_blank")||c(e["$option?"]("noopener")))&&t["$<<"](c(r)?' rel="'+r+' noopener"':' rel="noopener"')):c(r)&&t["$<<"](' rel="'+r+'"'),t}),-2),a(I,"$encode_attribute_value",(function(e){return c(e["$include?"]('"'))?e.$gsub('"',"&quot;"):e})),a(I,"$generate_manname_section",(function(e){var t,n=C,r=C,i=C;return n=e.$attr("manname-title","Name"),c(i=e.$sections()["$[]"](0))&&s(r=i.$title(),r.$upcase())&&(n=n.$upcase()),"<h2"+(c(t=e.$attr("manname-id"))?' id="'+t+'"':"")+">"+n+'</h2>\n<div class="sectionbody">\n<p>'+e.$attr("mannames").$join(", ")+" - "+e.$attr("manpurpose")+"</p>\n</div>"})),a(I,"$get_root_document",(function(e){for(;c((e=e.$document())["$nested?"]());)e=e.$parent_document();return e})),a(I,"$method_missing",(function e(t,n){var r,i=e.$$p||C,o=this,s=C;return e.$$p=null,r=E(arguments,1),d((s=t.$to_s())["$start_with?"]("convert_"))&&c(o["$handles?"](s))?$(o,"send",["convert_"+s].concat(A(r))):l(o,u(o,"method_missing",e,!1,!0),"method_missing",[t].concat(A(r)),i)}),-2),a(I,"$respond_to_missing?",(function(e,t){var n,r=C;return E(arguments,1),c(n=(r=e.$to_s())["$start_with?"]("convert_")["$!"]())?this["$handles?"](r):n}),-2)}(R("Converter"),O(R("Converter"),"Base"),I)}(S[0],S)},Opal.modules["asciidoctor/extensions"]=function(e){var t=e.module,n=e.klass,r=e.truthy,i=e.hash2,o=e.def,s=e.send,a=e.alias,l=e.slice,u=e.rb_plus,c=e.eqeq,$=e.rb_gt,_=e.not,f=e.eqeqeq,d=e.to_a,p=e.to_ary,h=e.const_set,m=e.return_val,g=e.send2,v=e.find_super,b=e.NilClass,y=e.class_variable_set,w=e.class_variable_get,x=e.regexp,k=e.Class,E=e.return_ivar,A=e.rb_lt,S=e.rb_minus,C=e.hash,O=[],T=e.nil,I=e.$$$;return e.add_stubs("[]=,config,const_defined?,singleton_class?,include,const_get,extend,enable_dsl,attr_reader,merge,class,update,raise,document,==,doctype,[],+,level,delete,>,casecmp,new,title=,sectname=,special=,fetch,numbered=,attr?,!,key?,special,numbered,id=,generate_id,title,update_attributes,tr,basename,create_block,assign_caption,===,parse_blocks,empty?,include?,sub_attributes,parse,each,define_method,unshift,shift,send,size,receiver,binding,define_singleton_method,instance_exec,to_proc,call,option,content_model,flatten,positional_attributes,default_attributes,respond_to?,to_s,partition,to_i,<<,compact,inspect,resolve_attributes,attr_accessor,to_set,contexts,match?,resolve_regexp,format,method,register,reset,values,groups,arity,activate,add_document_processor,tree_processor,tree_processors?,tree_processors,any?,select,add_syntax_processor,to_sym,instance_variable_get,kind,private,join,map,split,capitalize,instance_variable_set,resolve_args,singleton_class,process_block_given?,source_location,freeze,resolve_class,<,update_config,as_symbol,name,name=,pop,-,-@,next_auto_id,generate_name,each_with_object"),function(O,R){var N=[t(O,"Asciidoctor")].concat(R);return function(O,R){var N=t(O,"Extensions"),L=[N].concat(R),z=e.$r(L);return function(t,p,h){var m=n(t,null,"Processor"),g=[m].concat(h),v=e.$r(g);m.$$prototype.config=T,function(e,t){o(e,"$config",(function(){var e,t=this;return null==t.config&&(t.config=T),t.config=r(e=t.config)?e:i([],{})})),o(e,"$option",(function(e,t){var n;return n=[e,t],s(this.$config(),"[]=",n),n[n.length-1]})),o(e,"$enable_dsl",(function(){var e=this;return r(e["$const_defined?"]("DSL"))?r(e["$singleton_class?"]())?e.$include(e.$const_get("DSL")):e.$extend(e.$const_get("DSL")):T})),a(e,"use_dsl","enable_dsl")}(e.get_singleton_class(m)),m.$attr_reader("config"),o(m,"$initialize",(function(e){return null==e&&(e=i([],{})),this.config=this.$class().$config().$merge(e)}),-1),o(m,"$update_config",(function(e){return this.config.$update(e)})),o(m,"$process",(function(e){return l(arguments),this.$raise(I("NotImplementedError"),v("Processor")+" subclass "+this.$class()+" must implement the #process method")}),-1),o(m,"$create_section",(function(e,t,n,o){var a,l,f,d,p=T,h=T,m=T,g=T,b=T,y=T,w=T,x=T;return null==o&&(o=i([],{})),f=(h=(p=e.$document()).$doctype())["$=="]("book"),m=r(g=o["$[]"]("level"))?g:u(e.$level(),1),r(b=n.$delete("style"))?r(f)&&c(b,"abstract")?(y=(a=["chapter",1])[0],m=a[1]):(y=(a=[b,!0])[0],w=a[1],c(m,0)&&(m=1)):r(f)?y=c(m,0)?"part":r($(m,1))?"section":"chapter":c(h,"manpage")&&c(t.$casecmp("synopsis"),0)?(y=(a=["synopsis",!0])[0],w=a[1]):y="section",x=v("Section").$new(e,m),l=[(a=[t,y])[0]],s(x,"title=",l),l[l.length-1],l=[a[1]],s(x,"sectname=",l),l[l.length-1],r(w)?(x["$special="](!0),r(o.$fetch("numbered",b["$=="]("appendix")))?x["$numbered="](!0):_(o["$key?"]("numbered"))&&r(p["$attr?"]("sectnums","all"))&&x["$numbered="](!r(f)||!c(m,1)||"chapter")):r($(m,0))?r(o.$fetch("numbered",p["$attr?"]("sectnums")))&&x["$numbered="](!r(x.$special())||r(g=e.$numbered())||g):r(o.$fetch("numbered",r(g=f)?p["$attr?"]("partnums"):g))&&x["$numbered="](!0),c(d=n["$[]"]("id"),!1)?n.$delete("id"):x["$id="]((a=["id",r(g=d)?g:r(p["$attr?"]("sectids"))?v("Section").$generate_id(x.$title(),p):T],s(n,"[]=",a),a[a.length-1])),x.$update_attributes(n),x}),-4),o(m,"$create_block",(function(e,t,n,r,o){return null==o&&(o=i([],{})),v("Block").$new(e,t,i(["source","attributes"],{source:n,attributes:r}).$merge(o))}),-5),o(m,"$create_list",(function(e,t,n){var i=T;return null==n&&(n=T),i=v("List").$new(e,t),r(n)&&i.$update_attributes(n),i}),-3),o(m,"$create_list_item",(function(e,t){return null==t&&(t=T),v("ListItem").$new(e,t)}),-2),o(m,"$create_image_block",(function(e,t,n){var o,a,l,u=T;return null==n&&(n=i([],{})),r(a=t["$[]"]("target"))||this.$raise(I("ArgumentError"),"Unable to create an image block, target attribute is required"),r(t["$[]"]("alt"))||t["$[]="]("alt",(o=["default-alt",v("Helpers").$basename(a,!0).$tr("_-"," ")],s(t,"[]=",o),o[o.length-1])),l=r(t["$key?"]("title"))?t.$delete("title"):T,u=this.$create_block(e,"image",T,t,n),r(l)&&(u["$title="](l),u.$assign_caption(t.$delete("caption"),"figure")),u}),-3),o(m,"$create_inline",(function(e,t,n,r){return null==r&&(r=i([],{})),v("Inline").$new(e,t,n,c(t,"quoted")?i(["type"],{type:"unquoted"}).$merge(r):r)}),-4),o(m,"$parse_content",(function(e,t,n){var r;return null==n&&(n=T),r=f(v("Reader"),t)?t:v("Reader").$new(t),v("Parser").$parse_blocks(r,e,n),e}),-3),o(m,"$parse_attributes",(function(e,t,n){var o;return null==n&&(n=i([],{})),r(!r(t)||t["$empty?"]())?i([],{}):(r(n["$[]"]("sub_attributes"))&&r(t["$include?"](v("ATTR_REF_HEAD")))&&(t=e.$sub_attributes(t)),v("AttributeList").$new(t).$parse(r(o=n["$[]"]("positional_attributes"))?o:[]))}),-3),s([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"],["create_inline_pass","create_inline","quoted"]],"each",[],(function e(t,n,r){var i=null==e.$$s?this:e.$$s;return null==t&&(t=T),null==n&&(n=T),null==r&&(r=T),s(i,"define_method",[t],(function e(t){var i,o=null==e.$$s?this:e.$$s;return(i=l(arguments)).$unshift(i.$shift(),r),s(o,"send",[n].concat(d(i)))}),{$$arity:-1,$$s:i})}),{$$s:m})}(L[0],0,L),function(e){var n=t(e,"ProcessorDsl");o(n,"$option",(function(e,t){var n;return n=[e,t],s(this.$config(),"[]=",n),n[n.length-1]})),o(n,"$process",(function e(t){var n,i,o=e.$$p||T,a=this,u=T;return null==a.process_block&&(a.process_block=T),e.$$p=null,n=l(arguments),o!==T?(r(n["$empty?"]())||a.$raise(I("ArgumentError"),"wrong number of arguments (given "+n.$size()+", expected 0)"),r(o.$binding())&&c(a,o.$binding().$receiver())||(u=a,s(o,"define_singleton_method",["call"],(function(e){var t;return t=l(arguments),s(u,"instance_exec",d(t),o.$to_proc())}),-1)),a.process_block=o):r(null!=(i=a.process_block)&&i!==T?"instance-variable":T)?s(a.process_block,"call",d(n)):a.$raise(I("NotImplementedError"),a.$class()+" #process method called before being registered")}),-1),o(n,"$process_block_given?",(function(){var e;return null!=(e=this.process_block)&&e!==T?"instance-variable":T}))}(L[0]),function(n,r){var i=t(n,"DocumentProcessorDsl"),s=[i].concat(r),a=e.$r(s);i.$include(a("ProcessorDsl")),o(i,"$prefer",(function(){return this.$option("position",">>")}))}(L[0],L),function(n,u){var _=t(n,"SyntaxProcessorDsl"),d=[_].concat(u),h=e.$r(d);_.$include(h("ProcessorDsl")),o(_,"$named",(function(e){var t=this;return f(h("Processor"),t)?t.name=e:t.$option("name",e)})),o(_,"$content_model",(function(e){return this.$option("content_model",e)})),a(_,"parse_content_as","content_model"),o(_,"$positional_attributes",(function(e){var t;return t=l(arguments),this.$option("positional_attrs",t.$flatten())}),-1),a(_,"name_positional_attributes","positional_attributes"),a(_,"positional_attrs","positional_attributes"),o(_,"$default_attributes",(function(e){return this.$option("default_attrs",e)})),a(_,"default_attrs","default_attributes"),o(_,"$resolve_attributes",(function(e){var t,n,o,a,u=this,_=T,d=T;return t=l(arguments),r($((n=t).$size(),1))||r((n=n.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(n=[n]),f(!0,a=n)?(u.$option("positional_attrs",[]),u.$option("default_attrs",i([],{}))):f(I("Array"),a)?(o=[[],i([],{})],_=o[0],d=o[1],s(n,"each",[],(function(e){var t,n,i=T,o=T,a=T;return null==e&&(e=T),r((e=e.$to_s())["$include?"]("="))?(n=e.$partition("="),i=null==(t=p(n))[0]?T:t[0],null==t[1]||t[1],o=null==t[2]?T:t[2],r(i["$include?"](":"))&&(n=i.$partition(":"),a=null==(t=p(n))[0]?T:t[0],null==t[1]||t[1],i=null==t[2]?T:t[2],a=c(a,"@")?_.$size():a.$to_i(),_["$[]="](a,i)),s(d,"[]=",t=[i,o]),t[t.length-1]):r(e["$include?"](":"))?(n=e.$partition(":"),a=null==(t=p(n))[0]?T:t[0],null==t[1]||t[1],i=null==t[2]?T:t[2],a=c(a,"@")?_.$size():a.$to_i(),s(_,"[]=",t=[a,i]),t[t.length-1]):_["$<<"](e)})),u.$option("positional_attrs",_.$compact()),u.$option("default_attrs",d)):f(I("Hash"),a)?(o=[[],i([],{})],_=o[0],d=o[1],s(n,"each",[],(function(e,t){var n,i,o=T,a=T;return null==e&&(e=T),null==t&&(t=T),r((o=e.$to_s())["$include?"](":"))&&(i=o.$partition(":"),a=null==(n=p(i))[0]?T:n[0],null==n[1]||n[1],o=null==n[2]?T:n[2],a=c(a,"@")?_.$size():a.$to_i(),_["$[]="](a,o)),r(t)?(s(d,"[]=",n=[o,t]),n[n.length-1]):T})),u.$option("positional_attrs",_.$compact()),u.$option("default_attrs",d)):u.$raise(I("ArgumentError"),"unsupported attributes specification for macro: "+n.$inspect())}),-1),a(_,"resolves_attributes","resolve_attributes")}(L[0],L),function(t,r,i){var s=n(t,r,"Preprocessor"),a=[s].concat(i),l=e.$r(a);o(s,"$process",(function(e,t){return this.$raise(I("NotImplementedError"),l("Preprocessor")+" subclass "+this.$class()+" must implement the #process method")}))}(L[0],z("Processor"),L),h(z("Preprocessor"),"DSL",z("DocumentProcessorDsl")),function(t,r,i){var s=n(t,r,"TreeProcessor"),a=[s].concat(i),l=e.$r(a);o(s,"$process",(function(e){return this.$raise(I("NotImplementedError"),l("TreeProcessor")+" subclass "+this.$class()+" must implement the #process method")}))}(L[0],z("Processor"),L),h(z("TreeProcessor"),"DSL",z("DocumentProcessorDsl")),h(L[0],"Treeprocessor",z("TreeProcessor")),function(t,r,i){var s=n(t,r,"Postprocessor"),a=[s].concat(i),l=e.$r(a);o(s,"$process",(function(e,t){return this.$raise(I("NotImplementedError"),l("Postprocessor")+" subclass "+this.$class()+" must implement the #process method")}))}(L[0],z("Processor"),L),h(z("Postprocessor"),"DSL",z("DocumentProcessorDsl")),function(t,r,i){var s=n(t,r,"IncludeProcessor"),a=[s].concat(i),l=e.$r(a);o(s,"$process",(function(e,t,n,r){return this.$raise(I("NotImplementedError"),l("IncludeProcessor")+" subclass "+this.$class()+" must implement the #process method")})),o(s,"$handles?",m(!0))}(L[0],z("Processor"),L),function(n,i){var s=t(n,"IncludeProcessorDsl"),a=[s].concat(i),u=e.$r(a);s.$include(u("DocumentProcessorDsl")),o(s,"$handles?",(function e(t){var n,i,o=e.$$p||T,s=this;return null==s.handles_block&&(s.handles_block=T),e.$$p=null,n=l(arguments),o!==T?(r(n["$empty?"]())||s.$raise(I("ArgumentError"),"wrong number of arguments (given "+n.$size()+", expected 0)"),s.handles_block=o):!r((i=s.handles_block,null!=i&&i!==T?"instance-variable":T))||s.handles_block.$call(n["$[]"](0))}),-1)}(L[0],L),h(z("IncludeProcessor"),"DSL",z("IncludeProcessorDsl")),function(t,a,l){var u=n(t,a,"DocinfoProcessor"),c=[u].concat(l),$=e.$r(c);u.$$prototype.config=T,o(u,"$initialize",(function e(t){var n,o,a=this;return e.$$p=null,null==t&&(t=i([],{})),g(a,v(a,"initialize",e,!1,!0),"initialize",[t],null),r(o=a.config["$[]"]("location"))?o:(n=["location","head"],s(a.config,"[]=",n),n[n.length-1])}),-1),o(u,"$process",(function(e){return this.$raise(I("NotImplementedError"),$("DocinfoProcessor")+" subclass "+this.$class()+" must implement the #process method")}))}(L[0],z("Processor"),L),function(n,r){var i=t(n,"DocinfoProcessorDsl"),s=[i].concat(r),a=e.$r(s);i.$include(a("DocumentProcessorDsl")),o(i,"$at_location",(function(e){return this.$option("location",e)}))}(L[0],L),h(z("DocinfoProcessor"),"DSL",z("DocinfoProcessorDsl")),function(t,a,l){var u=n(t,a,"BlockProcessor"),c=[u].concat(l),$=e.$r(c);u.$$prototype.config=T,u.$attr_accessor("name"),o(u,"$initialize",(function e(t,n){var o,a=this,l=T;return e.$$p=null,null==t&&(t=T),null==n&&(n=i([],{})),g(a,v(a,"initialize",e,!1,!0),"initialize",[n],null),a.name=r(l=t)?l:a.config["$[]"]("name"),f(b,l=a.config["$[]"]("contexts"))?r(a.config["$[]"]("contexts"))||a.config["$[]="]("contexts",["open","paragraph"].$to_set()):f(I("Symbol"),l)?a.config["$[]="]("contexts",[a.config["$[]"]("contexts")].$to_set()):a.config["$[]="]("contexts",a.config["$[]"]("contexts").$to_set()),r(l=a.config["$[]"]("content_model"))?l:(o=["content_model","compound"],s(a.config,"[]=",o),o[o.length-1])}),-1),o(u,"$process",(function(e,t,n){return this.$raise(I("NotImplementedError"),$("BlockProcessor")+" subclass "+this.$class()+" must implement the #process method")}))}(L[0],z("Processor"),L),function(n,r){var i=t(n,"BlockProcessorDsl"),s=[i].concat(r),u=e.$r(s);i.$include(u("SyntaxProcessorDsl")),o(i,"$contexts",(function(e){var t;return t=l(arguments),this.$option("contexts",t.$flatten().$to_set())}),-1),a(i,"on_contexts","contexts"),a(i,"on_context","contexts"),a(i,"bind_to","contexts")}(L[0],L),h(z("BlockProcessor"),"DSL",z("BlockProcessorDsl")),function(t,a,l){var u=n(t,a,"MacroProcessor"),c=[u].concat(l),$=e.$r(c);u.$$prototype.config=T,u.$attr_accessor("name"),o(u,"$initialize",(function e(t,n){var o,a=this,l=T;return e.$$p=null,null==t&&(t=T),null==n&&(n=i([],{})),g(a,v(a,"initialize",e,!1,!0),"initialize",[n],null),a.name=r(l=t)?l:a.config["$[]"]("name"),r(l=a.config["$[]"]("content_model"))?l:(o=["content_model","attributes"],s(a.config,"[]=",o),o[o.length-1])}),-1),o(u,"$process",(function(e,t,n){return this.$raise(I("NotImplementedError"),$("MacroProcessor")+" subclass "+this.$class()+" must implement the #process method")}))}(L[0],z("Processor"),L),function(n,r){var i=t(n,"MacroProcessorDsl"),s=[i].concat(r),u=e.$r(s);i.$include(u("SyntaxProcessorDsl")),o(i,"$resolve_attributes",(function e(t){var n,r,i=e.$$p||T,o=this;return e.$$p=null,n=l(arguments),c((r=n).$size(),1)&&_(r["$[]"](0))?o.$option("content_model","text"):(g(o,v(o,"resolve_attributes",e,!1,!0),"resolve_attributes",d(r),i),o.$option("content_model","attributes"))}),-1),a(i,"resolves_attributes","resolve_attributes")}(L[0],L),function(t,i,s){var a=n(t,i,"BlockMacroProcessor"),l=[a].concat(s),u=e.$r(l);a.$$prototype.name=T,o(a,"$name",(function(){var e=this;return r(u("MacroNameRx")["$match?"](e.name.$to_s()))||e.$raise(I("ArgumentError"),"invalid name for block macro: "+e.name),e.name}))}(L[0],z("MacroProcessor"),L),h(z("BlockMacroProcessor"),"DSL",z("MacroProcessorDsl")),function(t,a,l){var u=n(t,a,"InlineMacroProcessor"),$=[u].concat(l),_=e.$r($),f=u.$$prototype;f.config=f.name=T,y($[0],"@@rx_cache",i([],{})),o(u,"$regexp",(function(){var e,t,n=this;return r(t=n.config["$[]"]("regexp"))?t:(e=["regexp",n.$resolve_regexp(n.name.$to_s(),n.config["$[]"]("format"))],s(n.config,"[]=",e),e[e.length-1])})),o(u,"$resolve_regexp",(function(e,t){var n,i;return r(_("MacroNameRx")["$match?"](e))||this.$raise(I("ArgumentError"),"invalid name for inline macro: "+e),r(i=w($[0],"@@rx_cache",!1)["$[]"]([e,t]))?i:(n=[[e,t],x(["\\\\?",e,":",c(t,"short")?"(){0}":"(\\S+?)","\\[(|",_("CC_ANY"),"*?[^\\\\])\\]"])],s(w($[0],"@@rx_cache",!1),"[]=",n),n[n.length-1])}))}(L[0],z("MacroProcessor"),L),function(n,r){var i=t(n,"InlineMacroProcessorDsl"),s=[i].concat(r),l=e.$r(s);i.$include(l("MacroProcessorDsl")),o(i,"$format",(function(e){return this.$option("format",e)})),a(i,"match_format","format"),a(i,"using_format","format"),o(i,"$match",(function(e){return this.$option("regexp",e)}))}(L[0],L),h(z("InlineMacroProcessor"),"DSL",z("InlineMacroProcessorDsl")),function(e,t){var r=n(e,null,"Extension");r.$attr_reader("kind"),r.$attr_reader("config"),r.$attr_reader("instance"),o(r,"$initialize",(function(e,t,n){var r=this;return r.kind=e,r.instance=t,r.config=n}))}(L[0]),function(e,t){var i=n(e,t,"ProcessorExtension");i.$attr_reader("process_method"),o(i,"$initialize",(function e(t,n,i){var o,s=this;return e.$$p=null,null==i&&(i=T),g(s,v(s,"initialize",e,!1,!0),"initialize",[t,n,n.$config()],null),s.process_method=r(o=i)?o:n.$method("process")}),-3)}(L[0],z("Extension")),function(t,r,i){var s=n(t,null,"Group"),a=[s].concat(i);(function(t,n){var r=[t].concat(n),i=e.$r(r);o(t,"$register",(function(e){return null==e&&(e=T),i("Extensions").$register(e,this)}),-1)})(e.get_singleton_class(s),a),o(s,"$activate",(function(e){return this.$raise(I("NotImplementedError"))}))}(L[0],0,L),function(t,_,h){var m=n(t,null,"Registry"),g=[m].concat(h),v=e.$r(g),b=m.$$prototype;b.document=b.groups=b.preprocessor_extensions=b.tree_processor_extensions=b.postprocessor_extensions=b.include_processor_extensions=b.docinfo_processor_extensions=b.block_extensions=b.block_macro_extensions=b.inline_macro_extensions=T,m.$attr_reader("document"),m.$attr_reader("groups"),o(m,"$initialize",(function(e){var t=this;return null==e&&(e=i([],{})),t.groups=e,t.$reset(),t.preprocessor_extensions=t.tree_processor_extensions=t.postprocessor_extensions=t.include_processor_extensions=t.docinfo_processor_extensions=t.block_extensions=t.block_macro_extensions=t.inline_macro_extensions=T,t.document=T}),-1),o(m,"$activate",(function(e){var t=this,n=T;return r(t.document)&&t.$reset(),t.document=e,r((n=u(v("Extensions").$groups().$values(),t.groups.$values()))["$empty?"]())||s(n,"each",[],(function e(t){var n,r=null==e.$$s?this:e.$$s;if(null==t&&(t=T),!f(I("Proc"),n=t))return f(k,n)?t.$new().$activate(r):t.$activate(r);switch(t.$arity()){case 0:case-1:return s(r,"instance_exec",[],t.$to_proc());case 1:return t.$call(r);default:return T}}),{$$s:t}),t})),o(m,"$preprocessor",(function e(t){var n,r=e.$$p||T;return e.$$p=null,n=l(arguments),s(this,"add_document_processor",["preprocessor",n],r.$to_proc())}),-1),o(m,"$preprocessors?",(function(){return this.preprocessor_extensions["$!"]()["$!"]()})),o(m,"$preprocessors",E("preprocessor_extensions")),o(m,"$tree_processor",(function e(t){var n,r=e.$$p||T;return e.$$p=null,n=l(arguments),s(this,"add_document_processor",["tree_processor",n],r.$to_proc())}),-1),o(m,"$tree_processors?",(function(){return this.tree_processor_extensions["$!"]()["$!"]()})),o(m,"$tree_processors",E("tree_processor_extensions")),a(m,"treeprocessor","tree_processor"),a(m,"treeprocessors?","tree_processors?"),a(m,"treeprocessors","tree_processors"),o(m,"$postprocessor",(function e(t){var n,r=e.$$p||T;return e.$$p=null,n=l(arguments),s(this,"add_document_processor",["postprocessor",n],r.$to_proc())}),-1),o(m,"$postprocessors?",(function(){return this.postprocessor_extensions["$!"]()["$!"]()})),o(m,"$postprocessors",E("postprocessor_extensions")),o(m,"$include_processor",(function e(t){var n,r=e.$$p||T;return e.$$p=null,n=l(arguments),s(this,"add_document_processor",["include_processor",n],r.$to_proc())}),-1),o(m,"$include_processors?",(function(){return this.include_processor_extensions["$!"]()["$!"]()})),o(m,"$include_processors",E("include_processor_extensions")),o(m,"$docinfo_processor",(function e(t){var n,r=e.$$p||T;return e.$$p=null,n=l(arguments),s(this,"add_document_processor",["docinfo_processor",n],r.$to_proc())}),-1),o(m,"$docinfo_processors?",(function(e){return null==e&&(e=T),!!r(this.docinfo_processor_extensions)&&(!r(e)||s(this.docinfo_processor_extensions,"any?",[],(function(t){return null==t&&(t=T),t.$config()["$[]"]("location")["$=="](e)})))}),-1),o(m,"$docinfo_processors",(function(e){var t=this;return null==e&&(e=T),r(t.docinfo_processor_extensions)?r(e)?s(t.docinfo_processor_extensions,"select",[],(function(t){return null==t&&(t=T),t.$config()["$[]"]("location")["$=="](e)})):t.docinfo_processor_extensions:T}),-1),o(m,"$block",(function e(t){var n,r=e.$$p||T;return e.$$p=null,n=l(arguments),s(this,"add_syntax_processor",["block",n],r.$to_proc())}),-1),o(m,"$blocks?",(function(){return this.block_extensions["$!"]()["$!"]()})),o(m,"$registered_for_block?",(function(e,t){var n=T;return!!r(n=this.block_extensions["$[]"](e.$to_sym()))&&!!r(n.$config()["$[]"]("contexts")["$include?"](t))&&n})),o(m,"$find_block_extension",(function(e){return this.block_extensions["$[]"](e.$to_sym())})),o(m,"$block_macro",(function e(t){var n,r=e.$$p||T;return e.$$p=null,n=l(arguments),s(this,"add_syntax_processor",["block_macro",n],r.$to_proc())}),-1),o(m,"$block_macros?",(function(){return this.block_macro_extensions["$!"]()["$!"]()})),o(m,"$registered_for_block_macro?",(function(e){var t;return!!r(t=this.block_macro_extensions["$[]"](e.$to_sym()))&&t})),o(m,"$find_block_macro_extension",(function(e){return this.block_macro_extensions["$[]"](e.$to_sym())})),o(m,"$inline_macro",(function e(t){var n,r=e.$$p||T;return e.$$p=null,n=l(arguments),s(this,"add_syntax_processor",["inline_macro",n],r.$to_proc())}),-1),o(m,"$inline_macros?",(function(){return this.inline_macro_extensions["$!"]()["$!"]()})),o(m,"$registered_for_inline_macro?",(function(e){var t;return!!r(t=this.inline_macro_extensions["$[]"](e.$to_sym()))&&t})),o(m,"$find_inline_macro_extension",(function(e){return this.inline_macro_extensions["$[]"](e.$to_sym())})),o(m,"$inline_macros",(function(){return this.inline_macro_extensions.$values()})),o(m,"$prefer",(function e(t){var n,r=e.$$p||T,i=T,o=T,a=T;return e.$$p=null,n=l(arguments),i=f(v("ProcessorExtension"),o=n.$shift())?o:s(this,"send",[o].concat(d(n)),r.$to_proc()),(a=this.$instance_variable_get(("@"+i.$kind()+"_extensions").$to_sym())).$unshift(a.$delete(i)),i}),-1),m.$private(),o(m,"$add_document_processor",(function t(n,i){var o,a,l,u,$,_=t.$$p||T,d=this,h=T,m=T,g=T,b=T,y=T,w=T,x=T,k=T;return t.$$p=null,h=n.$to_s().$tr("_"," "),l=s(h.$split(),"map",[],(function(e){return null==e&&(e=T),e.$capitalize()})).$join().$to_sym(),m=v("Extensions").$const_get(l,!1),u=r(I("::","AsciidoctorJ","skip_raise")?"constant":T)?I(I("AsciidoctorJ"),"Extensions").$const_get(l,!1):T,g=r($=d.$instance_variable_get(("@"+n+"_extensions").$to_sym()))?$:d.$instance_variable_set(("@"+n+"_extensions").$to_sym(),[]),_!==T?(b=d.$resolve_args(i,1),(y=m.$new(b)).$singleton_class().$enable_dsl(),c(_.$arity(),0)?s(y,"instance_exec",[],_.$to_proc()):e.yield1(_,y),r(y["$process_block_given?"]())||d.$raise(I("NoMethodError"),"No block specified to process "+h+" extension at "+_.$source_location().$join(":")),y.$freeze(),w=v("ProcessorExtension").$new(n,y)):(a=d.$resolve_args(i,2),y=null==(o=p(a))[0]?T:o[0],b=null==o[1]?T:o[1],r(x=v("Helpers").$resolve_class(y))?(r(A(x,m))||r(u)&&r(A(x,u))||d.$raise(I("ArgumentError"),"Invalid type for "+h+" extension: "+y),(k=x.$new(b)).$freeze(),w=v("ProcessorExtension").$new(n,k)):f(m,y)||r(u)&&f(u,y)?(y.$update_config(b),y.$freeze(),w=v("ProcessorExtension").$new(n,y)):d.$raise(I("ArgumentError"),"Invalid arguments specified for registering "+h+" extension: "+i)),c(w.$config()["$[]"]("position"),">>")?g.$unshift(w):g["$<<"](w),w})),o(m,"$add_syntax_processor",(function t(n,o){var a,l,u,$,_,d,h=t.$$p||T,m=this,g=T,b=T,y=T,w=T,x=T,k=T,E=T;return t.$$p=null,g=n.$to_s().$tr("_"," "),u=s(g.$split(),"map",[],(function(e){return null==e&&(e=T),e.$capitalize()}))["$<<"]("Processor").$join().$to_sym(),b=v("Extensions").$const_get(u,!1),$=r(I("::","AsciidoctorJ","skip_raise")?"constant":T)?I(I("AsciidoctorJ"),"Extensions").$const_get(u,!1):T,_=r(d=m.$instance_variable_get(("@"+n+"_extensions").$to_sym()))?d:m.$instance_variable_set(("@"+n+"_extensions").$to_sym(),i([],{})),h!==T?(l=m.$resolve_args(o,2),y=null==(a=p(l))[0]?T:a[0],w=null==a[1]?T:a[1],(x=b.$new(m.$as_symbol(y),w)).$singleton_class().$enable_dsl(),c(h.$arity(),0)?s(x,"instance_exec",[],h.$to_proc()):e.yield1(h,x),r(y=m.$as_symbol(x.$name()))||m.$raise(I("ArgumentError"),"No name specified for "+g+" extension at "+h.$source_location().$join(":")),r(x["$process_block_given?"]())||m.$raise(I("NoMethodError"),"No block specified to process "+g+" extension at "+h.$source_location().$join(":")),x.$freeze(),a=[y,v("ProcessorExtension").$new(n,x)],s(_,"[]=",a),a[a.length-1]):(l=m.$resolve_args(o,3),x=null==(a=p(l))[0]?T:a[0],y=null==a[1]?T:a[1],w=null==a[2]?T:a[2],r(k=v("Helpers").$resolve_class(x))?(r(A(k,b))||r($)&&r(A(k,$))||m.$raise(I("ArgumentError"),"Class specified for "+g+" extension does not inherit from "+b+": "+x),E=k.$new(m.$as_symbol(y),w),r(y=m.$as_symbol(E.$name()))||m.$raise(I("ArgumentError"),"No name specified for "+g+" extension: "+x),E.$freeze(),a=[y,v("ProcessorExtension").$new(n,E)],s(_,"[]=",a),a[a.length-1]):f(b,x)||r($)&&f($,x)?(x.$update_config(w),r(y=r(y)?(a=[m.$as_symbol(y)],s(x,"name=",a),a[a.length-1]):m.$as_symbol(x.$name()))||m.$raise(I("ArgumentError"),"No name specified for "+g+" extension: "+x),x.$freeze(),a=[y,v("ProcessorExtension").$new(n,x)],s(_,"[]=",a),a[a.length-1]):m.$raise(I("ArgumentError"),"Invalid arguments specified for registering "+g+" extension: "+o))})),o(m,"$reset",(function(){var e=this;return e.preprocessor_extensions=e.tree_processor_extensions=e.postprocessor_extensions=e.include_processor_extensions=e.docinfo_processor_extensions=e.block_extensions=e.block_macro_extensions=e.inline_macro_extensions=T,e.document=T})),o(m,"$resolve_args",(function(e,t){var n,o=T;return n=f(I("Hash"),e["$[]"](-1))?e.$pop():i([],{}),c(t,1)?n:(r($(o=S(S(t,1),e.$size()),0))?e=u(e,I("Array").$new(o)):r(A(o,0))&&e.$pop(o["$-@"]()),e["$<<"](n),e)})),o(m,"$as_symbol",(function(e){return r(e)?e.$to_sym():T}))}(L[0],0,L),function(t,n){var a=[t].concat(n),c=e.$r(a);return o(t,"$generate_name",(function(){return"extgrp"+this.$next_auto_id()})),o(t,"$next_auto_id",(function(){var e,t=this;return null==t.auto_id&&(t.auto_id=T),t.auto_id=r(e=t.auto_id)?e:-1,t.auto_id=u(t.auto_id,1)})),o(t,"$groups",(function(){var e,t=this;return null==t.groups&&(t.groups=T),t.groups=r(e=t.groups)?e:i([],{})})),o(t,"$create",(function e(t){var n=e.$$p||T,i=T;return e.$$p=null,null==t&&(t=T),n!==T?c("Registry").$new(C(r(i=t)?i:this.$generate_name(),n)):c("Registry").$new()}),-1),o(t,"$register",(function e(t){var n,i,o,a=e.$$p||T,u=this,$=T,_=T,f=T,d=T;return e.$$p=null,o=(n=l(arguments)).$size(),a!==T?$=a:r(_=n.$pop())?$=r(f=c("Helpers").$resolve_class(_))?f:_:u.$raise(I("ArgumentError"),"Extension group to register not specified"),d=r(f=n.$pop())?f:u.$generate_name(),r(n["$empty?"]())||u.$raise(I("ArgumentError"),"Wrong number of arguments ("+o+" for 1..2)"),i=[d.$to_sym(),$],s(u.$groups(),"[]=",i),i[i.length-1]}),-1),o(t,"$unregister_all",(function(){return this.groups=i([],{}),T})),o(t,"$unregister",(function(e){var t;return t=l(arguments),s(t,"each_with_object",[this.$groups()],(function(e,t){return null==e&&(e=T),null==t&&(t=T),t.$delete(e.$to_sym())})),T}),-1)}(e.get_singleton_class(N),L)}(N[0],N)}(O[0],O)},Opal.modules["asciidoctor/js/asciidoctor_ext/stylesheet"]=function(e){var t,n,r,i=e.module,o=e.klass,s=e.truthy,a=e.def,l=[],u=e.nil,c=e.$$$;return e.add_stubs("rstrip,read,join"),t=l,n=[i(l[0],"Asciidoctor")].concat(t)[0],(r=o(n,null,"Stylesheets")).$$prototype.primary_stylesheet_data=u,a(r,"$primary_stylesheet_data",(function(){var e;return this.primary_stylesheet_data=s(e=this.primary_stylesheet_data)?e:c("IO").$read(c("File").$join("css","asciidoctor.css")).$rstrip()}))},Opal.modules["asciidoctor/js/asciidoctor_ext/document"]=function(e){var t=e.module,n=e.klass,r=e.def,i=[];return e.nil,function(i,o){var s=[t(i,"Asciidoctor")].concat(o),a=e.$r(s);return function(t,i){var o=n(t,i,"Document");return r(o,"$fill_datetime_attributes",(function(t,n){var r,i,o,s,a,l,u,c,$=e.truthy,_=e.falsy,f=e.nil,d=function(e,t){return 0===t?e.getUTCFullYear():e.getFullYear()},p=function(e,t){return 0===t?e.getUTCMonth():e.getMonth()},h=function(e,t){return 0===t?e.getUTCDate():e.getDate()},m=function(e,t){return 0===t?e.getUTCHours():e.getHours()},g=new Date;if(e.const_get_qualified("::","ENV")["$key?"]("SOURCE_DATE_EPOCH")?(g.setTime(1e3*parseInt(e.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))),i=g,r=0):r=-g.getTimezoneOffset()/60,$(o=t["$[]"]("localdate")))_(s=t["$[]"]("localyear"))&&(s=4===o.indexOf("-")?o.substring(0,4):f,t["$[]="]("localyear",s));else{var v=d(g,r).toString();o=v+"-"+("0"+(p(g,r)+1)).slice(-2)+"-"+("0"+h(g,r)).slice(-2),t["$[]="]("localdate",o),s=v,t["$[]="]("localyear",v)}if(_(a=t["$[]"]("localtime"))&&(a=("0"+m(g,r)).slice(-2)+":"+("0"+g.getMinutes()).slice(-2)+":"+("0"+g.getSeconds()).slice(-2)+" "+(0===r?"UTC":r>0?("+0"+100*r).slice(-5):("-0"+100*-r).slice(-5)),t["$[]="]("localtime",a)),_(l=t["$[]"]("localdatetime"))&&(l=o+" "+a,t["$[]="]("localdatetime",l)),$(i)?n=i:$(n)?r=-n.getTimezoneOffset()/60:n=g,$(u=t["$[]"]("docdate")))t["$[]="]("docyear",4===u.indexOf("-")?u.substring(0,4):f);else{var b=d(n,r).toString();u=b+"-"+("0"+(p(n,r)+1)).slice(-2)+"-"+("0"+h(n,r)).slice(-2),t["$[]="]("docdate",u),_(t["$[]"]("docyear"))&&t["$[]="]("docyear",b)}return _(c=t["$[]"]("doctime"))&&(c=("0"+m(n,r)).slice(-2)+":"+("0"+n.getMinutes()).slice(-2)+":"+("0"+n.getSeconds()).slice(-2)+" "+(0===r?"UTC":r>0?("+0"+100*r).slice(-5):("-0"+100*-r).slice(-5)),t["$[]="]("doctime",c)),_(t["$[]"]("docdatetime"))&&t["$[]="]("docdatetime",u+" "+c),f}))}(s[0],a("AbstractBlock"))}(i[0],i)},Opal.modules["asciidoctor/js/asciidoctor_ext/substitutors"]=function(e){var t,n,r,i=e.module,o=e.def,s=[];return e.nil,t=s,n=[i(s[0],"Asciidoctor")].concat(t)[0],r=i(n,"Substitutors"),o(r,"$sub_placeholder",(function(e,t){return e.replace("%s",t)}))},Opal.modules["asciidoctor/js/asciidoctor_ext/parser"]=function(e){var t,n,r,i=e.module,o=e.klass,s=e.truthy,a=e.defs,l=[];return e.nil,t=l,n=[i(l[0],"Asciidoctor")].concat(t)[0],r=o(n,null,"Parser"),s(String.prototype.repeat)?a(r,"$uniform?",(function(e,t,n){return t.repeat(n)===e})):a(r,"$uniform?",(function(e,t,n){return Array.apply(null,{length:n}).map((function(){return t})).join("")===e}))},Opal.modules["asciidoctor/js/asciidoctor_ext/syntax_highlighter"]=function(e){var t=e.module,n=e.truthy,r=e.def,i=[],o=e.nil;return e.add_stubs("key?,registry,[],include?,include,empty?,debug,logger,join,keys"),function(i,s){var a=[t(i,"Asciidoctor")].concat(s);return function(i,s){var a=[t(i,"SyntaxHighlighter")].concat(s);return function(i,s){var a=t(i,"Factory"),l=[a].concat(s),u=e.$r(l);return r(a,"$for",(function(e){var t=this;return n(t.$registry()["$key?"](e))?t.$registry()["$[]"](e):(n(t["$include?"](u("Logging")))||t.$include(u("Logging")),n(t.$registry()["$empty?"]())?t.$logger().$debug("no syntax highlighter available, functionality disabled."):t.$logger().$debug("syntax highlighter named '"+e+"' is not available, must be one of: '"+t.$registry().$keys().$join("', '")+"'."),o)}))}(a[0],a)}(a[0],a)}(i[0],i)},Opal.modules["asciidoctor/js/asciidoctor_ext"]=function(e){var t=e.top;e.nil,e.add_stubs("require"),t.$require("asciidoctor/js/asciidoctor_ext/stylesheet"),t.$require("asciidoctor/js/asciidoctor_ext/document"),t.$require("asciidoctor/js/asciidoctor_ext/substitutors"),t.$require("asciidoctor/js/asciidoctor_ext/parser"),t.$require("asciidoctor/js/asciidoctor_ext/syntax_highlighter"),t.$require("asciidoctor/js/asciidoctor_ext/browser")},Opal.modules["asciidoctor/js/opal_ext/logger"]=function(e){var t=e.klass,n=e.def,r=e.truthy,i=e.rb_lt,o=[],s=e.nil;return e.add_stubs("chr,rjust,message_as_string,<,write,call,[]"),function(o,a,l){var u=t(o,null,"Logger"),c=[u].concat(l),$=e.$r(c),_=u.$$prototype;return _.level=_.progname=_.pipe=_.formatter=s,function(e,r){var i=t(e,null,"Formatter");n(i,"$call",(function(e,t,n,r){var i;return i=t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)+"T"+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)+"."+("00"+1e3*(new Date).getMilliseconds()).slice(-6),e.$chr()+", ["+i+"] "+e.$rjust(5)+" -- "+n+": "+this.$message_as_string(r)}))}(c[0]),n(u,"$add",(function t(n,o,a){var l=t.$$p||s,u=this,c=s;return t.$$p=null,null==o&&(o=s),null==a&&(a=s),r(i(n=r(c=n)?c:$("UNKNOWN"),u.level))||(a=r(c=a)?c:u.progname,r(o)||(l!==s?o=e.yieldX(l,[]):(o=a,a=u.progname)),u.pipe.$write(u.formatter.$call(r(c=$("SEVERITY_LABELS")["$[]"](n))?c:"ANY",new Date,a,o))),!0}),-2)}(o[0],0,o)},Opal.modules["asciidoctor/js/postscript"]=function(e){var t=e.top;return e.nil,e.add_stubs("require"),t.$require("asciidoctor/converter/composite"),t.$require("asciidoctor/converter/html5"),t.$require("asciidoctor/extensions"),t.$require("asciidoctor/js/asciidoctor_ext"),t.$require("asciidoctor/js/opal_ext/logger")},Opal.queue((function(e){var t=e.module,n=e.const_set,r=e.send,i=e.to_ary,o=e.defs,s=e.def,a=e.truthy,l=e.hash2,u=e.eqeq,c=e.rb_minus,$=e.regexp,_=e.top,f=[],d=e.nil,p=e.$$$;return e.add_stubs("require,==,to_h,sort,map,constants,const_get,downcase,to_s,<=>,upcase,[],values,new,attr_reader,instance_variable_set,send,singleton_class,<<,define,dirname,absolute_path,join,home,pwd,to_set,tap,each,chr,each_key,[]=,slice,length,-,merge,default=,drop,insert"),_.$require("set"),_.$require("asciidoctor/js"),function(_,f){var h=[t(_,"Asciidoctor")].concat(f),m=e.$r(h),g=d;n(h[0],"RUBY_ENGINE_OPAL",n(h[0],"RUBY_ENGINE",p("RUBY_ENGINE"))["$=="]("opal")),function(e,s){var a=t(e,"SafeMode"),l=[a].concat(s);n(l[0],"UNSAFE",0),n(l[0],"SAFE",1),n(l[0],"SERVER",10),n(l[0],"SECURE",20),a.names_by_value=r(r(a.$constants(!1),"map",[],(function e(t){return null==t&&(t=d),[(null==e.$$s?this:e.$$s).$const_get(t),t.$to_s().$downcase()]}),{$$s:a}),"sort",[],(function(e,t){var n,r,o=d;return null==e&&(e=d),null==t&&(t=d),o=null==(n=i(e))[0]?d:n[0],r=null==(n=i(t))[0]?d:n[0],o["$<=>"](r)}),{$$has_top_level_mlhs_arg:!0}).$to_h(),o(a,"$value_for_name",(function(e){return this.$const_get(e.$upcase(),!1)})),o(a,"$name_for_value",(function(e){var t=this;return null==t.names_by_value&&(t.names_by_value=d),t.names_by_value["$[]"](e)})),o(a,"$names",(function(){var e=this;return null==e.names_by_value&&(e.names_by_value=d),e.names_by_value.$values()}))}(h[0],h),function(n,r){var i=t(n,"Compliance");[i].concat(r),i.keys=p("Set").$new(),function(e,t){e.$attr_reader("keys"),s(e,"$define",(function(e,t){var n=this;return null==n.keys&&(n.keys=d),n.$instance_variable_set("@"+e,t),n.$singleton_class().$send("attr_accessor",e),n.keys["$<<"](e),d}))}(e.get_singleton_class(i)),i.$define("block_terminates_paragraph",!0),i.$define("strict_verbatim_paragraphs",!0),i.$define("underline_style_section_titles",!0),i.$define("unwrap_standalone_preamble",!0),i.$define("attribute_missing","skip"),i.$define("attribute_undefined","drop-line"),i.$define("shorthand_property_syntax",!0),i.$define("natural_xrefs",!0),i.$define("unique_id_start_index",2),i.$define("markdown_syntax",!0)}(h[0],h),a(m("ROOT_DIR","skip_raise")?"constant":d)||n(h[0],"ROOT_DIR",p("File").$dirname(p("File").$absolute_path("."))),n(h[0],"LIB_DIR",p("File").$join(m("ROOT_DIR"),"lib")),n(h[0],"DATA_DIR",p("File").$join(m("ROOT_DIR"),"data")),n(h[0],"USER_HOME",function(){try{return p("Dir").$home()}catch(t){if(!e.rescue(t,[m("StandardError")]))throw t;try{return a(g=p("ENV")["$[]"]("HOME"))?g:p("Dir").$pwd()}finally{e.pop_exception()}}}()),n(h[0],"LF","\n"),n(h[0],"NULL","\0"),n(h[0],"TAB","\t"),n(h[0],"MAX_INT",9007199254740991),n(h[0],"UTF_8",p(p("Encoding"),"UTF_8")),n(h[0],"BOM_BYTES_UTF_8",[239,187,191]),n(h[0],"BOM_BYTES_UTF_16LE",[255,254]),n(h[0],"BOM_BYTES_UTF_16BE",[254,255]),n(h[0],"FILE_READ_MODE",a(m("RUBY_ENGINE_OPAL"))?"r":"rb:utf-8:utf-8"),n(h[0],"URI_READ_MODE",m("FILE_READ_MODE")),n(h[0],"FILE_WRITE_MODE",a(m("RUBY_ENGINE_OPAL"))?"w":"w:utf-8"),n(h[0],"DEFAULT_DOCTYPE","article"),n(h[0],"DEFAULT_BACKEND","html5"),n(h[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),n(h[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),n(h[0],"BACKEND_ALIASES",l(["html","docbook"],{html:"html5",docbook:"docbook5"})),n(h[0],"DEFAULT_PAGE_WIDTHS",l(["docbook"],{docbook:425})),n(h[0],"DEFAULT_EXTENSIONS",l(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),n(h[0],"ASCIIDOC_EXTENSIONS",l([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0})),n(h[0],"SETEXT_SECTION_LEVELS",l(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),n(h[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),n(h[0],"ADMONITION_STYLE_HEADS",r(p("Set").$new(),"tap",[],(function(e){return null==e&&(e=d),r(m("ADMONITION_STYLES"),"each",[],(function(t){return null==t&&(t=d),e["$<<"](t.$chr())}))}))),n(h[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","open","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),n(h[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),n(h[0],"DELIMITED_BLOCKS",l(["--","----","....","====","****","____","++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",p("Set").$new()],____:["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",p("Set").$new()],",===":["table",p("Set").$new()],":===":["table",p("Set").$new()],"!===":["table",p("Set").$new()],"////":["comment",p("Set").$new()],"```":["fenced_code",p("Set").$new()]})),n(h[0],"DELIMITED_BLOCK_HEADS",r(l([],{}),"tap",[],(function(e){return null==e&&(e=d),r(m("DELIMITED_BLOCKS"),"each_key",[],(function(t){var n;return null==t&&(t=d),n=[t.$slice(0,2),!0],r(e,"[]=",n),n[n.length-1]}))}))),n(h[0],"DELIMITED_BLOCK_TAILS",r(l([],{}),"tap",[],(function(e){return null==e&&(e=d),r(m("DELIMITED_BLOCKS"),"each_key",[],(function(t){var n;return null==t&&(t=d),u(t.$length(),4)?(n=[t,t["$[]"](c(t.$length(),1))],r(e,"[]=",n),n[n.length-1]):d}))}))),n(h[0],"CAPTION_ATTRIBUTE_NAMES",l(["example","figure","listing","table"],{example:"example-caption",figure:"figure-caption",listing:"listing-caption",table:"table-caption"})),n(h[0],"LAYOUT_BREAK_CHARS",l(["'","<"],{"'":"thematic_break","<":"page_break"})),n(h[0],"MARKDOWN_THEMATIC_BREAK_CHARS",l(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),n(h[0],"HYBRID_LAYOUT_BREAK_CHARS",m("LAYOUT_BREAK_CHARS").$merge(m("MARKDOWN_THEMATIC_BREAK_CHARS"))),n(h[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),n(h[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),n(h[0],"ORDERED_LIST_KEYWORDS",l(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),n(h[0],"ATTR_REF_HEAD","{"),n(h[0],"LIST_CONTINUATION","+"),n(h[0],"HARD_LINE_BREAK"," +"),n(h[0],"LINE_CONTINUATION"," \\"),n(h[0],"LINE_CONTINUATION_LEGACY"," +"),n(h[0],"BLOCK_MATH_DELIMITERS",l(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),n(h[0],"INLINE_MATH_DELIMITERS",l(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),n(h[0],"STEM_TYPE_ALIASES",l(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"}))["$default="]("asciimath"),n(h[0],"FONT_AWESOME_VERSION","4.7.0"),n(h[0],"HIGHLIGHT_JS_VERSION","9.18.3"),n(h[0],"MATHJAX_VERSION","2.7.9"),n(h[0],"DEFAULT_ATTRIBUTES",l(["appendix-caption","appendix-refsig","caution-caption","chapter-refsig","example-caption","figure-caption","important-caption","last-update-label","note-caption","part-refsig","prewrap","sectids","section-refsig","table-caption","tip-caption","toc-placement","toc-title","untitled-label","version-label","warning-caption"],{"appendix-caption":"Appendix","appendix-refsig":"Appendix","caution-caption":"Caution","chapter-refsig":"Chapter","example-caption":"Example","figure-caption":"Figure","important-caption":"Important","last-update-label":"Last updated","note-caption":"Note","part-refsig":"Part",prewrap:"",sectids:"","section-refsig":"Section","table-caption":"Table","tip-caption":"Tip","toc-placement":"auto","toc-title":"Table of Contents","untitled-label":"Untitled","version-label":"Version","warning-caption":"Warning"})),n(h[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),n(h[0],"INTRINSIC_ATTRIBUTES",l(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","pp","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"})),n(h[0],"QUOTE_SUBS",r(l([],{}),"tap",[],(function(e){var t=d,n=d;return null==e&&(e=d),e["$[]="](!1,t=[["strong","unconstrained",$(["\\\\?(?:\\[([^\\]]+)\\])?\\*\\*(",m("CC_ALL"),"+?)\\*\\*"],"m")],["strong","constrained",$(["(^|[^",m("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S",m("CC_ALL"),"*?\\S)\\*(?!",m("CG_WORD"),")"],"m")],["double","constrained",$(["(^|[^",m("CC_WORD"),';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S',m("CC_ALL"),'*?\\S)`"(?!',m("CG_WORD"),")"],"m")],["single","constrained",$(["(^|[^",m("CC_WORD"),";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S",m("CC_ALL"),"*?\\S)`'(?!",m("CG_WORD"),")"],"m")],["monospaced","unconstrained",$(["\\\\?(?:\\[([^\\]]+)\\])?``(",m("CC_ALL"),"+?)``"],"m")],["monospaced","constrained",$(["(^|[^",m("CC_WORD"),";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S",m("CC_ALL"),"*?\\S)`(?![",m("CC_WORD"),"\"'`])"],"m")],["emphasis","unconstrained",$(["\\\\?(?:\\[([^\\]]+)\\])?__(",m("CC_ALL"),"+?)__"],"m")],["emphasis","constrained",$(["(^|[^",m("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S",m("CC_ALL"),"*?\\S)_(?!",m("CG_WORD"),")"],"m")],["mark","unconstrained",$(["\\\\?(?:\\[([^\\]]+)\\])?##(",m("CC_ALL"),"+?)##"],"m")],["mark","constrained",$(["(^|[^",m("CC_WORD"),"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S",m("CC_ALL"),"*?\\S)#(?!",m("CG_WORD"),")"],"m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]),e["$[]="](!0,n=t.$drop(0)),n["$[]="](2,["double","constrained",$(["(^|[^",m("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S",m("CC_ALL"),"*?\\S)''(?!",m("CG_WORD"),")"],"m")]),n["$[]="](3,["single","constrained",$(["(^|[^",m("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S",m("CC_ALL"),"*?\\S)'(?!",m("CG_WORD"),")"],"m")]),n["$[]="](4,["monospaced","unconstrained",$(["\\\\?(?:\\[([^\\]]+)\\])?\\+\\+(",m("CC_ALL"),"+?)\\+\\+"],"m")]),n["$[]="](5,["monospaced","constrained",$(["(^|[^",m("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S",m("CC_ALL"),"*?\\S)\\+(?!",m("CG_WORD"),")"],"m")]),n.$insert(3,["emphasis","constrained",$(["(^|[^",m("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S",m("CC_ALL"),"*?\\S)'(?!",m("CG_WORD"),")"],"m")])}))),n(h[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(?: |\n|^|\\)--(?: |\n|$)/,"&#8201;&#8212;&#8201;","none"],[$(["(",m("CG_WORD"),")\\\\?--(?=",m("CG_WORD"),")"]),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","none"],[/\\?`'/,"&#8217;","none"],[$(["(",m("CG_ALNUM"),")\\\\?'(?=",m("CG_ALPHA"),")"]),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]])}(f[0],f),_.$require("asciidoctor.rb/../asciidoctor/core_ext"),_.$require("asciidoctor.rb/../asciidoctor/helpers"),_.$require("asciidoctor.rb/../asciidoctor/logging"),_.$require("asciidoctor.rb/../asciidoctor/rx"),_.$require("asciidoctor.rb/../asciidoctor/substitutors"),_.$require("asciidoctor.rb/../asciidoctor/version"),_.$require("asciidoctor.rb/../asciidoctor/abstract_node"),_.$require("asciidoctor.rb/../asciidoctor/abstract_block"),_.$require("asciidoctor.rb/../asciidoctor/attribute_list"),_.$require("asciidoctor.rb/../asciidoctor/block"),_.$require("asciidoctor.rb/../asciidoctor/callouts"),_.$require("asciidoctor.rb/../asciidoctor/converter"),_.$require("asciidoctor.rb/../asciidoctor/document"),_.$require("asciidoctor.rb/../asciidoctor/inline"),_.$require("asciidoctor.rb/../asciidoctor/list"),_.$require("asciidoctor.rb/../asciidoctor/parser"),_.$require("asciidoctor.rb/../asciidoctor/path_resolver"),_.$require("asciidoctor.rb/../asciidoctor/reader"),_.$require("asciidoctor.rb/../asciidoctor/section"),_.$require("asciidoctor.rb/../asciidoctor/stylesheets"),_.$require("asciidoctor.rb/../asciidoctor/table"),_.$require("asciidoctor.rb/../asciidoctor/writer"),_.$require("asciidoctor.rb/../asciidoctor/load"),_.$require("asciidoctor.rb/../asciidoctor/convert"),_.$require("asciidoctor.rb/../asciidoctor/syntax_highlighter"),_.$require("asciidoctor.rb/../asciidoctor/timings"),_.$require("asciidoctor/js/postscript")}));const t=function(e){return e&&!e.$$is_hash?Opal.hash2(Object.keys(e),e):e},n=function(e){const t={};if(e){const n=e.$$smap;for(const e in n){const r=n[e];t[e]=r===Opal.nil?void 0:r}const r=e.$$map;if(r){const e=[];for(const t in r){const n=r[t],i=n.value;e[n.key-1]=i===Opal.nil?void 0:i}e.length>0&&(t.$positional=e)}}return t},r=function(e){const t={};if(e){const n=e.$$keys;for(const e in n){const r=n[e].value;t[e.toString()]=r===Opal.nil?void 0:r}}return t},i=function(e){if(e=t(e)){const n=e["$[]"]("converter");n&&n!==Opal.nil&&e["$[]="]("converter",o(n));const r=e["$[]"]("attributes");r&&"object"==typeof r&&"Object"===r.constructor.name&&(e=e.$dup())["$[]="]("attributes",t(r))}return e},o=function(e){const n=function(e,n){e.backend_traits?n.backend_traits=t(e.backend_traits):e.backendTraits?n.backend_traits=t(e.backendTraits):(e.basebackend||e.outfilesuffix||e.filetype||e.htmlsyntax||e.supports_templates)&&(n.backend_traits=t(function(e){return Object.assign({},e.basebackend?{basebackend:e.basebackend}:{},e.outfilesuffix?{outfilesuffix:e.outfilesuffix}:{},e.filetype?{filetype:e.filetype}:{},e.htmlsyntax?{htmlsyntax:e.htmlsyntax}:{},e.supports_templates?{supports_templates:e.supports_templates}:{})}(e)))},r=function(e,t){o(e,t,"$handles?","handles",(function(){return!0}))},i=function(e,t){o(e,t,"$composed","composed")},o=function(e,t,n,r,i){void 0===e[n]&&("function"==typeof e[r]?t[n]=e[r]:i&&(t[n]=i))},a=function(e){"function"!=typeof e["$respond_to?"]&&(e["$respond_to?"]=function(e){return"function"==typeof this[e]})};if("function"==typeof e){const t=s(Y,e.constructor.name,{initialize:function(t,o){const s=this,l=new e(t,o);Object.assign(this,l),n(l,s);const u=Object.getOwnPropertyNames(e.prototype);for(let e=0;e<u.length;e++){const t=u[e];"constructor"!==t&&(s[t]=l[t])}void 0===l.$convert&&"function"==typeof l.convert&&(s.$convert=l.convert),r(l,s),i(l,s),a(s),s.super(t,o)}});return t.$extend(G),t}if("object"==typeof e){if(void 0===e.$convert&&"function"==typeof e.convert&&(e.$convert=e.convert),n(e,e),e.backend_traits){const t=["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates","supports_templates?","init_backend_traits","backend_traits"];for(const n of t)e["$"+n]=G.prototype["$"+n];e.$$meta=G}return r(e,e),i(e,e),o(e,l=e,"$==","==",(function(e){return l===e})),function(e,t){o(e,t,"$send","send",(function(e){const[,...n]=Array.from(arguments),r=t["$"+e];if(r)return r.apply(t,n);throw new Error(`undefined method \`${e}\` for \`${t.toString()}\``)}))}(e,e),a(e),e}var l;return e};function s(e,r,i,o,s){const a=Opal.klass(Opal.Object,e,r,(function(){}));let l,u,c;const $={};for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&function(e){const t=i[e];if("postConstruct"===e)l=t;else if("initialize"===e)u=t;else if("constructor"===e)c=t;else{let n;o&&Object.prototype.hasOwnProperty.call(o,e)&&($[e]=!0),Opal.def(a,"$"+e,n=function(){let r;r=s&&Object.prototype.hasOwnProperty.call(s,e)?s[e](arguments):arguments;const i=n.$$p;return i&&(r[r.length]=function(){return Opal.yield1(i)},r.length+=1,n.$$p=null),t.apply(this,r)})}}(e);let _,f;_="function"==typeof c?function(){const e=Array.from(arguments);for(let t=0;t<e.length;t++)"object"==typeof e[t]&&"$$smap"in e[t]&&(e[t]=n(e[t]));e.unshift(null);const t=new(Function.prototype.bind.apply(c,e));Object.assign(this,t),"function"==typeof l&&l.bind(this)()}:"function"==typeof u?function(){const e=Array.from(arguments);for(let t=0;t<e.length;t++)"object"==typeof e[t]&&"$$smap"in e[t]&&(e[t]=n(e[t]));u.apply(this,e),"function"==typeof l&&l.bind(this)()}:function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",_)),"function"==typeof l&&l.bind(this)()},Opal.def(a,"$initialize",_),Opal.def(a,"super",f=function(e){if("function"==typeof e)Opal.send(this,Opal.find_super_dispatcher(this,e.name,e));else{const e=Array.from(arguments);for(let n=0;n<e.length;n++)"object"==typeof e[n]&&(e[n]=t(e[n]));Opal.send(this,Opal.find_super_dispatcher(this,"initialize",_),e)}});for(const e in i)f[e]=function(){const n=Array.from(arguments);for(let e=0;e<n.length;e++)"object"==typeof n[e]&&"function"==typeof n[e].constructor&&"Object"===n[e].constructor.name&&(n[e]=t(n[e]));const r=a.$$prototype;return Opal.send(r,Opal.find_super_dispatcher(r,e,r[`$${e}`]),n)};if(o)for(const e in o)Object.prototype.hasOwnProperty.call(o,e)&&!Object.prototype.hasOwnProperty.call($,e)&&function(e){const t=o[e];Opal.def(a,"$"+e,(function(){return t.apply(this,arguments)}))}(e);return a}const a=Opal.Asciidoctor.$$class;a.prototype.getCoreVersion=function(){return this.$$const.VERSION},a.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}},a.prototype.convert=function(e,t){"object"==typeof e&&"Buffer"===e.constructor.name&&(e=e.toString("utf8"));const n=t&&t.to_file;"object"==typeof n&&"Writable"===n.constructor.name&&"function"==typeof n.write&&(n["$respond_to?"]=e=>"write"===e,n.$object_id=()=>"",n.$write=function(e){this.write(e)});const r=i(t),o=this.$convert(e,r);return"object"==typeof n&&"Writable"===n.constructor.name&&"function"==typeof n.end&&n.end(),o===Opal.nil?"":o},a.prototype.convertFile=function(e,t){return this.$convert_file(e,i(t))},a.prototype.load=function(e,t){return"object"==typeof e&&"Buffer"===e.constructor.name&&(e=e.toString("utf8")),this.$load(e,i(t))},a.prototype.loadFile=function(e,t){return this.$load_file(e,i(t))};const l=Opal.Asciidoctor.AbstractBlock;l.prototype.getContentModel=function(){const e=this.content_model;return e===Opal.nil?void 0:e},l.prototype.setContentModel=function(e){this.content_model=e},l.prototype.append=function(e){return this.$append(e),this},l.prototype.getTitle=function(){const e=this.$title();return e===Opal.nil?void 0:e},l.prototype.setTitle=function(e){return e=void 0===e?Opal.nil:e,this["$title="](e)},l.prototype.assignCaption=function(e,t){e=void 0===e?Opal.nil:e,t=void 0===t?null:t,this.$assign_caption(e,t)},l.prototype.getCaptionedTitle=function(){return this.$captioned_title()},l.prototype.getStyle=function(){const e=this.style;return e===Opal.nil?void 0:e},l.prototype.setStyle=function(e){this.style=e},l.prototype.getSourceLocation=function(){const e=this.source_location;if(e!==Opal.nil)return e.getFile=function(){const e=this.file;return e===Opal.nil?void 0:e},e.getDirectory=function(){const e=this.dir;return e===Opal.nil?void 0:e},e.getPath=function(){const e=this.path;return e===Opal.nil?void 0:e},e.getLineNumber=function(){const e=this.lineno;return e===Opal.nil?void 0:e},e},l.prototype.getCaption=function(){const e=this.$caption();return e===Opal.nil?void 0:e},l.prototype.setCaption=function(e){this.caption=void 0===e?Opal.nil:e},l.prototype.getLevel=function(){const e=this.level;return e===Opal.nil?void 0:e},l.prototype.getSubstitutions=function(){return this.subs},l.prototype.hasSubstitution=function(e){return this["$sub?"](e)},l.prototype.removeSubstitution=function(e){this.$remove_sub(e)},l.prototype.hasBlocks=function(){return this.blocks.length>0},l.prototype.getBlocks=function(){return this.blocks},l.prototype.getContent=function(){const e=this.$content();return e===Opal.nil?void 0:e},l.prototype.convert=function(){return this.$convert()},l.prototype.findBy=function(e,n){return void 0===n&&"function"==typeof e?Opal.send(this,"find_by",null,e):"function"==typeof n?Opal.send(this,"find_by",[t(e)],n):this.$find_by(t(e))},l.prototype.getLineNumber=function(){const e=this.$lineno();return e===Opal.nil?void 0:e},l.prototype.hasSections=function(){return this.next_section_index!==Opal.nil&&this.next_section_index>0},l.prototype.getSections=function(){return this.$sections()},l.prototype.getNumeral=function(){const e=this.$numeral();return e===Opal.nil?void 0:e},l.prototype.setNumeral=function(e){this["$numeral="](e)},l.prototype.hasTitle=function(){return this["$title?"]()},l.prototype.getAlt=function(){return this.$alt()};const u=Opal.Asciidoctor.Section;u.create=function(e,n,r,i){return i&&i.attributes&&(i.attributes=t(i.attributes)),this.$new(e,n,r,t(i))},u.prototype.setLevel=function(e){this.level=e},u.prototype.getIndex=function(){return this.index},u.prototype.setIndex=function(e){this.index=e},u.prototype.getSectionName=function(){const e=this.sectname;return e===Opal.nil?void 0:e},u.prototype.setSectionName=function(e){this.sectname=e},u.prototype.getSectionNumeral=function(){return this.$sectnum()},u.prototype.getSectionNumber=u.prototype.getSectionNumeral,u.prototype.isSpecial=function(){return this.special},u.prototype.setSpecial=function(e){this.special=e},u.prototype.isNumbered=function(){return this.numbered},u.prototype.getCaption=function(){const e=this.caption;return e===Opal.nil?void 0:e},u.prototype.getName=function(){return this.getTitle()};const c=Opal.Asciidoctor.Block;c.create=function(e,n,r){return r&&r.attributes&&(r.attributes=t(r.attributes)),this.$new(e,n,t(r))},c.prototype.getSource=function(){return this.$source()},c.prototype.getSourceLines=function(){return this.lines};const $=Opal.Asciidoctor.AbstractNode;$.prototype.applySubstitutions=function(e,t){return this.$apply_subs(e,t)},$.prototype.resolveSubstitutions=function(e,t,n,r){void 0===t&&(t="block"),void 0===n&&(n=Opal.nil),void 0===r&&(r=Opal.nil);const i=this.$resolve_subs(e,t,n,r);return i===Opal.nil?void 0:i},$.prototype.resolveBlockSubstitutions=function(e,t,n){return this.resolveSubstitutions(e,"block",t,n)},$.prototype.resolvePassSubstitutions=function(e){return this.resolveSubstitutions(e,"inline",void 0,"passthrough macro")},$.prototype.getNodeName=function(){return this.node_name},$.prototype.getAttributes=function(){return n(this.attributes)},$.prototype.getAttribute=function(e,t,n){const r=this.$attr(e,t,n);return r===Opal.nil?void 0:r},$.prototype.hasAttribute=function(e){return e in this.attributes.$$smap},$.prototype.isAttribute=function(e,t,n){return this["$attr?"](e,t,n)},$.prototype.setAttribute=function(e,t,n){return void 0===n&&(n=!0),this.$set_attr(e,t,n)},$.prototype.removeAttribute=function(e){const t=this.$remove_attr(e);return t===Opal.nil?void 0:t},$.prototype.getDocument=function(){return this.document},$.prototype.getParent=function(){const e=this.parent;return e===Opal.nil?void 0:e},$.prototype.isInline=function(){return this["$inline?"]()},$.prototype.isBlock=function(){return this["$block?"]()},$.prototype.isRole=function(e){return this["$role?"](e)},$.prototype.getRole=function(){const e=this.$role();return e===Opal.nil?void 0:e},$.prototype.setRole=function(e){return Array.isArray(e)||"string"==typeof e&&1===arguments.length?this["$role="](e):this["$role="](Array.from(arguments))},$.prototype.hasRole=function(e){return this["$has_role?"](e)},$.prototype.getRoles=function(){return this.$roles()},$.prototype.addRole=function(e){return this.$add_role(e)},$.prototype.removeRole=function(e){return this.$remove_role(e)},$.prototype.isReftext=function(){return this["$reftext?"]()},$.prototype.getReftext=function(){const e=this.$reftext();return e===Opal.nil?void 0:e},$.prototype.getContext=function(){const e=this.context;return"string"==typeof e?e:e.toString()},$.prototype.getId=function(){const e=this.id;return e===Opal.nil?void 0:e},$.prototype.setId=function(e){this.id=e},$.prototype.isOption=function(e){return this["$option?"](e)},$.prototype.setOption=function(e){return this.$set_option(e)},$.prototype.getIconUri=function(e){return this.$icon_uri(e)},$.prototype.getMediaUri=function(e,t){return this.$media_uri(e,t)},$.prototype.getImageUri=function(e,t){return this.$image_uri(e,t)},$.prototype.getConverter=function(){return this.$converter()},$.prototype.readContents=function(e,n){return this.$read_contents(e,t(n))},$.prototype.readAsset=function(e,n){const r=this.$read_asset(e,t(n));return r===Opal.nil?void 0:r},$.prototype.normalizeWebPath=function(e,t,n){return this.$normalize_web_path(e,t,n)},$.prototype.normalizeSystemPath=function(e,n,r,i){return this.$normalize_system_path(e,n,r,t(i))},$.prototype.normalizeAssetPath=function(e,t,n){return this.$normalize_asset_path(e,t,n)};const _=Opal.Asciidoctor.Document;_.prototype.append=function(e){return this["$<<"](e),this},_.prototype.getSyntaxHighlighter=function(){const e=this.syntax_highlighter,n=e.__proto__;return n&&("function"==typeof n["$highlight?"]&&(n.handlesHighlighting=function(){const e=n["$highlight?"]();return e!==Opal.nil&&e}),"function"==typeof n["$docinfo?"]&&(n.hasDocinfo=n["$docinfo?"]),"function"==typeof n.$format&&(n.format=function(e,n,r){return this.$format(e,n,t(r))}),"function"==typeof n.$docinfo&&(n.docinfo=function(e,n,r){return this.$docinfo(e,n,t(r))})),e},_.prototype.getRefs=function(){return n(this.catalog.$$smap.refs)},_.prototype.getImages=function(){return this.catalog.$$smap.images},_.prototype.getLinks=function(){return this.catalog.$$smap.links},_.prototype.hasFootnotes=function(){return this["$footnotes?"]()},_.prototype.getFootnotes=function(){return this.$footnotes()},_.prototype.getHeader=function(){return this.header},_.prototype.setAttribute=function(e,t){return this.$set_attribute(e,t)},_.prototype.removeAttribute=function(e){this.attributes.$delete(e),this.attribute_overrides.$delete(e)},_.prototype.convert=function(e){const n=this.$convert(t(e));return n===Opal.nil?"":n},_.prototype.write=function(e,t){return this.$write(e,t)},_.prototype.getAuthor=function(){return this.$author()},_.prototype.getSource=function(){return this.$source()},_.prototype.getSourceLines=function(){return this.$source_lines()},_.prototype.isNested=function(){return this["$nested?"]()},_.prototype.isEmbedded=function(){return this["$embedded?"]()},_.prototype.hasExtensions=function(){return this["$extensions?"]()},_.prototype.getDoctype=function(){return this.doctype},_.prototype.getBackend=function(){return this.backend},_.prototype.isBasebackend=function(e){return this["$basebackend?"](e)},_.prototype.getTitle=function(){const e=this.$title();return e===Opal.nil?void 0:e},_.prototype.setTitle=function(e){return this["$title="](e)},_.prototype.getDocumentTitle=function(e){const n=this.$doctitle(t(e));return n===Opal.nil?void 0:n},_.prototype.getDoctitle=_.prototype.getDocumentTitle,_.prototype.getCatalog=function(){return n(this.catalog)},_.prototype.getReferences=_.prototype.getCatalog,_.prototype.getRevisionDate=function(){return this.getAttribute("revdate")},_.prototype.getRevdate=function(){return this.getRevisionDate()},_.prototype.getRevisionNumber=function(){return this.getAttribute("revnumber")},_.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")},_.prototype.setHeaderAttribute=function(e,t,n){return void 0===n&&(n=!0),void 0===t&&(t=""),this.$set_header_attribute(e,t,n)},_.prototype.getAuthors=function(){return this.$authors()};const f=_.Footnote;f.prototype.getIndex=function(){const e=this.$$data.index;return e===Opal.nil?void 0:e},f.prototype.getId=function(){const e=this.$$data.id;return e===Opal.nil?void 0:e},f.prototype.getText=function(){const e=this.$$data.text;return e===Opal.nil?void 0:e};const d=_.ImageReference;d.prototype.getTarget=function(){return this.$$data.target},d.prototype.getImagesDirectory=function(){const e=this.$$data.imagesdir;return e===Opal.nil?void 0:e};const p=_.Author;p.prototype.getName=function(){const e=this.$$data.name;return e===Opal.nil?void 0:e},p.prototype.getFirstName=function(){const e=this.$$data.firstname;return e===Opal.nil?void 0:e},p.prototype.getMiddleName=function(){const e=this.$$data.middlename;return e===Opal.nil?void 0:e},p.prototype.getLastName=function(){const e=this.$$data.lastname;return e===Opal.nil?void 0:e},p.prototype.getInitials=function(){const e=this.$$data.initials;return e===Opal.nil?void 0:e},p.prototype.getEmail=function(){const e=this.$$data.email;return e===Opal.nil?void 0:e},_.RevisionInfo=function(e,t,n){this.date=e,this.number=t,this.remark=n};const h=_.RevisionInfo;h.prototype.getDate=function(){return this.date},h.prototype.getNumber=function(){return this.number},h.prototype.getRemark=function(){return this.remark},h.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark};const m=Opal.Asciidoctor.SafeMode;m.getValueForName=function(e){return this.$value_for_name(e)},m.getNameForValue=function(e){const t=this.$name_for_value(e);return t===Opal.nil?void 0:t},m.getNames=function(){return this.$names()};const g=Opal.Asciidoctor.Callouts;g.create=function(){return this.$new()},g.prototype.register=function(e){return this.$register(e)},g.prototype.readNextId=function(){return this.$read_next_id()},g.prototype.getCalloutIds=function(e){return this.$callout_ids(e)},g.prototype.getLists=function(){const e=this.lists;if(e&&e.length>0)for(let t=0;t<e.length;t++){const r=e[t];if(r&&r.length>0)for(let e=0;e<r.length;e++)"object"==typeof r[e]&&"$$smap"in r[e]&&(r[e]=n(r[e]))}return e},g.prototype.getListIndex=function(){return this.list_index},g.prototype.getCurrentList=function(){const e=this.$current_list();if(e&&e.length>0)for(let t=0;t<e.length;t++)"object"==typeof e[t]&&"$$smap"in e[t]&&(e[t]=n(e[t]));return e},g.prototype.nextList=function(){return this.$nextList()},g.prototype.rewind=function(){return this.$rewind()},_.prototype.getRevisionInfo=function(){return new _.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},_.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()},_.prototype.getNotitle=function(){return this.$notitle()},_.prototype.getNoheader=function(){return this.$noheader()},_.prototype.getNofooter=function(){return this.$nofooter()},_.prototype.hasHeader=function(){return this["$header?"]()},_.prototype.playbackAttributes=function(e){if(e=t(e)){const t=e["$[]"]("attribute_entries");if(t&&Array.isArray(t)){const n=[];for(let e=0;e<t.length;e++){const r=t[e];r&&"object"==typeof r&&"Object"===r.constructor.name&&(r.$name=function(){return this.name},r.$value=function(){return this.value},r.$negate=function(){return this.negate}),n.push(r)}e["$[]="]("attribute_entries",n)}}this.$playback_attributes(e)},_.prototype.deleteAttribute=function(e){return this.$delete_attribute(e)},_.prototype.isAttributeLocked=function(e){return this["$attribute_locked?"](e)},_.prototype.restoreAttributes=function(){return this.$restore_attributes()},_.prototype.parse=function(e){return this.$parse(e)},_.prototype.getDocinfo=function(e,t){return this.$docinfo(e,t)},_.prototype.hasDocinfoProcessors=function(e){return this["$docinfo_processors?"](e)},_.prototype.incrementAndStoreCounter=function(e,t){return this.$increment_and_store_counter(e,t)},_.prototype.counterIncrement=_.prototype.incrementAndStoreCounter,_.prototype.counter=function(e,t){return this.$counter(e,t)},_.prototype.getSafe=function(){return this.safe},_.prototype.getCompatMode=function(){return this.compat_mode},_.prototype.getSourcemap=function(){const e=this.sourcemap;return e!==Opal.nil&&e},_.prototype.setSourcemap=function(e){this.sourcemap=e},_.prototype.getCounters=function(){return n(this.counters)},_.prototype.getCallouts=function(){return this.$callouts()},_.prototype.getBaseDir=function(){return this.base_dir},_.prototype.getOptions=function(){return n(this.options)},_.prototype.getOutfilesuffix=function(){return this.outfilesuffix},_.prototype.getParentDocument=function(){const e=this.parent_document;return e===Opal.nil?void 0:e},_.prototype.getReader=function(){return this.reader},_.prototype.getConverter=function(){return this.converter},_.prototype.getExtensions=function(){const e=this.extensions;return e===Opal.nil?void 0:e};const v=_.Title;v.prototype.getMain=function(){return this.main},v.prototype.getCombined=function(){return this.combined},v.prototype.getSubtitle=function(){const e=this.subtitle;return e===Opal.nil?void 0:e},v.prototype.isSanitized=function(){const e=this["$sanitized?"]();return e!==Opal.nil&&e},v.prototype.hasSubtitle=function(){return this["$subtitle?"]()};const b=Opal.Asciidoctor.Inline;b.create=function(e,t,n,r){return this.$new(e,t,n,i(r))},b.prototype.convert=function(){return this.$convert()},b.prototype.getText=function(){const e=this.$text();return e===Opal.nil?void 0:e},b.prototype.getType=function(){return this.$type()},b.prototype.getTarget=function(){const e=this.$target();return e===Opal.nil?void 0:e},b.prototype.getAlt=function(){return this.$alt()};const y=Opal.Asciidoctor.List;y.prototype.hasItems=function(){return this["$items?"]()},y.prototype.getItems=function(){return this.blocks};const w=Opal.Asciidoctor.ListItem;w.prototype.getText=function(){return this.$text()},w.prototype.setText=function(e){return this["$text="](e)},w.prototype.hasText=function(){return this["$text?"]()},w.prototype.getMarker=function(){return this.marker},w.prototype.setMarker=function(e){this.marker=e},w.prototype.getList=function(){return this.$list()},w.prototype.getParent=w.prototype.getList;const x=Opal.Asciidoctor.Reader;x.prototype.pushInclude=function(e,n,r,i,o){return this.$push_include(e,n,r,i,t(o))},x.prototype.getCursor=function(){return this.$cursor()},x.prototype.getLines=function(){return this.$lines()},x.prototype.getString=function(){return this.$string()},x.prototype.hasMoreLines=function(){return this["$has_more_lines?"]()},x.prototype.isEmpty=function(){return this["$empty?"]()},x.prototype.peekLine=function(e){e=e||!1;const t=this.$peek_line(e);return t===Opal.nil?void 0:t},x.prototype.readLine=function(){const e=this.$read_line();return e===Opal.nil?void 0:e},x.prototype.readLines=function(){return this.$read_lines()},x.prototype.read=function(){return this.$read()},x.prototype.advance=function(){return this.$advance()};const k=Opal.Asciidoctor.Reader.Cursor;k.prototype.getFile=function(){const e=this.file;return e===Opal.nil?void 0:e},k.prototype.getDirectory=function(){const e=this.dir;return e===Opal.nil?void 0:e},k.prototype.getPath=function(){const e=this.path;return e===Opal.nil?void 0:e},k.prototype.getLineNumber=function(){return this.lineno};const E=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=E,E.getLogger=function(){return this.$logger()},E.setLogger=function(e){this["$logger="](e)},E.newLogger=function(e,t){return function(e,t){return s(Opal.const_get_qualified(Opal.Asciidoctor,"Logger"),e,t,{},{add:function(e){if(e.length>=2&&"object"==typeof e[2]&&"$$smap"in e[2]){const t=e[2],r=n(t);r.getText=function(){return this.text},r.getSourceLocation=function(){return this.source_location},r.$inspect=function(){const e=this.getSourceLocation();return e?e.getPath()+": line "+e.getLineNumber()+": "+this.getText():this.getText()},e[2]=r}return e.length>=1&&(e[1]=e[1]===Opal.nil?void 0:e[1]),e}})}(e,t).$new()},E.newFormatter=function(e,t){return function(e,t){return s(Opal.const_get_qualified(Opal.Logger,"Formatter"),e,t,{},{call:function(e){for(let t=0;t<e.length;t++)"object"==typeof e[t]&&"$$smap"in e[t]&&(e[t]=n(e[t]));return e}})}(e,t).$new()};const A=Opal.const_get_qualified(Opal.Logger,"Severity",!0);Opal.Asciidoctor.LoggerSeverity=A,A.get=function(e){return A.$constants()[e]};const S=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);Opal.Asciidoctor.LoggerFormatter=S,S.prototype.call=function(e,t,n,r){return this.$call(A.get(e),t,n,r)};const C=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=C,C.create=function(){return this.$new()},C.prototype.getMessages=function(){const e=this.messages,t=[];for(let r=0;r<e.length;r++){const i=e[r],o=n(i);"string"==typeof o.message?o.getText=function(){return this.message}:(o.message=n(o.message),o.getText=function(){return this.message.text}),o.getSeverity=function(){return this.severity.toString()},o.getSourceLocation=function(){return this.message.source_location},t.push(o)}return t};const O=Opal.const_get_qualified(Opal.Asciidoctor,"Logging",!0);Opal.Asciidoctor.Logging=O,O.getLogger=function(){return E.$logger()},O.createLogMessage=function(e,n){return O.prototype.$message_with_context(e,t(n))},x.prototype.getLogger=O.getLogger,x.prototype.createLogMessage=O.createLogMessage,$.prototype.getLogger=O.getLogger,$.prototype.createLogMessage=O.createLogMessage;const T=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);Opal.Asciidoctor.Logger=T,T.prototype.getMaxSeverity=function(){const e=this.max_severity;return e===Opal.nil?void 0:e},T.prototype.getFormatter=function(){return this.formatter},T.prototype.setFormatter=function(e){this.formatter=e},T.prototype.getLevel=function(){return this.level},T.prototype.setLevel=function(e){this.level=e},T.prototype.getProgramName=function(){return this.progname},T.prototype.setProgramName=function(e){this.progname=e};const I=Opal.const_get_qualified("::","Logger"),R=function(e,t,n){e["$"+t](n)};I.prototype.add=function(e,t,n){const r="string"==typeof e?A[e.toUpperCase()]:e;this.$add(r,t,n)},I.prototype.log=I.prototype.add,I.prototype.debug=function(e){R(this,"debug",e)},I.prototype.info=function(e){R(this,"info",e)},I.prototype.warn=function(e){R(this,"warn",e)},I.prototype.error=function(e){R(this,"error",e)},I.prototype.fatal=function(e){R(this,"fatal",e)},I.prototype.isDebugEnabled=function(){return this["$debug?"]()},I.prototype.isInfoEnabled=function(){return this["$info?"]()},I.prototype.isWarnEnabled=function(){return this["$warn?"]()},I.prototype.isErrorEnabled=function(){return this["$error?"]()},I.prototype.isFatalEnabled=function(){return this["$fatal?"]()};const N=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);Opal.Asciidoctor.NullLogger=N,N.create=function(){return this.$new()},N.prototype.getMaxSeverity=function(){return this.max_severity},Opal.Asciidoctor.StopIteration=Opal.StopIteration;const L=Opal.const_get_qualified(Opal.Asciidoctor,"Timings",!0);Opal.Asciidoctor.Timings=L,L.create=function(){return this.$new()},L.prototype.printReport=function(e,t){let n;if(e)if("function"==typeof e.$add)n=function(t){e.$add(1,t)};else if("function"==typeof e.log)n=e.log;else{if("function"!=typeof e.write)throw new Error("The output should be a Stream (with a write function), an object with a log function or a Ruby Logger (with a add function)");n=function(t){e.write(t,"utf-8")}}else n=function(e){Opal.gvars.stdout.$write(e)};t&&n("Input file: "+t),n(" Time to read and parse source: "+this.$read_parse().toFixed(2)),n(" Time to convert document: "+this.$convert().toFixed(2)),n(" Total time (read, parse and convert): "+this.$read_parse_convert().toFixed(2))};const z=Opal.const_get_qualified(Opal.Asciidoctor,"SyntaxHighlighter",!0);Opal.Asciidoctor.SyntaxHighlighter=z,z.register=function(e,t){const i="string"==typeof e?e:e[0];if("function"==typeof t){const e=t.prototype,n=Object.getOwnPropertyNames(e);t={};for(const r in n){const i=n[r];t[i]=e[i]}}const o=s(D,i,t,{},{format:function(e){return e.length>=2&&"object"==typeof e[2]&&"$$smap"in e[2]&&(e[2]=n(e[2])),e.length>=1&&(e[1]=e[1]===Opal.nil?void 0:e[1]),e},highlight:function(e){if(e.length>=3&&"object"==typeof e[3]&&"$$smap"in e[3]){let t=e[3];t=n(t);for(const e in t){const n=t[e];if("callouts"===e){const i=r(n);for(const e in i){const t=i[e];for(let e=0;e<t.length;e++){const n=t[e];for(let e=0;e<n.length;e++)n[e]=n[e]===Opal.nil?void 0:n[e]}}t[e]=i}else t[e]=n===Opal.nil?void 0:n}e[3]=t}return e.length>=2&&(e[2]=e[2]===Opal.nil?void 0:e[2]),e}});for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&function(e){const n=t[e];"handlesHighlighting"===e?Opal.def(o,"$highlight?",(function(){return n.call()})):"hasDocinfo"===e&&Opal.def(o,"$docinfo?",(function(e){return n.apply(this,[e])}))}(e);return Opal.def(o,"$name",(function(){return i})),z.$register(o,e),o},z.get=function(e){const t=z.$for(e);return t===Opal.nil?void 0:t},z.for=z.get;const D=Opal.const_get_qualified(z,"Base",!0);Opal.Asciidoctor.SyntaxHighlighterBase=D,D.prototype.registerFor=function(e){z.$register(this,e)};const F=Opal.Asciidoctor.Table;F.create=function(e,n){return this.$new(e,t(n))},F.prototype.getCaption=function(){return this.caption},F.prototype.getRows=function(){return this.rows},F.prototype.getColumns=function(){return this.columns},F.prototype.getHeadRows=function(){return this.rows.head},F.prototype.hasHeadRows=function(){return this.rows!==Opal.nil&&this.rows.head.length>0},F.prototype.getBodyRows=function(){return this.rows.body},F.prototype.hasBodyRows=function(){return this.rows!==Opal.nil&&this.rows.body.length>0},F.prototype.getFootRows=function(){return this.rows.foot},F.prototype.hasFootRows=function(){return this.rows!==Opal.nil&&this.rows.foot.length>0},F.prototype.hasHeaderOption=function(){return this.has_header_option},F.prototype.hasFooterOption=function(){return this.isOption("footer")},F.prototype.hasAutowidthOption=function(){return this.isOption("autowidth")},F.prototype.getRowCount=function(){return this.getAttribute("rowcount")},F.prototype.setRowCount=function(e){this.setAttribute("rowcount",e)},F.prototype.getColumnCount=function(){return this.getAttribute("colcount")},F.prototype.setColumnCount=function(e){this.setAttribute("colcount",e)};const M=Opal.Asciidoctor.Table.Rows;M.create=function(e,t,n){return this.$new(e,t,n)},M.prototype.getHead=function(){return this.head},M.prototype.getFoot=function(){return this.foot},M.prototype.getBody=function(){return this.body},M.prototype.bySection=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]};const q=Opal.Asciidoctor.Table.Column;q.create=function(e,n,r){return this.$new(e,n,t(r))},q.prototype.getColumnNumber=function(){return this.getAttribute("colnumber")},q.prototype.getWidth=function(){return this.getAttribute("width")},q.prototype.getHorizontalAlign=function(){return this.getAttribute("halign")},q.prototype.getVerticalAlign=function(){return this.getAttribute("valign")},q.prototype.getStyle=function(){const e=this.style;return e===Opal.nil?void 0:e};const B=Opal.Asciidoctor.Table.Cell;B.create=function(e,n,r,i){return this.$new(e,n,t(r),t(i))},B.prototype.getColumnSpan=function(){const e=this.colspan;return e===Opal.nil?void 0:e},B.prototype.setColumnSpan=function(e){return this["$colspan="](e)},B.prototype.getRowSpan=function(){const e=this.rowspan;return e===Opal.nil?void 0:e},B.prototype.setRowSpan=function(e){return this["$rowspan="](e)},B.prototype.getContent=function(){return this.$content()},B.prototype.getText=function(){return this.$text()},B.prototype.getSource=function(){return this.$source()},B.prototype.getLines=function(){return this.$lines()},B.prototype.getLineNumber=function(){const e=this.$lineno();return e===Opal.nil?void 0:e},B.prototype.getFile=function(){const e=this.$file();return e===Opal.nil?void 0:e},B.prototype.getStyle=function(){const e=this.$style();return e===Opal.nil?void 0:e},B.prototype.getColumn=function(){const e=this.$column();return e===Opal.nil?void 0:e},B.prototype.getWidth=function(){return this.getAttribute("width")},B.prototype.getColumnPercentageWidth=function(){return this.getAttribute("colpcwidth")},B.prototype.getInnerDocument=function(){const e=this.inner_document;return e===Opal.nil?void 0:e};const j=Opal.Asciidoctor.Converter.TemplateConverter;if(j){Opal.Asciidoctor.TemplateConverter=j,j.create=function(e,n,r){r&&r.template_cache&&(r.template_cache=t(r.template_cache)),this.$new(e,n,t(r))},j.getCache=function(){const e=n(this.caches);if(e){if(e.scans){e.scans=n(e.scans);for(const t in e.scans)e.scans[t]=n(e.scans[t])}e.templates&&(e.templates=n(e.templates))}return e},j.clearCache=function(){this.$clear_caches()},j.prototype.convert=function(e,n,r){return this.$convert(e,n,t(r))},j.prototype.handles=function(e){return this["$handles?"](e)},j.prototype.getContentOnly=function(e){return this.$content_only(e)},j.prototype.skip=function(e){this.$skip(e)},j.prototype.getTemplates=function(){return n(this.$templates())},j.prototype.register=function(e,t){return this.$register(e,t)};const e={registry:{}};Opal.Asciidoctor.TemplateEngine=e,e.register=function(e,t){if("string"==typeof e)this.registry[e]=t;else for(let n=0;n<e.length;n++){const r=e[n];this.registry[r]=t}}}const P=Opal.Asciidoctor.Converter.CompositeConverter;P&&(Opal.Asciidoctor.CompositeConverter=P,P.prototype.convert=function(e,n,r){return this.$convert(e,n,t(r))},P.prototype.getContentOnly=function(e){return this.$content_only(e)},P.prototype.skip=function(e){this.$skip(e)},P.prototype.getConverters=function(){return this.converters},P.prototype.getConverter=function(e){const t=this.$converter_for(e);return t===Opal.nil?void 0:t},P.prototype.findConverter=function(e){return this.$find_converter(e)});const U=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=U,U.prototype.convert=function(e,n,r){return this.$convert(e,n,t(r))},U.create=function(e,n){return this.$create(e,t(n))};const H=Opal.Asciidoctor.Converter.Factory,Y=Opal.Asciidoctor.Converter.Base;Opal.Asciidoctor.ConverterFactory=H;const G=Opal.Asciidoctor.Converter.BackendTraits;Opal.Asciidoctor.ConverterBackendTraits=G,H.register=function(e,t){const n=[o(e)].concat(t);return U.$register.apply(U,n)},H.getDefault=function(e){return this.$default(e)},H.prototype.create=function(e,n){return this.$create(e,t(n))},H.getRegistry=function(){return n(U.$registry())},H.for=function(e){const t=U.$for(e);return t===Opal.nil?void 0:t},H.unregisterAll=function(){const e=U.DefaultFactory.$$cvars["@@registry"];U.DefaultFactory.$$cvars["@@registry"]=t({html5:e["$[]"]("html5")})};const W=Opal.Asciidoctor.Converter.Html5Converter;Opal.Asciidoctor.Html5Converter=W,W.create=function(){return this.$new()},W.prototype.convert=function(e,t,n){return this.$convert(e,t,n)};const K=function(e){return e.$$arity=e.length,e},V=function(e,t,n,r){return"object"==typeof n||n.$$is_class?e["$"+t](n,r):Opal.send(e,t,r&&[r],K(n))},X=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=X,X.create=function(e,t){return"function"==typeof e&&void 0===t?Opal.send(this,"create",null,K(e)):"function"==typeof t?Opal.send(this,"create",[e],K(t)):this.$create()},X.register=function(e,t){return"function"==typeof e&&void 0===t?Opal.send(this,"register",null,K(e)):Opal.send(this,"register",[e],K(t))},X.getGroups=function(){return n(this.$groups())},X.unregisterAll=function(){this.$unregister_all()},X.unregister=function(){const e=Array.prototype.concat.apply([],arguments),t=this.$groups(),n={};let r=0;const i=t.$$keys;for(;r<i.length;r++){const e=i[r];n[e.toString()]=e}for(let r=0;r<e.length;r++){const i=e[r];i in n&&Opal.hash_delete(t,n[i])}};const J=X.Registry;J.prototype.getGroups=X.getGroups,J.prototype.unregisterAll=function(){this.groups=Opal.hash()},J.prototype.unregister=X.unregister,J.prototype.prefer=function(e,t){return 1===arguments.length&&(t=e,e=null),"object"==typeof t||t.$$is_class?this.$prefer(e,t):Opal.send(this,"prefer",e&&[e],K(t))},J.prototype.block=function(e,t){return 1===arguments.length&&(t=e,e=null),V(this,"block",t,e)},J.prototype.inlineMacro=function(e,t){return 1===arguments.length&&(t=e,e=null),V(this,"inline_macro",t,e)},J.prototype.includeProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),V(this,"include_processor",t,e)},J.prototype.blockMacro=function(e,t){return 1===arguments.length&&(t=e,e=null),V(this,"block_macro",t,e)},J.prototype.treeProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),V(this,"tree_processor",t,e)},J.prototype.postprocessor=function(e,t){return 1===arguments.length&&(t=e,e=null),V(this,"postprocessor",t,e)},J.prototype.preprocessor=function(e,t){return 1===arguments.length&&(t=e,e=null),V(this,"preprocessor",t,e)},J.prototype.docinfoProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),V(this,"docinfo_processor",t,e)},J.prototype.hasPreprocessors=function(){return this["$preprocessors?"]()},J.prototype.hasTreeProcessors=function(){return this["$tree_processors?"]()},J.prototype.hasIncludeProcessors=function(){return this["$include_processors?"]()},J.prototype.hasPostprocessors=function(){return this["$postprocessors?"]()},J.prototype.hasDocinfoProcessors=function(e){return this["$docinfo_processors?"](e)},J.prototype.hasBlocks=function(){return this["$blocks?"]()},J.prototype.hasBlockMacros=function(){return this["$block_macros?"]()},J.prototype.hasInlineMacros=function(){return this["$inline_macros?"]()},J.prototype.getPreprocessors=function(){return this.$preprocessors()},J.prototype.getTreeProcessors=function(){return this.$tree_processors()},J.prototype.getIncludeProcessors=function(){return this.$include_processors()},J.prototype.getPostprocessors=function(){return this.$postprocessors()},J.prototype.getDocinfoProcessors=function(e){return this.$docinfo_processors(e)},J.prototype.getBlocks=function(){return this.block_extensions.$values()},J.prototype.getBlockMacros=function(){return this.block_macro_extensions.$values()},J.prototype.getInlineMacros=function(){return this.$inline_macros()},J.prototype.getInlineMacroFor=function(e){const t=this["$registered_for_inline_macro?"](e);return!1===t?void 0:t},J.prototype.getBlockFor=function(e,t){if(void 0===t){const t=this.$find_block_extension(e);return t===Opal.nil?void 0:t}const n=this["$registered_for_block?"](e,t);return!1===n?void 0:n},J.prototype.getBlockMacroFor=function(e){const t=this["$registered_for_block_macro?"](e);return!1===t?void 0:t};const Z=X.Processor;Z.prototype.prepend=function(){this.$option("position",">>")},Z.prototype.process=function(e){const t=new Proxy(e,{apply:function(e,t,r){for(let e=0;e<r.length;e++)"object"==typeof r[e]&&"$$smap"in r[e]&&(r[e]=n(r[e]));return e.apply(t,r)}});return Opal.send(this,"process",null,K(t))},Z.prototype.named=function(e){return this.$named(e)},Z.prototype.createBlock=function(e,n,r,i,o){return this.$create_block(e,n,r,t(i),t(o))},Z.prototype.createList=function(e,n,r){return this.$create_list(e,n,t(r))},Z.prototype.createListItem=function(e,t){return this.$create_list_item(e,t)},Z.prototype.createImageBlock=function(e,n,r){return this.$create_image_block(e,t(n),t(r))},Z.prototype.createParagraph=function(e,n,r,i){return this.$create_paragraph(e,n,t(r),t(i))},Z.prototype.createOpenBlock=function(e,n,r,i){return this.$create_open_block(e,n,t(r),t(i))},Z.prototype.createExampleBlock=function(e,n,r,i){return this.$create_example_block(e,n,t(r),t(i))},Z.prototype.createPassBlock=function(e,n,r,i){return this.$create_pass_block(e,n,t(r),t(i))},Z.prototype.createListingBlock=function(e,n,r,i){return this.$create_listing_block(e,n,t(r),t(i))},Z.prototype.createLiteralBlock=function(e,n,r,i){return this.$create_literal_block(e,n,t(r),t(i))},Z.prototype.createAnchor=function(e,n,r){return r&&r.attributes&&(r.attributes=t(r.attributes)),this.$create_anchor(e,n,t(r))},Z.prototype.createInlinePass=function(e,n,r){return r&&r.attributes&&(r.attributes=t(r.attributes)),this.$create_inline_pass(e,n,t(r))},Z.prototype.createInline=function(e,n,r,i){return i&&i.attributes&&(i.attributes=t(i.attributes)),this.$create_inline(e,n,r,t(i))},Z.prototype.parseContent=function(e,n,r){return this.$parse_content(e,n,t(r))},Z.prototype.parseAttributes=function(e,r,i){return i&&i.attributes&&(i.attributes=t(i.attributes)),n(this.$parse_attributes(e,r,t(i)))},Z.prototype.positionalAttributes=function(e){return this.$positional_attrs(e)},Z.prototype.resolveAttributes=function(e){return"object"!=typeof e||Array.isArray(e)?arguments.length>1?this.$resolves_attributes(Array.prototype.slice.call(arguments)):void 0===e?this.$resolves_attributes(Opal.nil):this.$resolves_attributes(e):this.$resolves_attributes(t(e))},Z.prototype.resolvesAttributes=Z.prototype.resolveAttributes,Z.prototype.getConfig=function(){return n(this.config)},Z.prototype.option=function(e,t){this.$option(e,t)};const Q=X.BlockProcessor;Q.prototype.defaultAttributes=function(e){this.$default_attributes(t(e))},Q.prototype.onContext=function(e){return this.$on_context(e)},Q.prototype.onContexts=function(e){return this.$on_contexts(Array.prototype.slice.call(arguments))},Q.prototype.getName=function(){const e=this.name;return e===Opal.nil?void 0:e},Q.prototype.parseContentAs=function(e){this.$parse_content_as(e)};const ee=X.BlockMacroProcessor;ee.prototype.defaultAttributes=function(e){this.$default_attributes(t(e))},ee.prototype.getName=function(){const e=this.name;return e===Opal.nil?void 0:e},ee.prototype.parseContentAs=function(e){this.$parse_content_as(e)};const te=X.InlineMacroProcessor;te.prototype.defaultAttributes=function(e){this.$default_attributes(t(e))},te.prototype.getName=function(){const e=this.name;return e===Opal.nil?void 0:e},te.prototype.parseContentAs=function(e){this.$parse_content_as(e)},te.prototype.matchFormat=function(e){this.$match_format(e)},te.prototype.match=function(e){this.$match(e)};const ne=X.IncludeProcessor;ne.prototype.handles=function(e){return Opal.send(this,"handles?",null,K(e))},ne.prototype.prefer=function(){this.$prefer()},X.TreeProcessor.prototype.prefer=function(){this.$prefer()},X.Postprocessor.prototype.prefer=function(){this.$prefer()},X.Preprocessor.prototype.prefer=function(){this.$prefer()};const re=X.DocinfoProcessor;function ie(e,t,n){return s(Opal.const_get_qualified(X,e),t,n,{"handles?":function(){return!0}})}return re.prototype.prefer=function(){this.$prefer()},re.prototype.atLocation=function(e){this.$at_location(e)},X.createPostprocessor=function(e,t){return 1===arguments.length&&(t=e,e=null),ie("Postprocessor",e,t)},X.newPostprocessor=function(e,t){return 1===arguments.length&&(t=e,e=null),this.createPostprocessor(e,t).$new()},X.createPreprocessor=function(e,t){return 1===arguments.length&&(t=e,e=null),ie("Preprocessor",e,t)},X.newPreprocessor=function(e,t){return 1===arguments.length&&(t=e,e=null),this.createPreprocessor(e,t).$new()},X.createTreeProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),ie("TreeProcessor",e,t)},X.newTreeProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),this.createTreeProcessor(e,t).$new()},X.createIncludeProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),ie("IncludeProcessor",e,t)},X.newIncludeProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),this.createIncludeProcessor(e,t).$new()},X.createDocinfoProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),ie("DocinfoProcessor",e,t)},X.newDocinfoProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),this.createDocinfoProcessor(e,t).$new()},X.createBlockProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),ie("BlockProcessor",e,t)},X.newBlockProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),this.createBlockProcessor(e,t).$new()},X.createInlineMacroProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),ie("InlineMacroProcessor",e,t)},X.newInlineMacroProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),this.createInlineMacroProcessor(e,t).$new()},X.createBlockMacroProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),ie("BlockMacroProcessor",e,t)},X.newBlockMacroProcessor=function(e,t){return 1===arguments.length&&(t=e,e=null),this.createBlockMacroProcessor(e,t).$new()},Opal.Asciidoctor.prototype.getVersion=function(){return"3.0.2"},Opal.Asciidoctor}n.d(t,{default:()=>r}),function(e){var t,n,r,i,o,s,a,l;if("undefined"!=typeof globalThis?e=globalThis:"undefined"!=typeof global?e=global:"undefined"!=typeof window&&(e=window),null==e.console&&(e.console={}),"log"in(t="object"==typeof e.console?e.console:{})||(t.log=function(){}),"warn"in t||(t.warn=t.log),void 0!==e.Opal)return t.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),e.Opal;var u=e.Opal={};u.global=e,u.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var c=Function.prototype.call,$=Function.prototype.bind,_=Object.hasOwn||c.bind(Object.prototype.hasOwnProperty),f=Object.setPrototypeOf,d=c.bind(Array.prototype.slice),p=c.bind(Array.prototype.splice),h=4;function m(){return h+=2}u.uid=m,u.id=function(e){return e.$$is_number?2*e+1:(null==e.$$id&&b(e,"$$id",m()),e.$$id)};var g=u.gvars={};function v(e,t){if(e||(e=u.Exception||Error),!l||!l.$raise)throw e.$new?e.$new(t):new e(t);arguments.length>2?l.$raise(e.$new.apply(e,d(arguments,1))):l.$raise(e,t)}function b(e,t,n){"string"==typeof e?e[t]=n:Object.defineProperty(e,t,{value:n,enumerable:!1,configurable:!0,writable:!0})}u.exit=function(e){g.DEBUG&&t.log("Exited with status "+e)},u.exceptions=[],u.pop_exception=function(){var e=u.exceptions.pop();e?(g["!"]=e,g["@"]=e.$backtrace()):g["!"]=g["@"]=n},u.prop=b,u.defineProperty=u.prop,u.slice=d;var y=u.truthy=function(e){return!(!1===e||n===e||null==e||e instanceof Boolean&&!0!==e.valueOf())};function w(e){var t,n,r;for(t=0,n=u.tracers_for_class.length;t<n;t++)(r=u.tracers_for_class[t]).trace_object=e,r.block.$call(r)}function x(e,t){if(e.$$autoload[t].loaded){if(e.$$autoload[t].loaded&&!e.$$autoload[t].required&&e.$$autoload[t].exception)throw e.$$autoload[t].exception}else{e.$$autoload[t].loaded=!0;try{u.Kernel.$require(e.$$autoload[t].path)}catch(n){throw e.$$autoload[t].exception=n,n}if(e.$$autoload[t].required=!0,null!=e.$$const[t])return e.$$autoload[t].success=!0,e.$$const[t]}}function k(e,t){if(e){if(null!=e.$$const[t])return e.$$const[t];if(e.$$autoload&&e.$$autoload[t])return x(e,t)}}function E(e,t){var n,r,i;if(null!=e)for(n=0,r=(i=D(e)).length;n<r;n++){if(i[n].$$const&&_(i[n].$$const,t))return i[n].$$const[t];if(i[n].$$autoload&&i[n].$$autoload[t])return x(i[n],t)}}function A(e,t){return(e||i).$const_missing(t)}function S(e,t,r){var o=!0;return null!=e&&"::"!==e||(e=i),r.$$is_a_module&&(null!=r.$$name&&r.$$name!==n||(r.$$name=t),null==r.$$base_module&&(r.$$base_module=e)),e.$$const=e.$$const||Object.create(null),(t in e.$$const||"$$autoload"in e&&t in e.$$autoload)&&(o=!1),e.$$const[t]=r,e.$$=e.$$const,u.const_cache_version++,e===i&&(u[t]=r),b(e,t,r),o&&e.$const_added&&!e.$const_added.$$pristine&&e.$const_added(t),r}function C(e,t,r){var i;if(i=null!=t&&t.$$bridge?function(){var e=d(arguments),n=new($.apply(t.$$constructor,[null].concat(e)));return f(n,i.$$prototype),n}:function(){},e&&e!==n&&b(i,"displayName","::"+e),b(i,"$$name",e),b(i,"$$constructor",i),b(i,"$$prototype",i.prototype),b(i,"$$const",{}),b(i,"$$is_class",!0),b(i,"$$is_a_module",!0),b(i,"$$super",t),b(i,"$$cvars",{}),b(i,"$$own_included_modules",[]),b(i,"$$own_prepended_modules",[]),b(i,"$$ancestors",[]),b(i,"$$ancestors_cache_version",null),b(i,"$$subclasses",[]),b(i.$$prototype,"$$class",i),u.Class&&f(i,u.Class.prototype),null!=t){if(f(i.$$prototype,t.$$prototype),!0!==r)if("undefined"!=typeof WeakRef){var o,s,a=[];for(o=0;o<t.$$subclasses.length;o++)void 0!==(s=t.$$subclasses[o]).deref()&&a.push(s);a.push(new WeakRef(i)),t.$$subclasses=a}else t.$$subclasses.push(i);t.$$meta&&u.build_class_singleton_class(i)}return i}function O(e){var t=function(){},n=t;return e&&b(t,"displayName",e+".constructor"),b(n,"$$name",e),b(n,"$$prototype",t.prototype),b(n,"$$const",{}),b(n,"$$is_module",!0),b(n,"$$is_a_module",!0),b(n,"$$cvars",{}),b(n,"$$iclasses",[]),b(n,"$$own_included_modules",[]),b(n,"$$own_prepended_modules",[]),b(n,"$$ancestors",[n]),b(n,"$$ancestors_cache_version",null),f(n,u.Module.prototype),n}function T(e,t){e.hasOwnProperty("$$meta")?e.$$meta=t:b(e,"$$meta",t),e.$$frozen?e.$$meta.$freeze():f(e,t.$$prototype)}function I(e){return e.hasOwnProperty("$$iclass")&&e.hasOwnProperty("$$root")}function R(e){var t=N(e);return e.$$is_module&&e.$$iclasses.push(t),t}function N(e){var t={},n=e.$$prototype;n.hasOwnProperty("$$dummy")&&(n=n.$$define_methods_on);var r,i=Object.getOwnPropertyNames(n),o=i.length;for(r=0;r<o;r++){var s=i[r];b(t,s,n[s])}return b(t,"$$iclass",!0),b(t,"$$module",e),t}function L(e){var t=e.length,n=e[0];if(b(n,"$$root",!0),1===t)return{first:n,last:n};for(var r=n,i=1;i<t;i++){var o=e[i];f(r,o),r=o}return{first:e[0],last:e[t-1]}}function z(e){if(!e.hasOwnProperty("$$dummy"))return e.hasOwnProperty("$$iclass")?e.$$module:e.hasOwnProperty("$$class")?e.$$class:void 0}function D(e){if(!e)return[];if(e.$$ancestors_cache_version===u.const_cache_version)return e.$$ancestors;var t,n,r,i=[];for(t=0,n=function(e){return e.$$own_prepended_modules.concat([e]).concat(e.$$own_included_modules)}(e),r=n.length;t<r;t++)i.push(n[t]);if(e.$$super)for(t=0,r=(n=D(e.$$super)).length;t<r;t++)i.push(n[t]);return e.$$ancestors_cache_version=u.const_cache_version,e.$$ancestors=i,i}function F(e){return e.hasOwnProperty("$$meta")&&null!==e.$$meta?D(e.$$meta):D(e.$$class)}function M(e,t){"number"==typeof t?e.$$arity=t:"object"==typeof t&&Object.assign(e,t)}u.falsy=function(e){return!y(e)},u.type_error=function(e,t,n,r){e=e.$$class,r&&n?(r=r.$$class,v(u.TypeError,"can't convert "+e+" into "+t+" ("+e+"#"+n+" gives "+r+")")):v(u.TypeError,"no implicit conversion of "+e+" into "+t)},u.coerce_to=function(e,t,n,r){var i;return"to_int"===n&&t===u.Integer&&e.$$is_number?e<0?Math.ceil(e):Math.floor(e):"to_str"===n&&t===u.String&&e.$$is_string||u.is_a(e,t)?e:e["$respond_to?"].$$pristine&&e.$method_missing.$$pristine?((null==(i=e[B(n)])||i.$$stub)&&u.type_error(e,t),i.apply(e,r)):(e["$respond_to?"](n)||u.type_error(e,t),null==r&&(r=[]),u.send(e,n,r))},u.respond_to=function(e,t,n){if(null==e||!e.$$class)return!1;n=!!n;var r=e[t];return e["$respond_to?"].$$pristine?"function"==typeof r&&!r.$$stub||(e["$respond_to_missing?"].$$pristine?void 0:u.send(e,e["$respond_to_missing?"],[t.substr(1),n])):u.send(e,e["$respond_to?"],[t.substr(1),n])},u.trace_class=!1,u.tracers_for_class=[],u.const_get_local=function(e,t,n){var r;if(null!=e)return"::"===e&&(e=i),e.$$is_module||e.$$is_class||v(u.TypeError,e.toString()+" is not a class/module"),null!=(r=k(e,t))||n?r:A(e,t)},u.const_get_qualified=function(e,t,n){var r,o,s,a=u.const_cache_version;return null==t?null!=(r=k(i,e))?r:u.const_get_qualified(i,e,n):null!=e?("::"===e&&(e=i),e.$$is_module||e.$$is_class||v(u.TypeError,e.toString()+" is not a class/module"),null==(o=e.$$const_cache)&&(b(e,"$$const_cache",Object.create(null)),o=e.$$const_cache),null==(s=o[t])||s[0]!==a?(null!=(r=k(e,t))||(r=E(e,t)),o[t]=[a,r]):r=s[1],null!=r||n?r:A(e,t)):void 0},u.const_cache_version=1,u.const_get_relative=function(e,t,n){var r,o,s,a=e[0],l=u.const_cache_version;return null==(o=e.$$const_cache)&&(b(e,"$$const_cache",Object.create(null)),o=e.$$const_cache),null==(s=o[t])||s[0]!==l?(null!=(r=k(a,t))||null!=(r=function(e,t){var n,r,i;if(0!==e.length)for(n=0,r=e.length;n<r;n++){if(null!=(i=e[n].$$const[t]))return i;if(e[n].$$autoload&&e[n].$$autoload[t])return x(e[n],t)}}(e,t))||null!=(r=E(a,t))||(r=function(e,t){if(null==e||e.$$is_module)return E(i,t)}(a,t)),o[t]=[l,r]):r=s[1],null!=r||n?r:A(a,t)},u.const_set=S,u.constants=function(e,t){null==t&&(t=!0);var n,r,o,s,a=[e],l={};for(t&&(a=a.concat(D(e))),t&&e.$$is_module&&(a=a.concat([u.Object]).concat(D(u.Object))),r=0,o=a.length;r<o&&(n=a[r],e===i||n!=i);r++){for(s in n.$$const)l[s]=!0;if(n.$$autoload)for(s in n.$$autoload)l[s]=!0}return Object.keys(l)},u.const_remove=function(e,t){if(u.const_cache_version++,null!=e.$$const[t]){var r=e.$$const[t];return delete e.$$const[t],r}if(e.$$autoload&&e.$$autoload[t])return delete e.$$autoload[t],n;v(u.NameError,"constant "+e+"::"+e.$name()+" not defined")},u.const_get_relative_factory=function(e){return function(t,n){return u.$$(e,t,n)}},u.$$=u.const_get_relative,u.$$$=u.const_get_qualified,u.$r=u.const_get_relative_factory,u.allocate_class=C,u.klass=function(e,t,n){var r;null==e||"::"==e?e=i:e.$$is_class||e.$$is_module||(e=e.$$class),null==t||t.hasOwnProperty&&(!t.hasOwnProperty||t.hasOwnProperty("$$is_class"))||(t.constructor&&"Function"==t.constructor.name?(r=t,t=i):v(u.TypeError,"superclass must be a Class ("+(t.constructor&&(t.constructor.name||t.constructor.$$name)||typeof t)+" given)"));var o=function(e,t){var n=k(e,t);if(n)return n.$$is_class||v(u.TypeError,t+" is not a class"),n}(e,n);return null!=o?t&&function(e,t){e.$$super!==t&&v(u.TypeError,"superclass mismatch for class "+e.$$name)}(o,t):(null==t&&(t=i),S(e,n,o=C(n,t)),t.$inherited&&t.$inherited(o),r&&u.bridge(r,o)),u.trace_class&&w(o),o},u.allocate_module=O,u.module=function(e,t){var n;return null==e||"::"==e?e=i:e.$$is_class||e.$$is_module||(e=e.$$class),n=function(e,t){var n=k(e,t);return null==n&&e===i&&(n=E(i,t)),n&&(n.$$is_module||n===i||v(u.TypeError,t+" is not a module")),n}(e,t),null==n&&S(e,t,n=O(t)),u.trace_class&&w(n),n},u.get_singleton_class=function(e){return e.$$is_number&&v(u.TypeError,"can't define singleton"),e.$$meta?e.$$meta:e.hasOwnProperty("$$is_class")?u.build_class_singleton_class(e):e.hasOwnProperty("$$is_module")?u.build_module_singleton_class(e):u.build_object_singleton_class(e)},u.build_class_singleton_class=function(e){if(e.$$meta)return e.$$meta;var t=C(null,e===r?s:u.get_singleton_class(e.$$super),!0);return b(t,"$$is_singleton",!0),b(t,"$$singleton_of",e),T(e,t),b(e,"$$class",u.Class),t},u.build_module_singleton_class=function(e){if(e.$$meta)return e.$$meta;var t=C(null,u.Module,!0);return b(t,"$$is_singleton",!0),b(t,"$$singleton_of",e),T(e,t),b(e,"$$class",u.Module),t},u.build_object_singleton_class=function(e){var t=e.$$class,r=C(n,t,!0);return b(r,"$$is_singleton",!0),b(r,"$$singleton_of",e),delete r.$$prototype.$$class,T(e,r),r},u.is_method=function(e){return"$"===e[0]&&"$"!==e[1]},u.instance_methods=function(e){for(var t=[],n=[],r=D(e),i=0,o=r.length;i<o;i++){var s=r[i].$$prototype;s.hasOwnProperty("$$dummy")&&(s=s.$$define_methods_on);for(var a=Object.getOwnPropertyNames(s),l=0,c=a.length;l<c;l++){var $=a[l];if(u.is_method($)){var _=$.slice(1),f=s[$];f.$$stub&&-1===t.indexOf(_)&&t.push(_),f.$$stub||-1!==n.indexOf(_)||-1!==t.indexOf(_)||n.push(_)}}}return n},u.own_instance_methods=function(e){var t=[],n=e.$$prototype;n.hasOwnProperty("$$dummy")&&(n=n.$$define_methods_on);for(var r=Object.getOwnPropertyNames(n),i=0,o=r.length;i<o;i++){var s=r[i];if(u.is_method(s)&&!n[s].$$stub){var a=s.slice(1);t.push(a)}}return t},u.methods=function(e){return u.instance_methods(e.$$meta||e.$$class)},u.own_methods=function(e){return e.$$meta?u.own_instance_methods(e.$$meta):[]},u.receiver_methods=function(e){var t=u.get_singleton_class(e),n=u.own_instance_methods(t),r=u.own_instance_methods(t.$$super);return n.concat(r)},u.class_variables=function(e){var t,n=D(e),r={};for(t=n.length-1;t>=0;t--){var i=n[t];for(var o in i.$$cvars)r[o]=i.$$cvars[o]}return r},u.class_variable_set=function(e,t,n){var r,i=D(e);for(r=i.length-2;r>=0;r--){var o=i[r];if(_(o.$$cvars,t))return o.$$cvars[t]=n,n}return e.$$cvars[t]=n,n},u.class_variable_get=function(e,t,r){if(_(e.$$cvars,t))return e.$$cvars[t];var i,o=D(e),s=o.length;for(i=0;i<s;i++){var a=o[i];if(_(a.$$cvars,t))return a.$$cvars[t]}return r||v(u.NameError,"uninitialized class variable "+t+" in "+e.$name()),n},u.append_features=function(e,t){var n=D(e),r=[];-1!==n.indexOf(t)&&v(u.ArgumentError,"cyclic include detected");for(var i=0,o=n.length;i<o;i++){var s=R(n[i]);b(s,"$$included",!0),r.push(s)}var a,l,c=D(t),$=L(r);if(-1===c.indexOf(e))a=t.$$prototype,l=Object.getPrototypeOf(t.$$prototype);else{for(var _=t.$$prototype,d=Object.getPrototypeOf(_);null!=d&&(d.$$module!==e||!I(d));)_=d,d=Object.getPrototypeOf(d);if(d){for(var p=Object.getPrototypeOf(d);p.hasOwnProperty("$$iclass")&&!I(p);)p=Object.getPrototypeOf(p);a=_,l=p}else a=t.$$prototype,l=Object.getPrototypeOf(t.$$prototype)}f(a,$.first),f($.last,l),t.$$own_included_modules=function(e){for(var t,n=[],r=Object.getPrototypeOf(e.$$prototype);r&&!r.hasOwnProperty("$$class");)(t=z(r))&&n.push(t),r=Object.getPrototypeOf(r);return n}(t),u.const_cache_version++},u.prepend_features=function(e,t){var n=D(e),r=[];-1!==n.indexOf(t)&&v(u.ArgumentError,"cyclic prepend detected");for(var i=0,o=n.length;i<o;i++){var s=R(n[i]);b(s,"$$prepended",!0),r.push(s)}var a,l,c,$=L(r),_=t.$$prototype,d=Object.getPrototypeOf(_);if(_.hasOwnProperty("$$dummy")?a=_.$$define_methods_on:(a=N(t),function(e){for(var t=e.$$prototype,n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r];u.is_method(i)&&delete t[i]}}(t),b(_,"$$dummy",!0),b(_,"$$define_methods_on",a),f(_,a),f(a,d)),-1===D(t).indexOf(e))for(l=_,c=Object.getPrototypeOf(_);null!=c&&!c.hasOwnProperty("$$root")&&c!==a&&c.hasOwnProperty("$$iclass");)c=Object.getPrototypeOf(c);else v(u.RuntimeError,"Prepending a module multiple times is not supported");f(l,$.first),f($.last,c),t.$$own_prepended_modules=function(e){var t,n=[],r=Object.getPrototypeOf(e.$$prototype);if(e.$$prototype.hasOwnProperty("$$dummy"))for(;r&&r!==e.$$prototype.$$define_methods_on;)(t=z(r))&&n.push(t),r=Object.getPrototypeOf(r);return n}(t),u.const_cache_version++},u.bridge=function(e,t){e.hasOwnProperty("$$bridge")&&v(u.ArgumentError,"already bridged"),b(e,"$$bridge",t),f(e.prototype,(t.$$super||u.Object).$$prototype),b(t,"$$prototype",e.prototype),b(t.$$prototype,"$$class",t),b(t,"$$constructor",e),b(t,"$$bridge",!0)},u.ancestors=D,u.included_modules=function(e){for(var t=[],n=null,r=Object.getPrototypeOf(e.$$prototype);r&&Object.getPrototypeOf(r);r=Object.getPrototypeOf(r))(n=z(r))&&n.$$is_module&&r.$$iclass&&r.$$included&&t.push(n);return t},u.add_stubs=function(e){for(var t,n,r=u.BasicObject.$$prototype,i=0,o=(e=e.split(",")).length;i<o;i++)(null==(n=r[t=B(e[i])])||n.$$stub)&&u.add_stub_for(r,t)},u.add_stub_for=function(e,t){b(e,t,u.stub_for(t))},u.stub_for=function(e){function t(){this.$method_missing.$$p=t.$$p,t.$$p=null;for(var n=new Array(arguments.length),r=0,i=n.length;r<i;r++)n[r]=arguments[r];return this.$method_missing.apply(this,[e.slice(1)].concat(n))}return t.$$stub=!0,t},u.ac=function(e,t,n,r){var i="";n.$$is_a_module?i+=n.$$name+".":i+=n.$$class.$$name+"#",i+=r,v(u.ArgumentError,"["+i+"] wrong number of arguments (given "+e+", expected "+t+")")},u.block_ac=function(e,t,n){var r="`block in "+n+"'";v(u.ArgumentError,r+": wrong number of arguments (given "+e+", expected "+t+")")},u.find_super=function(e,t,n,r,i){for(var o,s,a=B(t),l=(o=F(e)).indexOf(n.$$owner)+1;l<o.length;l++){var c=o[l].$$prototype;if(c.hasOwnProperty("$$dummy")&&(c=c.$$define_methods_on),c.hasOwnProperty(a)){s=c[a];break}}return!r&&s&&s.$$stub&&e.$method_missing.$$pristine&&v(u.NoMethodError,"super: no superclass method `"+t+"' for "+e,t),s.$$stub&&!i?null:s},u.find_block_super=function(e,t,n,r,i){var o=t;return n||v(u.RuntimeError,"super called outside of method"),i&&n.$$define_meth&&v(u.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),n.$$def&&(o=n.$$jsid),u.find_super(e,o,n,r)},u.find_super_dispatcher=u.find_super,u.find_iter_super_dispatcher=u.find_block_super,u.yield1=function(e,t){"function"!=typeof e&&v(u.LocalJumpError,"no block given");var n=e.$$has_top_level_mlhs_arg,r=e.$$has_trailing_comma_in_args;return(e.length>1||(n||r)&&1===e.length)&&(t=u.to_ary(t)),(e.length>1||r&&1===e.length)&&t.$$is_array?e.apply(null,t):e(t)},u.yieldX=function(e,t){if("function"!=typeof e&&v(u.LocalJumpError,"no block given"),e.length>1&&1===t.length&&t[0].$$is_array)return e.apply(null,t[0]);if(!t.$$is_array){for(var n=new Array(t.length),r=0,i=n.length;r<i;r++)n[r]=t[r];return e.apply(null,n)}return e.apply(null,t)},u.rescue=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.$$is_array){var i=u.rescue(e,r);if(i)return i}else if(r===u.JS.Error||r["$==="](e))return r}return null},u.is_a=function(e,t){return null!=t&&e.$$meta===t||e.$$class===t||(e.$$is_number&&t.$$is_number_class?!t.$$is_integer_class||e%1==0:-1!==D(e.$$is_class?u.get_singleton_class(e):e.$$meta||e.$$class).indexOf(t))},u.to_hash=function(e){if(e.$$is_hash)return e;if(e["$respond_to?"]("to_hash",!0)){var t=e.$to_hash();if(t.$$is_hash)return t;v(u.TypeError,"Can't convert "+e.$$class+" to Hash ("+e.$$class+"#to_hash gives "+t.$$class+")")}else v(u.TypeError,"no implicit conversion of "+e.$$class+" into Hash")},u.to_ary=function(e){if(e.$$is_array)return e;if(!e["$respond_to?"]("to_ary",!0))return[e];var t=e.$to_ary();return t===n?[e]:t.$$is_array?t:void v(u.TypeError,"Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_ary gives "+t.$$class+")")},u.to_a=function(e){if(e.$$is_array)return e.slice();if(!e["$respond_to?"]("to_a",!0))return[e];var t=e.$to_a();return t===n?[e]:t.$$is_array?t:void v(u.TypeError,"Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_a gives "+t.$$class+")")},u.extract_kwargs=function(e){var t=e[e.length-1];if(null!=t&&u.respond_to(t,"$to_hash",!0))return p(e,e.length-1),t},u.kwrestargs=function(e,t){var n,r=[],i={},o=e.$$smap;for(n in o)t[n]||(r.push(n),i[n]=o[n]);return u.hash2(r,i)};var q={};function B(e){return q[e]||(q[e]="$"+e)}function j(e){return"function"==typeof e&&!e.$$stub}u.jsid=B,u.send=function(e,t,n,r,i){var o;return"function"==typeof t?(o=t,t=null):"string"==typeof t?o=e[B(t)]:v(u.NameError,"Passed method should be a string or a function"),u.send2(e,o,t,n,r,i)},u.send2=function(e,t,n,r,i,o){return null==t&&null!=n&&e.$method_missing&&(t=e.$method_missing,r=[n].concat(r)),M(i,o),"function"==typeof i&&(t.$$p=i),t.apply(e,r)},u.refined_send=function(e,t,n,r,i,o){var s,a,l,c,$,_,f,d,p,h;for(c=F(t),s=0;s<c.length;s++)for($=u.id(c[s]),a=0;a<e.length;a++)for(l=(_=e[a]).length-1;l>=0;l--)if(void 0!==(f=_[l]).$$refine_modules&&void 0!==(d=f.$$refine_modules)[$]&&void 0!==(p=d[$]).$$prototype[B(n)])return h=p.$$prototype[B(n)],u.send2(t,h,n,r,i,o);return u.send(t,n,r,i,o)},u.lambda=function(e,t){return e.$$is_lambda=!0,M(e,t),e},u.def=function(e,t,n,r){return M(n,r),e===u.top?u.defn(u.Object,t,n):!e.$$eval&&e.$$is_a_module?u.defn(e,t,n):u.defs(e,t,n)},u.defn=function(e,t,n){U(e),n.displayName=t,n.$$owner=e;var r=t.substr(1),i=e.$$prototype;if(i.hasOwnProperty("$$dummy")&&(i=i.$$define_methods_on),b(i,t,n),e.$$is_module){e.$$module_function&&u.defs(e,t,n);for(var o=0,s=e.$$iclasses,a=s.length;o<a;o++)b(s[o],t,n)}var l=e.$$singleton_of;return!e.$method_added||e.$method_added.$$stub||l?l&&l.$singleton_method_added&&!l.$singleton_method_added.$$stub&&l.$singleton_method_added(r):e.$method_added(r),r},u.defs=function(e,t,n,r){return M(n,r),(e.$$is_string||e.$$is_number)&&v(u.TypeError,"can't define singleton"),u.defn(u.get_singleton_class(e),t,n)},u.rdef=function(e,t){_(e.$$prototype,t)||v(u.NameError,"method '"+t.substr(1)+"' not defined in "+e.$name()),delete e.$$prototype[t],e.$$is_singleton?e.$$prototype.$singleton_method_removed&&!e.$$prototype.$singleton_method_removed.$$stub&&e.$$prototype.$singleton_method_removed(t.substr(1)):e.$method_removed&&!e.$method_removed.$$stub&&e.$method_removed(t.substr(1))},u.udef=function(e,t){e.$$prototype[t]&&!e.$$prototype[t].$$stub||v(u.NameError,"method '"+t.substr(1)+"' not defined in "+e.$name()),u.add_stub_for(e.$$prototype,t),e.$$is_singleton?e.$$prototype.$singleton_method_undefined&&!e.$$prototype.$singleton_method_undefined.$$stub&&e.$$prototype.$singleton_method_undefined(t.substr(1)):e.$method_undefined&&!e.$method_undefined.$$stub&&e.$method_undefined(t.substr(1))},u.alias=function(e,t,n){var r,i,o=B(t),s=B(n);if(void 0===e.$$prototype&&(e=u.Object),r=e.$$prototype[s],e.$$eval)return u.alias(u.get_singleton_class(e),t,n);if(!j(r)){for(var a=e.$$super;"function"!=typeof r&&a;)r=a[s],a=a.$$super;!j(r)&&e.$$is_module&&(r=u.Object.$$prototype[s]),j(r)||v(u.NameError,"undefined method `"+n+"' for class `"+e.$name()+"'")}r.$$alias_of&&(r=r.$$alias_of),i=function(){var e,t,n,o=i.$$p;for(e=new Array(arguments.length),t=0,n=arguments.length;t<n;t++)e[t]=arguments[t];return i.$$p=null,u.send(this,r,e,o)};try{Object.defineProperty(i,"length",{value:r.length})}catch(e){}return i.displayName=t,i.$$arity=null==r.$$arity?r.length:r.$$arity,i.$$parameters=r.$$parameters,i.$$source_location=r.$$source_location,i.$$alias_of=r,i.$$alias_name=t,u.defn(e,o,i),e},u.alias_gvar=function(e,t){return Object.defineProperty(g,e,{configurable:!0,enumerable:!0,get:function(){return g[t]},set:function(e){g[t]=e}}),n},u.alias_native=function(e,t,n){var r=B(t),i=e.$$prototype[n];return("function"!=typeof i||i.$$stub)&&v(u.NameError,"undefined native method `"+n+"' for class `"+e.$name()+"'"),u.defn(e,r,i),e},u.hash_init=function(e){e.$$smap=Object.create(null),e.$$map=Object.create(null),e.$$keys=[]},u.hash_clone=function(e,t){t.$$none=e.$$none,t.$$proc=e.$$proc;for(var n,r,i=0,o=e.$$keys,s=e.$$smap,a=o.length;i<a;i++)(n=o[i]).$$is_string?r=s[n]:(r=n.value,n=n.key),u.hash_put(t,n,r)},u.hash_put=function(e,t,n){if(t.$$is_string)return _(e.$$smap,t)||e.$$keys.push(t),void(e.$$smap[t]=n);var r,i,o;if(r=e.$$by_identity?u.id(t):t.$hash(),!_(e.$$map,r))return i={key:t,key_hash:r,value:n},e.$$keys.push(i),void(e.$$map[r]=i);for(i=e.$$map[r];i;){if(t===i.key||t["$eql?"](i.key)){o=void 0,i.value=n;break}o=i,i=i.next}o&&(i={key:t,key_hash:r,value:n},e.$$keys.push(i),o.next=i)},u.hash_get=function(e,t){if(t.$$is_string)return _(e.$$smap,t)?e.$$smap[t]:void 0;var n,r;if(n=e.$$by_identity?u.id(t):t.$hash(),_(e.$$map,n))for(r=e.$$map[n];r;){if(t===r.key||t["$eql?"](r.key))return r.value;r=r.next}},u.hash_delete=function(e,t){var n,r,i,o=e.$$keys,s=o.length;if(t.$$is_string){if("string"!=typeof t&&(t=t.valueOf()),!_(e.$$smap,t))return;for(n=0;n<s;n++)if((i=o[n]).$$is_string&&"string"!=typeof i&&(i=i.valueOf()),i===t){o.splice(n,1);break}return r=e.$$smap[t],delete e.$$smap[t],r}var a=t.$hash();if(_(e.$$map,a))for(var l,u=e.$$map[a];u;){if(t===u.key||t["$eql?"](u.key)){for(r=u.value,n=0;n<s;n++)if(o[n]===u){o.splice(n,1);break}return l&&u.next?l.next=u.next:l?delete l.next:u.next?e.$$map[a]=u.next:delete e.$$map[a],r}l=u,u=u.next}},u.hash_rehash=function(e){for(var t,n,r,i=0,o=e.$$keys.length;i<o;i++)if(!e.$$keys[i].$$is_string&&(t=e.$$keys[i].key.$hash())!==e.$$keys[i].key_hash){for(n=e.$$map[e.$$keys[i].key_hash],r=void 0;n;){if(n===e.$$keys[i]){r&&n.next?r.next=n.next:r?delete r.next:n.next?e.$$map[e.$$keys[i].key_hash]=n.next:delete e.$$map[e.$$keys[i].key_hash];break}r=n,n=n.next}if(e.$$keys[i].key_hash=t,_(e.$$map,t)){for(n=e.$$map[t],r=void 0;n;){if(n===e.$$keys[i]){r=void 0;break}r=n,n=n.next}r&&(r.next=e.$$keys[i])}else e.$$map[t]=e.$$keys[i]}},u.hash=function(){var e,t,n,r,i,o,s=arguments.length;if(1===s&&arguments[0].$$is_hash)return arguments[0];if(t=new u.Hash,u.hash_init(t),1===s){if(e=arguments[0],arguments[0].$$is_array){for(r=e.length,n=0;n<r;n++)2!==e[n].length&&v(u.ArgumentError,"value not of length 2: "+e[n].$inspect()),i=e[n][0],o=e[n][1],u.hash_put(t,i,o);return t}for(i in e=arguments[0])_(e,i)&&(o=e[i],u.hash_put(t,i,o));return t}for(s%2!=0&&v(u.ArgumentError,"odd number of arguments for Hash"),n=0;n<s;n+=2)i=arguments[n],o=arguments[n+1],u.hash_put(t,i,o);return t},u.hash2=function(e,t){var n=new u.Hash;return n.$$smap=t,n.$$map=Object.create(null),n.$$keys=e,n},u.range=function(e,t,n){var r=new u.Range;return r.begin=e,r.end=t,r.excl=n,r};var P=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];function U(e){e.$$frozen&&v(u.FrozenError,"can't modify frozen "+e.$class()+": "+e,u.hash2(["receiver"],{receiver:e}))}function H(e,t){return"number"==typeof e&&"number"==typeof t}function Y(e,t){return"number"==typeof e&&"number"==typeof t||"string"==typeof e&&"string"==typeof t}function G(e){return function(){return e}}u.ivar=function(e){return-1!==P.indexOf(e)&&(e+="$"),e},u.deny_frozen_access=U,u.freeze=function(e){return b(e,"$$frozen",!0),e.hasOwnProperty("$$id")||b(e,"$$id",m()),e.hasOwnProperty("$$meta")?e.$$meta.$freeze():b(e,"$$meta",null),e.hasOwnProperty("$$comparable")||b(e,"$$comparable",null),Object.seal(e),e},u.freeze_props=function(e){var t,n,r;for(t in e)("string"!=(n=typeof t)&&"object"!==n||"$"!==t[0])&&(r=Object.getOwnPropertyDescriptor(e,t))&&r.enumerable&&r.writable&&function(){var n=e[t];Object.defineProperty(e,t,{get:function(){return n},set:function(t){U(e)},enumerable:!0})}()},u.escape_regexp=function(e){return e.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},u.global_regexp=function(e){return e.global?e:(null==e.$$g?e.$$g=new RegExp(e.source,(e.multiline?"gm":"g")+(e.ignoreCase?"i":"")):e.$$g.lastIndex=null,e.$$g)},u.global_multiline_regexp=function(e){var t,n;return e.global&&e.multiline?e:(n="gm"+(e.ignoreCase?"i":""),e.multiline?(null==e.$$g&&(e.$$g=new RegExp(e.source,n)),t=e.$$g):(null==e.$$gm&&(e.$$gm=new RegExp(e.source,n)),t=e.$$gm),t.lastIndex=null,t)},u.regexp=function(e,t){for(var n,r=void 0!==t&&t&&t.indexOf("i")>=0,i=0,o=e.length;i<o;i++)(n=e[i])instanceof RegExp&&(n.ignoreCase!==r&&u.Kernel.$warn("ignore case doesn't match for "+n.source.$inspect(),u.hash({uplevel:1})),n=n.source),""===n&&(n="(?:"+n+")"),e[i]=n;return t?new RegExp(e.join(""),t):new RegExp(e.join(""))},u.modules={},u.loaded_features=["corelib/runtime"],u.current_dir=".",u.require_table={"corelib/runtime":!0},u.normalize=function(e){var t,n,r=[];"."!==u.current_dir&&(e=u.current_dir.replace(/\/*$/,"/")+e);for(var i=0,o=(t=(e=(e=e.replace(/^\.\//,"")).replace(/\.(rb|opal|js)$/,"")).split("/")).length;i<o;i++)""!==(n=t[i])&&(".."===n?r.pop():r.push(n));return r.join("/")},u.loaded=function(e){var t,n,r;for(t=0,n=e.length;t<n;t++)r=u.normalize(e[t]),u.require_table[r]||(u.loaded_features.push(r),u.require_table[r]=!0)},u.load_normalized=function(e){u.loaded([e]);var n=u.modules[e];if(n){var r=n(u);if("undefined"!=typeof Promise&&r instanceof Promise)return r.then(G(!0))}else{var i=u.config.missing_require_severity,o="cannot load such file -- "+e;"error"===i?v(u.LoadError,o):"warning"===i&&t.warn("WARNING: LoadError: "+o)}return!0},u.load=function(e){return e=u.normalize(e),u.load_normalized(e)},u.require=function(e){return e=u.normalize(e),!u.require_table[e]&&u.load_normalized(e)},u.encodings=Object.create(null),u.set_encoding=function(e,t,n){void 0===n&&(n="encoding"),"string"!=typeof e&&!0!==e.$$frozen||v(u.FrozenError,"can't modify frozen String");var r=u.find_encoding(t);return r===e[n]||(e[n]=r),e},u.find_encoding=function(e){var t=u.encodings,n=t[e]||t[e.toUpperCase()];return n||v(u.ArgumentError,"unknown encoding name - "+e),n},u.enc=function(e,t){var n=new String(e);return(n=u.set_encoding(n,t)).internal_encoding=n.encoding,n},u.binary=function(e){var t=new String(e);return u.set_encoding(t,"binary","internal_encoding")},u.last_promise=null,u.promise_unhandled_exception=!1,u.queue=function(e){if(u.last_promise)return u.last_promise=u.last_promise.then((function(){if(!u.promise_unhandled_exception)return e(u)})).catch((function(e){u.respond_to(e,"$full_message")&&(e=e.$full_message()),t.error(e),u.promise_unhandled_exception=!0,u.exit(1)})),u.last_promise;var n=e(u);return"function"==typeof Promise&&"object"==typeof n&&n instanceof Promise&&(u.last_promise=n),n},u.rb_plus=function(e,t){return H(e,t)?e+t:e["$+"](t)},u.rb_minus=function(e,t){return H(e,t)?e-t:e["$-"](t)},u.rb_times=function(e,t){return H(e,t)?e*t:e["$*"](t)},u.rb_divide=function(e,t){return H(e,t)?e/t:e["$/"](t)},u.rb_lt=function(e,t){return H(e,t)?e<t:e["$<"](t)},u.rb_gt=function(e,t){return H(e,t)?e>t:e["$>"](t)},u.rb_le=function(e,t){return H(e,t)?e<=t:e["$<="](t)},u.rb_ge=function(e,t){return H(e,t)?e>=t:e["$>="](t)},u.eqeq=function(e,t){return Y(e,t)?e===t:y(e["$=="](t))},u.eqeqeq=function(e,t){return Y(e,t)?e===t:y(e["$==="](t))},u.neqeq=function(e,t){return Y(e,t)?e!==t:y(e["$!="](t))},u.not=function(e){return null==e||!1===e||n===e||!0!==e&&!e["$!"].$$pristine&&y(e["$!"]())},u.return_val=G,u.return_self=function(){return this},u.return_ivar=function(e){return function(){return null==this[e]?n:this[e]}},u.assign_ivar=function(e){return function(t){return U(this),this[e]=t}},u.assign_ivar_val=function(e,t){return function(){return U(this),this[e]=t}},u.ensure_kwargs=function(e){return null==e?u.hash2([],{}):e.$$is_hash?e:void v(u.ArgumentError,"expected kwargs")},u.get_kwarg=function(e,t){return _(e.$$smap,t)||v(u.ArgumentError,"missing keyword: "+t),e.$$smap[t]},u.large_array_unpack=function(e){var t,r=e.split(","),i=r.length;for(t=0;t<i;t++)switch(r[t][0]){case void 0:r[t]=n;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r[t]=+r[t]}return r},u.BasicObject=r=C("BasicObject",null),u.Object=i=C("Object",u.BasicObject),u.Module=o=C("Module",u.Object),u.Class=s=C("Class",u.Module),u.Opal=a=O("Opal"),u.Kernel=l=O("Kernel"),f(u.BasicObject,u.Class.$$prototype),f(u.Object,u.Class.$$prototype),f(u.Module,u.Class.$$prototype),f(u.Class,u.Class.$$prototype),r.$$const.BasicObject=r,S(i,"BasicObject",r),S(i,"Object",i),S(i,"Module",o),S(i,"Class",s),S(i,"Opal",a),S(i,"Kernel",l),r.$$class=s,i.$$class=s,o.$$class=s,s.$$class=s,a.$$class=o,l.$$class=o,b(i.$$prototype,"toString",(function(){var e=this.$to_s();return e.$$is_string&&"object"==typeof e?e.valueOf():e})),b(i.$$prototype,"$require",u.require),u.top=new i,u.top.$to_s=u.top.$inspect=G("main"),u.top.$define_method=function e(){var t=d(arguments),n=e.$$p;return e.$$p=null,u.send(i,"define_method",t,n)},u.NilClass=C("NilClass",u.Object),S(i,"NilClass",u.NilClass),(n=u.nil=new u.NilClass).$$id=4,n.call=n.apply=function(){v(u.LocalJumpError,"no block given")},n.$$frozen=!0,n.$$comparable=!1,Object.seal(n),u.thrower=function(e){var t=new Error("unexpected "+e);return t.$thrower_type=e,t.$throw=function(e){throw null==e&&(e=n),t.$v=e,t},t},u.t_eval_return=u.thrower("return"),TypeError.$$super=Error,u.file_sources={}}.call(void 0),Opal.loaded(["corelib/runtime.js"]),Opal.modules["corelib/helpers"]=function(e){var t=e.type_error,n=e.coerce_to,r=e.module,i=e.defs,o=e.slice,s=e.eqeqeq,a=e.Kernel,l=e.truthy,u=e.Opal,c=e.nil,$=e.$$$;return e.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(_){var f=r("::","Opal");i(f,"$bridge",(function(t,n){return e.bridge(t,n)})),i(f,"$coerce_to!",(function(e,r,i,l){var u,c;return u=o(arguments,3),c=n(e,r,i,u),s(r,c)||a.$raise(t(e,r,i,c)),c}),-4),i(f,"$coerce_to?",(function(e,r,i,u){var $,_=c;return $=o(arguments,3),l(e["$respond_to?"](i))?(_=n(e,r,i,$),l(_["$nil?"]())?c:(s(r,_)||a.$raise(t(e,r,i,_)),_)):c}),-4),i(f,"$try_convert",(function(e,t,n){return s(t,e)?e:l(e["$respond_to?"](n))?e.$__send__(n):c})),i(f,"$compare",(function(e,t){var n;return n=e["$<=>"](t),l(n===c)&&a.$raise($("ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),n})),i(f,"$destructure",(function(e){if(1==e.length)return e[0];if(e.$$is_array)return e;for(var t=new Array(e.length),n=0,r=t.length;n<r;n++)t[n]=e[n];return t})),i(f,"$respond_to?",(function(e,t,n){return null==n&&(n=!1),!(null==e||!e.$$class)&&e["$respond_to?"](t,n)}),-3),i(f,"$instance_variable_name!",(function(e){return e=u["$coerce_to!"](e,$("String"),"to_str"),l(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(e))||a.$raise($("NameError").$new("'"+e+"' is not allowed as an instance variable name",e)),e})),i(f,"$class_variable_name!",(function(e){return e=u["$coerce_to!"](e,$("String"),"to_str"),l(e.length<3||"@@"!==e.slice(0,2))&&a.$raise($("NameError").$new("`"+e+"' is not allowed as a class variable name",e)),e})),i(f,"$const_name?",(function(e){return"string"!=typeof e&&(e=u["$coerce_to!"](e,$("String"),"to_str")),e[0]===e[0].toUpperCase()})),i(f,"$const_name!",(function(e){return l($("::","String","skip_raise")?"constant":c)&&(e=u["$coerce_to!"](e,$("String"),"to_str")),e&&e[0]==e[0].toUpperCase()||this.$raise($("NameError"),"wrong constant name "+e),e})),i(f,"$pristine",(function(t,n){for(var r,i,s,a=(r=o(arguments,1)).length-1;a>=0;a--)i=r[a],(s=t.$$prototype[e.jsid(i)])&&!s.$$stub&&(s.$$pristine=!0);return c}),-2);var d=[];return i(f,"$inspect",(function(t){var n=!1;return function(){try{try{return null===t?"null":void 0===t?"undefined":void 0===t.$$class?Object.prototype.toString.apply(t):"function"!=typeof t.$inspect||t.$inspect.$$stub||-1!==d.indexOf(t.$__id__())?"#<"+t.$$class+":0x"+t.$__id__().$to_s(16)+">":(d.push(t.$__id__()),n=!0,t.$inspect())}catch(n){if(!e.rescue(n,[$("Exception")]))throw n;try{return"#<"+t.$$class+":0x"+t.$__id__().$to_s(16)+">"}finally{e.pop_exception()}}}finally{n&&d.pop()}}()}),-1)}()},Opal.modules["corelib/module"]=function(e){var t,n,r=e.truthy,i=e.coerce_to,o=e.const_set,s=e.Object,a=e.return_ivar,l=e.assign_ivar,u=e.ivar,c=e.deny_frozen_access,$=e.freeze,_=e.prop,f=e.jsid,d=e.klass,p=e.defs,h=e.send,m=e.def,g=e.eqeqeq,v=e.Module,b=e.Kernel,y=e.rb_lt,w=e.rb_gt,x=e.slice,k=e.to_a,E=e.hash2,A=e.Opal,S=e.return_val,C=e.eqeq,O=e.lambda,T=e.range,I=e.send2,R=e.find_super,N=e.alias,L=e.nil,z=e.$$$;return e.add_stubs("module_eval,to_proc,===,raise,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,bind,call,class,frozen?,name,append_features,included,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,class_exec,module_exec,inspect"),function(t,n,D){var F=d("::",null,"Module"),M=[F].concat([]),q=e.$r(M);p(F,"$allocate",(function(){var t=e.allocate_module(L,(function(){}));return this!==e.Module&&Object.setPrototypeOf(t,this.$$prototype),t})),m(F,"$initialize",(function e(){var t=e.$$p||L;return e.$$p=null,t!==L?h(this,"module_eval",[],t.$to_proc()):L})),m(F,"$===",(function(t){return!r(null==t)&&e.is_a(t,this)})),m(F,"$<",(function(t){var n,r,i,o=this;if(g(v,t)||b.$raise(z("TypeError"),"compared with non class/module"),o===t)return!1;for(r=0,i=(n=e.ancestors(o)).length;r<i;r++)if(n[r]===t)return!0;for(r=0,i=(n=e.ancestors(t)).length;r<i;r++)if(n[r]===o)return!1;return L})),m(F,"$<=",(function(e){var t;return r(t=this["$equal?"](e))?t:y(this,e)})),m(F,"$>",(function(e){return g(v,e)||b.$raise(z("TypeError"),"compared with non class/module"),y(e,this)})),m(F,"$>=",(function(e){var t;return r(t=this["$equal?"](e))?t:w(this,e)})),m(F,"$<=>",(function(e){var t=L;return this===e?0:g(v,e)?(t=y(this,e),r(t["$nil?"]())?L:r(t)?-1:1):L})),m(F,"$alias_method",(function(t,n){var r=this;return c(r),t=i(t,z("String"),"to_str"),n=i(n,z("String"),"to_str"),e.alias(r,t,n),r})),m(F,"$alias_native",(function(t,n){var r=this;return null==n&&(n=t),c(r),e.alias_native(r,t,n),r}),-2),m(F,"$ancestors",(function(){return e.ancestors(this)})),m(F,"$append_features",(function(t){return c(t),e.append_features(this,t),this})),m(F,"$attr_accessor",(function(e){var t,n;return t=x(arguments),h(this,"attr_reader",k(n=t)),h(this,"attr_writer",k(n))}),-1),m(F,"$attr",(function(e){var t,n=this;return 2!=(t=x(arguments)).length||!0!==t[1]&&!1!==t[1]?h(n,"attr_reader",k(t)):(n.$warn("optional boolean argument is obsoleted",E(["uplevel"],{uplevel:1})),t[1]?n.$attr_accessor(t[0]):n.$attr_reader(t[0]),L)}),-1),m(F,"$attr_reader",(function(t){var n,r=this;n=x(arguments),c(r);for(var i=r.$$prototype,o=n.length-1;o>=0;o--){var s=n[o],l=f(s),$=u(s),_=a($);e.prop(i,$,L),_.$$parameters=[],_.$$arity=0,e.defn(r,l,_)}return L}),-1),m(F,"$attr_writer",(function(t){var n,r=this;n=x(arguments),c(r);for(var i=r.$$prototype,o=n.length-1;o>=0;o--){var s=n[o],a=f(s+"="),$=u(s),_=l($);_.$$parameters=[["req"]],_.$$arity=1,e.prop(i,$,L),e.defn(r,a,_)}return L}),-1),m(F,"$autoload",(function(t,n){var r=this;return c(r),q("Opal")["$const_name?"](t)||b.$raise(z("NameError"),"autoload must be constant name: "+t),""==n&&b.$raise(z("ArgumentError"),"empty file name"),r.$$const.hasOwnProperty(t)||(r.$$autoload||(r.$$autoload={}),e.const_cache_version++,r.$$autoload[t]={path:n,loaded:!1,required:!1,success:!1,exception:!1},r.$const_added&&!r.$const_added.$$pristine&&r.$const_added(t)),L})),m(F,"$autoload?",(function(e){var t=this;if(t.$$autoload&&t.$$autoload[e]&&!t.$$autoload[e].required&&!t.$$autoload[e].success)return t.$$autoload[e].path;for(var n=t.$ancestors(),r=0,i=n.length;r<i;r++)if(n[r].$$autoload&&n[r].$$autoload[e]&&!n[r].$$autoload[e].required&&!n[r].$$autoload[e].success)return n[r].$$autoload[e].path;return L})),m(F,"$class_variables",(function(){return Object.keys(e.class_variables(this))})),m(F,"$class_variable_get",(function(t){return t=A["$class_variable_name!"](t),e.class_variable_get(this,t,!1)})),m(F,"$class_variable_set",(function(t,n){return c(this),t=A["$class_variable_name!"](t),e.class_variable_set(this,t,n)})),m(F,"$class_variable_defined?",(function(t){return t=A["$class_variable_name!"](t),e.class_variables(this).hasOwnProperty(t)})),m(F,"$const_added",S(L)),A.$pristine(F,"const_added"),m(F,"$remove_class_variable",(function(t){var n=this;if(c(n),t=A["$class_variable_name!"](t),e.hasOwnProperty.call(n.$$cvars,t)){var r=n.$$cvars[t];return delete n.$$cvars[t],r}b.$raise(z("NameError"),"cannot remove "+t+" for "+n)})),m(F,"$constants",(function(t){return null==t&&(t=!0),e.constants(this,t)}),-1),p(F,"$constants",(function(t){if(null==t){var n,r,i,o=(this.$$nesting||[]).concat(s),a={};for(r=0,i=o.length;r<i;r++)for(n in o[r].$$const)a[n]=!0;return Object.keys(a)}return e.constants(this,t)}),-1),p(F,"$nesting",(function(){return this.$$nesting||[]})),m(F,"$const_defined?",(function(t,n){var i=this;null==n&&(n=!0),t=q("Opal")["$const_name!"](t),r(t["$=~"](z(A,"CONST_NAME_REGEXP")))||b.$raise(z("NameError").$new("wrong constant name "+t,t));var o,a,l,u=[i];for(n&&(u=u.concat(e.ancestors(i)),i.$$is_module&&(u=u.concat([s]).concat(e.ancestors(s)))),a=0,l=u.length;a<l;a++){if(null!=(o=u[a]).$$const[t])return!0;if(o.$$autoload&&o.$$autoload[t]&&!o.$$autoload[t].required&&!o.$$autoload[t].success)return!0}return!1}),-2),m(F,"$const_get",(function(t,n){var i=this;return null==n&&(n=!0),0===(t=q("Opal")["$const_name!"](t)).indexOf("::")&&"::"!==t&&(t=t.slice(2)),r(-1!=t.indexOf("::")&&"::"!=t)?h(t.$split("::"),"inject",[i],(function(e,t){return null==e&&(e=L),null==t&&(t=L),e.$const_get(t)})):(r(t["$=~"](z(A,"CONST_NAME_REGEXP")))||b.$raise(z("NameError").$new("wrong constant name "+t,t)),n?e.$$([i],t):e.const_get_local(i,t))}),-2),m(F,"$const_missing",(function(e){var t;return t=C(this,s)?e:this+"::"+e,b.$raise(z("NameError").$new("uninitialized constant "+t,e))})),m(F,"$const_set",(function(e,t){return c(this),e=A["$const_name!"](e),(r(e["$!~"](z(A,"CONST_NAME_REGEXP")))||r(e["$start_with?"]("::")))&&b.$raise(z("NameError").$new("wrong constant name "+e,e)),o(this,e,t),t})),m(F,"$public_constant",S(L)),m(F,"$define_method",(function t(n,i){var o,s=t.$$p||L,a=this,l=L;return t.$$p=null,c(a),void 0===i&&s===L&&b.$raise(z("ArgumentError"),"tried to create a Proc object without a block"),s=r(o=s)?o:g(z("Proc"),l=i)?i:g(z("Method"),l)?i.$to_proc().$$unbound:g(z("UnboundMethod"),l)?O((function e(t){var n,r,o=null==e.$$s?this:e.$$s;return n=x(arguments),r=i.$bind(o),h(r,"call",k(n))}),{$$arity:-1,$$s:a}):b.$raise(z("TypeError"),"wrong argument type "+s.$class()+" (expected Proc/Method)"),"undefined"!=typeof Proxy&&(Object.create(null),s.$$proxy_target=s,s=new Proxy(s,{apply:function(e,t,r){var i=e.$$jsid;e.$$jsid=n;try{return e.apply(t,r)}catch(t){if(t===e.$$brk||t===e.$$ret)return t.$v;throw t}finally{e.$$jsid=i}}})),s.$$jsid=n,s.$$s=null,s.$$def=s,s.$$define_meth=!0,e.defn(a,f(n),s)}),-2),m(F,"$freeze",(function(){var e=this;return r(e["$frozen?"]())?e:(e.hasOwnProperty("$$base_module")||_(e,"$$base_module",null),$(e))})),m(F,"$remove_method",(function(t){var n,r=this;n=x(arguments);for(var i=0;i<n.length;i++){var o=n[i];"string"==typeof o||o.$$is_string||r.$raise(z("TypeError"),r.$name()+" is not a symbol nor a string"),c(r),e.rdef(r,"$"+o)}return r}),-1),m(F,"$singleton_class?",(function(){return!!this.$$is_singleton})),m(F,"$include",(function(e){for(var t,n=this,r=(t=x(arguments)).length-1;r>=0;r--){var i=t[r];i.$$is_module||b.$raise(z("TypeError"),"wrong argument type "+i.$class()+" (expected Module)"),i.$append_features(n),i.$included(n)}return n}),-1),m(F,"$included_modules",(function(){return e.included_modules(this)})),m(F,"$include?",(function(t){t.$$is_module||b.$raise(z("TypeError"),"wrong argument type "+t.$class()+" (expected Module)");var n,r,i,o=e.ancestors(this);for(n=0,r=o.length;n<r;n++)if((i=o[n])===t&&i!==this)return!0;return!1})),m(F,"$instance_method",(function(e){var t=this,n=t.$$prototype[f(e)];return n&&!n.$$stub||b.$raise(z("NameError").$new("undefined method `"+e+"' for class `"+t.$name()+"'",e)),z("UnboundMethod").$new(t,n.$$owner||t,n,e)})),m(F,"$instance_methods",(function(t){return null==t&&(t=!0),r(t)?e.instance_methods(this):e.own_instance_methods(this)}),-1),m(F,"$included",S(L)),m(F,"$extended",S(L)),m(F,"$extend_object",(function(e){return c(e),L})),m(F,"$method_added",(function(e){return x(arguments),L}),-1),m(F,"$method_removed",(function(e){return x(arguments),L}),-1),m(F,"$method_undefined",(function(e){return x(arguments),L}),-1),m(F,"$module_eval",(function t(n){var i,o,s=t.$$p||L,a=this,l=L,u=L,c=L,$=L,_=L,f=L;t.$$p=null,i=x(arguments),r(s["$nil?"]())&&r(!!e.compile)?(r(T(1,3,!1)["$cover?"](i.$size()))||b.$raise(z("ArgumentError"),"wrong number of arguments (0 for 1..3)"),l=null==(o=[].concat(k(i)))[0]?L:o[0],u=null==o[1]?L:o[1],null==o[2]||o[2],c=E(["file","eval"],{file:r($=u)?$:"(eval)",eval:!0}),_=e.hash({arity_check:!1}).$merge(c),f=A.$compile(l,_),s=h(b,"proc",[],(function t(){var n=null==t.$$s?this:t.$$s;return new Function("Opal,self","return "+f)(e,n)}),{$$s:a})):r(i["$any?"]())&&b.$raise(z("ArgumentError"),"wrong number of arguments ("+i.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");var d,p=s.$$s;return s.$$s=null,d=s.apply(a,[a]),s.$$s=p,d}),-1),m(F,"$module_exec",(function e(t){var n,r=e.$$p||L;e.$$p=null,n=x(arguments),r===L&&b.$raise(z("LocalJumpError"),"no block given");var i,o=r.$$s;return r.$$s=null,i=r.apply(this,n),r.$$s=o,i}),-1),m(F,"$method_defined?",(function(e){var t=this.$$prototype[f(e)];return!!t&&!t.$$stub})),m(F,"$module_function",(function(t){var n,r=this;if(n=x(arguments),c(r),0===n.length)return r.$$module_function=!0,L;for(var i=0,o=n.length;i<o;i++){var s=n[i],a=f(s),l=r.$$prototype[a];e.defs(r,a,l)}return 1===n.length?n[0]:n}),-1),m(F,"$name",(function(){var e=this;if(e.$$full_name)return e.$$full_name;for(var t=[],n=e;n;){if(n.$$name===L||null==n.$$name)return L;if(t.unshift(n.$$name),(n=n.$$base_module)===s)break}return 0===t.length?L:e.$$full_name=t.join("::")})),m(F,"$prepend",(function(e){var t,n=this;0===(t=x(arguments)).length&&b.$raise(z("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var r=t.length-1;r>=0;r--){var i=t[r];i.$$is_module||b.$raise(z("TypeError"),"wrong argument type "+i.$class()+" (expected Module)"),i.$prepend_features(n),i.$prepended(n)}return n}),-1),m(F,"$prepend_features",(function(t){var n=this;return c(t),n.$$is_module||b.$raise(z("TypeError"),"wrong argument type "+n.$class()+" (expected Module)"),e.prepend_features(n,t),n})),m(F,"$prepended",S(L)),m(F,"$remove_const",(function(t){return c(this),e.const_remove(this,t)})),m(F,"$to_s",(function(){var t,n=this;return r(t=e.Module.$name.call(n))?t:"#<"+(n.$$is_module?"Module":"Class")+":0x"+n.$__id__().$to_s(16)+">"})),m(F,"$undef_method",(function(t){var n,r=this;n=x(arguments);for(var i=0;i<n.length;i++){var o=n[i];"string"==typeof o||o.$$is_string||r.$raise(z("TypeError"),r.$name()+" is not a symbol nor a string"),c(r),e.udef(r,"$"+n[i])}return r}),-1),m(F,"$instance_variables",(function(){var t=this,n=L;e.Module.$$nesting=M,n=t.$constants();var r=[];for(var i in t)t.hasOwnProperty(i)&&"$"!==i.charAt(0)&&"constructor"!==i&&!n["$include?"](i)&&r.push("@"+i);return r})),m(F,"$dup",(function e(){var t=e.$$p||L,n=this,r=L;return e.$$p=null,(r=I(n,R(n,"dup",e,!1,!0),"dup",[],t)).$copy_class_variables(n),r.$copy_constants(n),r})),m(F,"$copy_class_variables",(function(e){for(var t in e.$$cvars)this.$$cvars[t]=e.$$cvars[t]})),m(F,"$copy_constants",(function(e){var t,n=e.$$const;for(t in n)o(this,t,n[t])})),m(F,"$refine",(function t(n){var r,i,o,s=t.$$p||L,a=this,l=L;return t.$$p=null,i=(r=[a,L,L])[0],l=r[1],o=e.id(n),void 0===a.$$refine_modules&&(a.$$refine_modules=Object.create(null)),(l=void 0===a.$$refine_modules[o]?a.$$refine_modules[o]=z("Refinement").$new():a.$$refine_modules[o]).refinement_module=i,l.refined_class=n,h(l,"class_exec",[],s.$to_proc()),l})),m(F,"$refinements",(function(){var e=this.$$refine_modules,t=E([],{});if(void 0===e)return t;for(var n in e)t["$[]="](e[n].refined_class,e[n]);return t})),m(F,"$using",(function(e){return b.$raise("Module#using is not permitted in methods")})),N(F,"class_eval","module_eval"),N(F,"class_exec","module_exec"),N(F,"inspect","to_s")}(),(n=(t=d("::",v,"Refinement")).$$prototype).refinement_module=n.refined_class=L,t.$attr_reader("refined_class"),m(t,"$inspect",(function e(){var t=e.$$p||L,n=this;return e.$$p=null,r(n.refinement_module)?"#<refinement:"+n.refined_class.$inspect()+"@"+n.refinement_module.$inspect()+">":I(n,R(n,"inspect",e,!1,!0),"inspect",[],t)}))},Opal.modules["corelib/class"]=function(e){var t=e.klass,n=e.send,r=e.defs,i=e.def,o=e.rb_plus,s=e.return_val,a=e.slice,l=e.send2,u=e.find_super,c=e.Kernel,$=e.alias,_=e.top,f=e.nil,d=e.$$$;return e.add_stubs("require,class_eval,to_proc,+,subclasses,flatten,map,initialize_copy,allocate,name,to_s,raise"),_.$require("corelib/module"),function(_,p,h){var m=t("::",null,"Class"),g=[m].concat([]),v=e.$r(g);return r(m,"$new",(function t(r){var i=t.$$p||f;if(t.$$p=null,null==r&&(r=v("Object")),!r.$$is_class)throw e.TypeError.$new("superclass must be a Class");var o=e.allocate_class(f,r);return r.$inherited(o),i!==f&&n(o,"class_eval",[],i.$to_proc()),o}),-1),i(m,"$allocate",(function(){var t=new this.$$constructor;return t.$$id=e.uid(),t})),i(m,"$descendants",(function(){return o(this.$subclasses(),n(this.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())})),i(m,"$inherited",s(f)),i(m,"$initialize_dup",(function(e){var t=this;t.$initialize_copy(e),t.$$name=null,t.$$full_name=null})),i(m,"$new",(function t(n){var r,i=t.$$p||f;t.$$p=null,r=a(arguments);var o=this.$allocate();return e.send(o,o.$initialize,r,i),o}),-1),i(m,"$subclasses",(function(){var e=this;if("undefined"!=typeof WeakRef){var t,n,r=[];for(t=0;t<e.$$subclasses.length;t++)void 0!==(n=e.$$subclasses[t].deref())&&r.push(n);return r}return e.$$subclasses})),i(m,"$superclass",(function(){return this.$$super||f})),i(m,"$to_s",(function t(){var n=this;t.$$p=null;var r=n.$$singleton_of;return r&&r.$$is_a_module?"#<Class:"+r.$name()+">":r?"#<Class:#<"+r.$$class.$name()+":0x"+e.id(r).$to_s(16)+">>":l(n,u(n,"to_s",t,!1,!0),"to_s",[],null)})),i(m,"$attached_object",(function(){var e=this;if(null!=e.$$singleton_of)return e.$$singleton_of;c.$raise(d("TypeError"),"`"+e+"' is not a singleton class")})),$(m,"inspect","to_s")}()},Opal.modules["corelib/basic_object"]=function(e){var t,n=e.klass,r=e.slice,i=e.def,o=e.alias,s=e.return_val,a=e.Opal,l=e.truthy,u=e.range,c=e.Kernel,$=e.to_a,_=e.hash2,f=e.send,d=e.eqeq,p=e.rb_ge,h=e.nil,m=e.$$$;return e.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),i(t=n("::",null,"BasicObject"),"$initialize",(function(e){return r(arguments),h}),-1),i(t,"$==",(function(e){return this===e})),i(t,"$eql?",(function(e){return this["$=="](e)})),o(t,"equal?","=="),i(t,"$__id__",(function(){var t=this;return null!=t.$$id||e.prop(t,"$$id",e.uid()),t.$$id})),i(t,"$__send__",(function t(n,i){var o,s=t.$$p||h,a=this;t.$$p=null,o=r(arguments,1),n.$$is_string||a.$raise(m("TypeError"),a.$inspect()+" is not a symbol nor a string");var l=a[e.jsid(n)];return l?(s!==h&&(l.$$p=s),l.apply(a,o)):(s!==h&&(a.$method_missing.$$p=s),a.$method_missing.apply(a,[n].concat(o)))}),-2),i(t,"$!",s(!1)),a.$pristine("!"),i(t,"$!=",(function(e){return this["$=="](e)["$!"]()})),i(t,"$instance_eval",(function t(n){var i,o,s=t.$$p||h,g=this,v=h,b=h,y=h,w=h,x=h,k=h;if(t.$$p=null,i=r(arguments),l(s["$nil?"]())&&l(!!e.compile))l(u(1,3,!1)["$cover?"](i.$size()))||c.$raise(m("ArgumentError"),"wrong number of arguments (0 for 1..3)"),v=null==(o=[].concat($(i)))[0]?h:o[0],b=null==o[1]?h:o[1],null==o[2]||o[2],y=_(["file","eval"],{file:l(w=b)?w:"(eval)",eval:!0}),x=e.hash({arity_check:!1}).$merge(y),k=a.$compile(v,x),s=f(c,"proc",[],(function t(){var n=null==t.$$s?this:t.$$s;return new Function("Opal,self","return "+k)(e,n)}),{$$s:g});else{if(l(s["$nil?"]())&&l(p(i.$length(),1))&&d(i.$first()["$[]"](0),"@"))return g.$instance_variable_get(i.$first());l(i["$any?"]())&&c.$raise(m("ArgumentError"),"wrong number of arguments ("+i.$size()+" for 0)")}var E,A=s.$$s;if(s.$$s=null,g.$$is_a_module){g.$$eval=!0;try{E=s.call(g,g)}finally{g.$$eval=!1}}else E=s.call(g,g);return s.$$s=A,E}),-1),i(t,"$instance_exec",(function e(t){var n,i=e.$$p||h,o=this;e.$$p=null,n=r(arguments),l(i)||c.$raise(m("ArgumentError"),"no block given");var s,a=i.$$s;if(i.$$s=null,o.$$is_a_module){o.$$eval=!0;try{s=i.apply(o,n)}finally{o.$$eval=!1}}else s=i.apply(o,n);return i.$$s=a,s}),-1),i(t,"$singleton_method_added",(function(e){return r(arguments),h}),-1),i(t,"$singleton_method_removed",(function(e){return r(arguments),h}),-1),i(t,"$singleton_method_undefined",(function(e){return r(arguments),h}),-1),i(t,"$method_missing",(function e(t,n){var i,o;return e.$$p=null,i=r(arguments,1),o=a.$inspect(this),c.$raise(m("NoMethodError").$new("undefined method `"+t+"' for "+o,t,i),h,c.$caller(1))}),-2),a.$pristine(t,"method_missing"),i(t,"$respond_to_missing?",(function(e,t){return null==t&&(t=!1),!1}),-2)},Opal.modules["corelib/kernel"]=function(e){var t,n=e.truthy,r=e.coerce_to,i=e.respond_to,o=e.Opal,s=e.deny_frozen_access,a=e.freeze,l=e.freeze_props,u=e.jsid,c=e.module,$=e.return_val,_=e.def,f=e.Kernel,d=e.gvars,p=e.slice,h=e.send,m=e.to_a,g=e.ensure_kwargs,v=e.eqeq,b=e.hash2,y=e.rb_plus,w=e.eqeqeq,x=e.return_self,k=e.rb_le,E=e.extract_kwargs,A=e.rb_lt,S=e.Object,C=e.alias,O=e.klass,T=e.nil,I=e.$$$;return e.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,coerce_to!,Integer,===,enum_for,result,any?,print,format,puts,<=,length,[],readline,<,first,split,to_str,exception,backtrace,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),function(t,O){var R=c("::","Kernel"),N=[R].concat([]),L=e.$r(N);_(R,"$=~",$(!1)),_(R,"$!~",(function(e){return this["$=~"](e)["$!"]()})),_(R,"$===",(function(e){var t;return n(t=this.$object_id()["$=="](e.$object_id()))?t:this["$=="](e)})),_(R,"$<=>",(function(e){this.$$comparable=!0;var t=this["$=="](e);return t&&t!==T?0:T})),_(R,"$method",(function(e){var t=this,n=t[u(e)];return n&&!n.$$stub||f.$raise(I("NameError").$new("undefined method `"+e+"' for class `"+t.$class()+"'",e)),I("Method").$new(t,n.$$owner||t.$class(),n,e)})),_(R,"$methods",(function(t){return null==t&&(t=!0),n(t)?e.methods(this):e.own_methods(this)}),-1),_(R,"$public_methods",(function(t){return null==t&&(t=!0),n(t)?e.methods(this):e.receiver_methods(this)}),-1),_(R,"$Array",(function(e){var t;return e===T?[]:e.$$is_array?e:(t=o["$coerce_to?"](e,I("Array"),"to_ary"))!==T||(t=o["$coerce_to?"](e,I("Array"),"to_a"))!==T?t:[e]})),_(R,"$at_exit",(function e(){var t,r=e.$$p||T;return null==d.__at_exit__&&(d.__at_exit__=T),e.$$p=null,d.__at_exit__=n(t=d.__at_exit__)?t:[],d.__at_exit__["$<<"](r),r})),_(R,"$caller",(function(e,t){var n,r;null==e&&(e=1),null==t&&(t=T),r=[];for(var i=e+1,o=(n=(new Error).$backtrace()).length;i<o;i++)n[i].match(/runtime\.js/)||r.push(n[i]);return t!=T&&(r=r.slice(0,t)),r}),-1),_(R,"$caller_locations",(function(e){var t;return t=p(arguments),h(h(this,"caller",m(t)),"map",[],(function(e){return null==e&&(e=T),I(I(I("Thread"),"Backtrace"),"Location").$new(e)}))}),-1),_(R,"$class",(function(){return this.$$class})),_(R,"$copy_instance_variables",(function(e){var t,n,r,i=Object.keys(e);for(t=0,n=i.length;t<n;t++)"$"!==(r=i[t]).charAt(0)&&e.hasOwnProperty(r)&&(this[r]=e[r])})),_(R,"$copy_singleton_methods",(function(t){var n,r,i,o;if(t.hasOwnProperty("$$meta")&&null!==t.$$meta){var s=e.get_singleton_class(t),a=e.get_singleton_class(this);for(n=0,o=(i=Object.getOwnPropertyNames(s.$$prototype)).length;n<o;n++)r=i[n],e.is_method(r)&&(a.$$prototype[r]=s.$$prototype[r]);a.$$const=Object.assign({},s.$$const),Object.setPrototypeOf(a.$$prototype,Object.getPrototypeOf(s.$$prototype))}for(n=0,o=(i=Object.getOwnPropertyNames(t)).length;n<o;n++)"$"===(r=i[n]).charAt(0)&&"$"!==r.charAt(1)&&t.hasOwnProperty(r)&&(this[r]=t[r])})),_(R,"$clone",(function(e){var t,r=this,i=T;return null==(t=(e=g(e)).$$smap.freeze)&&(t=T),n(t["$nil?"]())||v(t,!0)||v(t,!1)||r.$raise(L("ArgumentError"),"unexpected value for freeze: "+t.$class()),(i=r.$class().$allocate()).$copy_instance_variables(r),i.$copy_singleton_methods(r),i.$initialize_clone(r,b(["freeze"],{freeze:t})),(v(t,!0)||n(t["$nil?"]())&&n(r["$frozen?"]()))&&i.$freeze(),i}),-1),_(R,"$initialize_clone",(function(e,t){return(t=g(t)).$$smap.freeze,this.$initialize_copy(e),this}),-2),_(R,"$define_singleton_method",(function e(t,n){var r=e.$$p||T;return e.$$p=null,h(this.$singleton_class(),"define_method",[t,n],r.$to_proc())}),-2),_(R,"$dup",(function(){var e=this,t=T;return(t=e.$class().$allocate()).$copy_instance_variables(e),t.$initialize_dup(e),t})),_(R,"$initialize_dup",(function(e){return this.$initialize_copy(e)})),_(R,"$enum_for",(function e(t,n){var r,i,o,s=e.$$p||T,a=this;return e.$$p=null,(r=p(arguments)).length>0&&(i=r.shift()),null==i&&(i="each"),o=r,h(I("Enumerator"),"for",[a,i].concat(m(o)),s.$to_proc())}),-1),_(R,"$equal?",(function(e){return this===e})),_(R,"$exit",(function(t){var i;for(null==d.__at_exit__&&(d.__at_exit__=T),null==t&&(t=!0),d.__at_exit__=n(i=d.__at_exit__)?i:[];!n(d.__at_exit__["$empty?"]());)d.__at_exit__.$pop().$call();return t=t.$$is_boolean?t?0:1:r(t,I("Integer"),"to_int"),e.exit(t),T}),-1),_(R,"$extend",(function(e){var t,n=this;0==(t=p(arguments)).length&&n.$raise(I("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),s(n);for(var r=n.$singleton_class(),i=t.length-1;i>=0;i--){var o=t[i];o.$$is_module||f.$raise(I("TypeError"),"wrong argument type "+o.$class()+" (expected Module)"),o.$append_features(r),o.$extend_object(n),o.$extended(n)}return n}),-1),_(R,"$freeze",(function(){var e=this;return n(e["$frozen?"]())?e:"object"==typeof e?(l(e),a(e)):e})),_(R,"$frozen?",(function(){switch(typeof this){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return this.$$frozen||!1;default:return!1}})),_(R,"$gets",(function(e){var t;return null==d.stdin&&(d.stdin=T),t=p(arguments),h(d.stdin,"gets",m(t))}),-1),_(R,"$hash",(function(){return this.$__id__()})),_(R,"$initialize_copy",$(T));var z=[];_(R,"$inspect",(function(){var t=this,r=T,i=T,o=T;return function(){try{try{return r="",i=t.$__id__(),n(z["$include?"](i))?r=" ...":(z["$<<"](i),o=!0,h(t.$instance_variables(),"each",[],(function e(t){var n,i;return null==t&&(t=T),n=(null==e.$$s?this:e.$$s).$instance_variable_get(t),i=L("Opal").$inspect(n),r=y(r," "+t+"="+i)}),{$$s:t})),"#<"+t.$class()+":0x"+i.$to_s(16)+r+">"}catch(n){if(!e.rescue(n,[L("StandardError")]))throw n;try{return"#<"+t.$class()+":0x"+i.$to_s(16)+">"}finally{e.pop_exception()}}}finally{n(o)&&z.$pop()}}()})),_(R,"$instance_of?",(function(e){return e.$$is_class||e.$$is_module||f.$raise(I("TypeError"),"class or module required"),this.$$class===e})),_(R,"$instance_variable_defined?",(function(t){return t=o["$instance_variable_name!"](t),e.hasOwnProperty.call(this,t.substr(1))})),_(R,"$instance_variable_get",(function(t){t=o["$instance_variable_name!"](t);var n=this[e.ivar(t.substr(1))];return null==n?T:n})),_(R,"$instance_variable_set",(function(t,n){return s(this),t=o["$instance_variable_name!"](t),this[e.ivar(t.substr(1))]=n})),_(R,"$remove_instance_variable",(function(t){var n=this;t=o["$instance_variable_name!"](t);var r,i=e.ivar(t.substr(1));return n.hasOwnProperty(i)?(r=n[i],delete n[i],r):f.$raise(I("NameError"),"instance variable "+t+" not defined")})),_(R,"$instance_variables",(function(){var e,t=[];for(var n in this)this.hasOwnProperty(n)&&"$"!==n.charAt(0)&&(e="$"===n.substr(-1)?n.slice(0,n.length-1):n,t.push("@"+e));return t})),_(R,"$Integer",(function(e,t){var n,i,s;return e.$$is_string?"0"===e?0:(void 0===t?t=0:(1===(t=r(t,I("Integer"),"to_int"))||t<0||t>36)&&f.$raise(I("ArgumentError"),"invalid radix "+t),i=(i=(i=e.toLowerCase()).replace(/(\d)_(?=\d)/g,"$1")).replace(/^(\s*[+-]?)(0[bodx]?)/,(function(n,r,i){switch(i){case"0b":if(0===t||2===t)return t=2,r;case"0":case"0o":if(0===t||8===t)return t=8,r;case"0d":if(0===t||10===t)return t=10,r;case"0x":if(0===t||16===t)return t=16,r}f.$raise(I("ArgumentError"),'invalid value for Integer(): "'+e+'"')})),s="0-"+((t=0===t?10:t)<=10?t-1:"9a-"+String.fromCharCode(t-11+97)),new RegExp("^\\s*[+-]?["+s+"]+\\s*$").test(i)||f.$raise(I("ArgumentError"),'invalid value for Integer(): "'+e+'"'),n=parseInt(i,t),isNaN(n)&&f.$raise(I("ArgumentError"),'invalid value for Integer(): "'+e+'"'),n):(void 0!==t&&f.$raise(I("ArgumentError"),"base specified for non string value"),e===T&&f.$raise(I("TypeError"),"can't convert nil into Integer"),e.$$is_number?((e===1/0||e===-1/0||isNaN(e))&&f.$raise(I("FloatDomainError"),e),Math.floor(e)):e["$respond_to?"]("to_int")&&(n=e.$to_int())!==T?n:o["$coerce_to!"](e,I("Integer"),"to_i"))}),-2),_(R,"$Float",(function(e){var t;return e===T&&f.$raise(I("TypeError"),"can't convert nil into Float"),e.$$is_string?(t=(t=e.toString()).replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(t)?f.$Integer(t):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(t)||f.$raise(I("ArgumentError"),'invalid value for Float(): "'+e+'"'),parseFloat(t))):o["$coerce_to!"](e,I("Float"),"to_f")})),_(R,"$Hash",(function(e){return n(e["$nil?"]())||v(e,[])?b([],{}):w(I("Hash"),e)?e:o["$coerce_to!"](e,I("Hash"),"to_hash")})),_(R,"$is_a?",(function(t){return t.$$is_class||t.$$is_module||f.$raise(I("TypeError"),"class or module required"),e.is_a(this,t)})),_(R,"$itself",x),_(R,"$lambda",(function t(){var n=t.$$p||T;return t.$$p=null,e.lambda(n)})),_(R,"$load",(function(t){return t=o["$coerce_to!"](t,I("String"),"to_str"),e.load(t)})),_(R,"$loop",(function t(){var r=t.$$p||T,i=T;if(t.$$p=null,r===T)return h(this,"enum_for",["loop"],(function(){return I(I("Float"),"INFINITY")}));for(;n(!0);)try{e.yieldX(r,[])}catch(t){if(!e.rescue(t,[I("StopIteration")]))throw t;i=t;try{return i.$result()}finally{e.pop_exception()}}return this})),_(R,"$nil?",$(!1)),_(R,"$printf",(function(e){var t,r;return t=p(arguments),n((r=t)["$any?"]())&&this.$print(h(this,"format",m(r))),T}),-1),_(R,"$proc",(function e(){var t=e.$$p||T;return e.$$p=null,n(t)||f.$raise(I("ArgumentError"),"tried to create Proc object without a block"),t.$$is_lambda=!1,t})),_(R,"$puts",(function(e){var t;return null==d.stdout&&(d.stdout=T),t=p(arguments),h(d.stdout,"puts",m(t))}),-1),_(R,"$p",(function(e){var t,r;return t=p(arguments),h(r=t,"each",[],(function(e){return null==d.stdout&&(d.stdout=T),null==e&&(e=T),d.stdout.$puts(e.$inspect())})),n(k(r.$length(),1))?r["$[]"](0):r}),-1),_(R,"$print",(function(e){var t;return null==d.stdout&&(d.stdout=T),t=p(arguments),h(d.stdout,"print",m(t))}),-1),_(R,"$readline",(function(e){var t;return null==d.stdin&&(d.stdin=T),t=p(arguments),h(d.stdin,"readline",m(t))}),-1),_(R,"$warn",(function(e,t){var r,i,s,a,l,u,c=T;return null==d.VERBOSE&&(d.VERBOSE=T),null==d.stderr&&(d.stderr=T),r=p(arguments),i=E(r),s=r,null==(a=(i=g(i)).$$smap.uplevel)&&(a=T),n(a)&&(a=o["$coerce_to!"](a,I("Integer"),"to_str"),n(A(a,0))&&f.$raise(I("ArgumentError"),"negative level ("+a+")"),l=(u=this.$caller(y(a,1),1).$first())===T||null==u?T:u.$split(":in `"),c=l===T||null==l?T:l.$first(),n(c)&&(c+=": "),s=h(s,"map",[],(function(e){return null==e&&(e=T),c+"warning: "+e}))),n(d.VERBOSE["$nil?"]())||n(s["$empty?"]())?T:h(d.stderr,"puts",m(s))}),-1),_(R,"$raise",(function(t,n,r){if(null==d["!"]&&(d["!"]=T),null==d["@"]&&(d["@"]=T),null==n&&(n=T),null==r&&(r=T),null==t&&d["!"]!==T)throw d["!"];throw null==t?t=I("RuntimeError").$new(""):i(t,"$to_str")?t=I("RuntimeError").$new(t.$to_str()):t.$$is_class&&i(t,"$exception")?t=t.$exception(n):t.$$is_exception||(t=I("TypeError").$new("exception class/object expected")),r!==T&&t.$set_backtrace(r),d["!"]!==T&&e.exceptions.push(d["!"]),d["!"]=t,d["@"]=t.$backtrace(),t}),-1),_(R,"$rand",(function(e){return void 0===e?I(I("Random"),"DEFAULT").$rand():(e.$$is_number&&(e<0&&(e=Math.abs(e)),e%1!=0&&(e=e.$to_i()),0===e&&(e=void 0)),I(I("Random"),"DEFAULT").$rand(e))}),-1),_(R,"$respond_to?",(function(e,t){var n=this;null==t&&(t=!1);var r=n[u(e)];return"function"==typeof r&&!r.$$stub||!0!==n["$respond_to_missing?"].$$pristine&&n["$respond_to_missing?"](e,t)}),-2),_(R,"$respond_to_missing?",(function(e,t){return null==t&&(t=!1),!1}),-2),o.$pristine(R,"respond_to?","respond_to_missing?"),_(R,"$require",(function(t){return"string"!=typeof t&&e.String&&e.Array&&(t=o["$coerce_to!"](t,I("String"),"to_str")),e.require(t)})),_(R,"$require_relative",(function(t){return o["$try_convert!"](t,I("String"),"to_str"),t=I("File").$expand_path(I("File").$join(e.current_file,"..",t)),e.require(t)})),_(R,"$require_tree",(function(t,n){var r;null==(r=(n=g(n)).$$smap.autoload)&&(r=!1);var i=[];for(var o in t=I("File").$expand_path(t),"."===(t=e.normalize(t))&&(t=""),e.modules)o["$start_with?"](t)&&(r?i.push([o,!0]):i.push([o,e.require(o)]));return i}),-2),_(R,"$singleton_class",(function(){return e.get_singleton_class(this)})),_(R,"$sleep",(function(t){null==t&&(t=T),t===T&&f.$raise(I("TypeError"),"can't convert NilClass into time interval"),t.$$is_number||f.$raise(I("TypeError"),"can't convert "+t.$class()+" into time interval"),t<0&&f.$raise(I("ArgumentError"),"time interval must be positive");for(var n=e.global.performance?function(){return performance.now()}:function(){return new Date},r=n();n()-r<=1e3*t;);return Math.round(t)}),-1),_(R,"$srand",(function(e){return null==e&&(e=L("Random").$new_seed()),I("Random").$srand(e)}),-1),_(R,"$String",(function(e){var t;return n(t=o["$coerce_to?"](e,I("String"),"to_str"))?t:o["$coerce_to!"](e,I("String"),"to_s")})),_(R,"$tap",(function t(){var n=t.$$p||T;return t.$$p=null,e.yield1(n,this),this})),_(R,"$to_proc",x),_(R,"$to_s",(function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"})),_(R,"$catch",(function t(r){var i=t.$$p||T,o=T,s=T;t.$$p=null,null==r&&(r=T);try{return r=n(o=r)?o:S.$new(),e.yield1(i,r)}catch(t){if(!e.rescue(t,[I("UncaughtThrowError")]))throw t;s=t;try{return v(s.$tag(),r)?s.$value():f.$raise()}finally{e.pop_exception()}}}),-1),_(R,"$throw",(function(e,t){return null==t&&(t=T),f.$raise(I("UncaughtThrowError").$new(e,t))}),-2),_(R,"$open",(function e(t){var n,r=e.$$p||T;return e.$$p=null,n=p(arguments),h(I("File"),"open",m(n),r.$to_proc())}),-1),_(R,"$yield_self",(function t(){var n=t.$$p||T;return t.$$p=null,n===T?h(this,"enum_for",["yield_self"],$(1)):e.yield1(n,this)})),C(R,"fail","raise"),C(R,"kind_of?","is_a?"),C(R,"object_id","__id__"),C(R,"public_send","__send__"),C(R,"send","__send__"),C(R,"then","yield_self"),C(R,"to_enum","enum_for")}(),t=O("::",null,"Object"),delete S.$$prototype.$require,t.$include(f)},Opal.modules["corelib/main"]=function(e){var t=e.return_val,n=e.def,r=e.Object,i=e.slice,o=e.Kernel,s=e.top;return e.nil,e.add_stubs("include,raise"),function(s,a){return n(s,"$to_s",t("main")),n(s,"$include",(function(e){return r.$include(e)})),n(s,"$autoload",(function(t){var n;return n=i(arguments),e.Object.$autoload.apply(e.Object,n)}),-1),n(s,"$using",(function(e){return o.$raise("main.using is permitted only at toplevel")}))}(e.get_singleton_class(s))},Opal.modules["corelib/error/errno"]=function(e){var t,n,r,i=e.module,o=e.truthy,s=e.rb_plus,a=e.send2,l=e.find_super,u=e.def,c=e.klass,$=[],_=e.nil,f=e.$$$;return e.add_stubs("+,errno,class,attr_reader"),function(t,n){var r,c,$=i("::","Errno"),f=([$].concat(n),_);for(r=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],f=_,c=0;c<r.length;c++)!function(){var t=r[c][0],n=r[c][1],i=r[c][2];(f=e.klass($,e.SystemCallError,t)).errno=i,function(e,t){u(e,"$new",(function e(t){var r=_;return e.$$p=null,null==t&&(t=_),r=n,o(t)&&(r=s(r," - "+t)),a(this,l(this,"new",e,!1,!0),"new",[r],null)}),-1)}(e.get_singleton_class(f))}()}(0,$),t=f("StandardError"),n=$,[r=c("::",t,"SystemCallError")].concat(n),u(r,"$errno",(function(){return this.$class().$errno()})),function(e,t){return e.$attr_reader("errno")}(e.get_singleton_class(r))},Opal.modules["corelib/error"]=function(e){var t,n,r=e.klass,i=e.slice,o=e.gvars,s=e.defs,a=e.send,l=e.to_a,u=e.def,c=e.truthy,$=e.hash2,_=e.Kernel,f=e.not,d=e.rb_plus,p=e.eqeq,h=e.Object,m=e.ensure_kwargs,g=e.send2,v=e.find_super,b=e.module,y=[],w=e.nil,x=e.$$$;return e.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(t,n,h){var m,g=r("::",n,"Exception"),v=[g].concat(h),b=e.$r(v);function y(e){for(var t,n=[],r=0;r<e.length;r++){var i=e[r];i&&i.$$is_string&&((t=i.match(/^    at (.*?) \((.*?)\)$/))?n.push(t[2]+":in `"+t[1]+"'"):(t=i.match(/^    at (.*?)$/))?n.push(t[1]+":in `undefined'"):(t=i.match(/^  from (.*?)$/))?n.push(t[1]):(t=i.match(/^(.*?)@(.*?)$/))&&n.push(t[2]+":in `"+t[1]+"'"))}return n}g.$$prototype.message=w,e.prop(g.$$prototype,"$$is_exception",!0),Error.stackTraceLimit=100,s(g,"$new",(function(t){var n;null==o["!"]&&(o["!"]=w);var r=(n=i(arguments)).length>0?n[0]:w,s=new this.$$constructor(r);return s.name=this.$$name,s.message=r,s.cause=o["!"],e.send(s,s.$initialize,n),e.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(s,m),s}),-1),m=g.$new,s(g,"$exception",(function(e){var t;return t=i(arguments),a(this,"new",l(t))}),-1),u(g,"$initialize",(function(e){var t;return t=i(arguments),this.message=t.length>0?t[0]:w}),-1),u(g,"$backtrace",(function(){var e=this;if(e.backtrace)return e.backtrace;var t=e.stack;return void 0!==t&&t.$$is_string?e.backtrace=y(t.split("\n")):t?e.backtrace=y(t):[]})),u(g,"$backtrace_locations",(function(){var e,t=this;return t.backtrace_locations||(t.backtrace_locations=(e=t.$backtrace())===w||null==e?w:a(e,"map",[],(function(e){return null==e&&(e=w),x(x(x("Thread"),"Backtrace"),"Location").$new(e)}))),t.backtrace_locations})),u(g,"$cause",(function(){return this.cause||w})),u(g,"$exception",(function(e){var t=this;if(null==e&&(e=w),e===w||t===e)return t;var n=t.$clone();return n.message=e,t.backtrace&&(n.backtrace=t.backtrace.$dup()),n.stack=t.stack,n.cause=t.cause,n}),-1),u(g,"$message",(function(){return this.$to_s()})),u(g,"$full_message",(function(e){var t,n,r,i,s,l=this,u=w,h=w,m=w,g=w,v=w;return null==o.stderr&&(o.stderr=w),null==e&&(e=w),c(b("Hash","skip_raise")?"constant":w)?(i=(t=[(e=$(["highlight","order"],{highlight:o.stderr["$tty?"](),order:"top"}).$merge(c(n=e)?n:$([],{})))["$[]"]("highlight"),e["$[]"]("order")])[1],c([!0,!1]["$include?"](r=t[0]))||_.$raise(x("ArgumentError"),"expected true or false as highlight: "+r),c(["top","bottom"]["$include?"](i))||_.$raise(x("ArgumentError"),"expected :top or :bottom as order: "+i),c(r)?(u="[1;4m",h="[1m",m="[m"):u=h=m="",g=l.$backtrace().$dup(),(f(g)||c(g["$empty?"]()))&&(g=l.$caller()),s=g.$shift(),v=d(v=s+": ",""+h+l.$to_s()+" ("+u+l.$class()+m+h+")"+m+"\n"),v=d(v,a(g,"map",[],(function(e){return null==e&&(e=w),"\tfrom "+e+"\n"})).$join()),c(l.$cause())&&(v=d(v,l.$cause().$full_message($(["highlight"],{highlight:r})))),p(i,"bottom")&&(v=v.$split("\n").$reverse().$join("\n"),v=d(h+"Traceback"+m+" (most recent call last):\n",v)),v):l.message+"\n"+l.stack}),-1),u(g,"$inspect",(function(){var e=this,t=w;return t=e.$to_s(),c(t["$empty?"]())?e.$class().$to_s():"#<"+e.$class().$to_s()+": "+e.$to_s()+">"})),u(g,"$set_backtrace",(function(e){var t,n,r=this,i=!0;if(e===w)r.backtrace=w,r.stack="";else if(e.$$is_string)r.backtrace=[e],r.stack="  from "+e;else{if(e.$$is_array){for(t=0,n=e.length;t<n;t++)if(!e[t].$$is_string){i=!1;break}}else i=!1;!1===i&&_.$raise(x("TypeError"),"backtrace must be Array of String"),r.backtrace=e,r.stack=a(e,"map",[],(function(e){return null==e&&(e=w),d("  from ",e)})).join("\n")}return e})),u(g,"$to_s",(function(){var e,t,n=this;return c(e=c(t=n.message)?n.message.$to_s():t)?e:n.$class().$to_s()}))}(0,Error,y),r("::",x("Exception"),"ScriptError"),r("::",x("ScriptError"),"SyntaxError"),r("::",x("ScriptError"),"LoadError"),r("::",x("ScriptError"),"NotImplementedError"),r("::",x("Exception"),"SystemExit"),r("::",x("Exception"),"NoMemoryError"),r("::",x("Exception"),"SignalException"),r("::",x("SignalException"),"Interrupt"),r("::",x("Exception"),"SecurityError"),r("::",x("Exception"),"SystemStackError"),r("::",x("Exception"),"StandardError"),r("::",x("StandardError"),"EncodingError"),r("::",x("StandardError"),"ZeroDivisionError"),r("::",x("StandardError"),"NameError"),r("::",x("NameError"),"NoMethodError"),r("::",x("StandardError"),"RuntimeError"),r("::",x("RuntimeError"),"FrozenError"),r("::",x("StandardError"),"LocalJumpError"),r("::",x("StandardError"),"TypeError"),r("::",x("StandardError"),"ArgumentError"),r("::",x("ArgumentError"),"UncaughtThrowError"),r("::",x("StandardError"),"IndexError"),r("::",x("IndexError"),"StopIteration"),r("::",x("StopIteration"),"ClosedQueueError"),r("::",x("IndexError"),"KeyError"),r("::",x("StandardError"),"RangeError"),r("::",x("RangeError"),"FloatDomainError"),r("::",x("StandardError"),"IOError"),r("::",x("IOError"),"EOFError"),r("::",x("StandardError"),"SystemCallError"),r("::",x("StandardError"),"RegexpError"),r("::",x("StandardError"),"ThreadError"),r("::",x("StandardError"),"FiberError"),h.$autoload("Errno","corelib/error/errno"),t=x("RuntimeError"),(n=r("::",t,"FrozenError")).$attr_reader("receiver"),u(n,"$initialize",(function e(t,n){var r,i=this;return e.$$p=null,null==(r=(n=m(n)).$$smap.receiver)&&(r=w),g(i,v(i,"initialize",e,!1,!0),"initialize",[t],null),i.receiver=r}),-2),function(e,t){var n=r("::",t,"UncaughtThrowError");n.$$prototype.tag=w,n.$attr_reader("tag","value"),u(n,"$initialize",(function e(t,n){var r=this;return e.$$p=null,null==n&&(n=w),r.tag=t,r.value=n,g(r,v(r,"initialize",e,!1,!0),"initialize",["uncaught throw "+r.tag.$inspect()],null)}),-2)}(0,x("ArgumentError")),function(e,t){var n=r("::",null,"NameError");n.$attr_reader("name"),u(n,"$initialize",(function e(t,n){var r=this;return e.$$p=null,null==n&&(n=w),g(r,v(r,"initialize",e,!1,!0),"initialize",[t],null),r.name=n}),-2)}(),function(e,t){var n=r("::",null,"NoMethodError");n.$attr_reader("args"),u(n,"$initialize",(function e(t,n,r){var i=this;return e.$$p=null,null==n&&(n=w),null==r&&(r=[]),g(i,v(i,"initialize",e,!1,!0),"initialize",[t,n],null),i.args=r}),-2)}(),r("::",null,"StopIteration").$attr_reader("result"),function(e,t){var n=r("::",null,"KeyError"),i=n.$$prototype;i.receiver=i.key=w,u(n,"$initialize",(function e(t,n){var r,i,o=this;return e.$$p=null,null==(r=(n=m(n)).$$smap.receiver)&&(r=w),null==(i=n.$$smap.key)&&(i=w),g(o,v(o,"initialize",e,!1,!0),"initialize",[t],null),o.receiver=r,o.key=i}),-2),u(n,"$receiver",(function(){var e;return c(e=this.receiver)?e:_.$raise(x("ArgumentError"),"no receiver is available")})),u(n,"$key",(function(){var e;return c(e=this.key)?e:_.$raise(x("ArgumentError"),"no key is available")}))}(),function(e,t){var n=[b("::","JS")].concat(t);return r(n[0],null,"Error"),w}(0,y)},Opal.modules["corelib/constants"]=function(e){var t=e.const_set,n=(e.nil,e.$$$);return t("::","RUBY_PLATFORM","opal"),t("::","RUBY_ENGINE","opal"),t("::","RUBY_VERSION","3.2.0"),t("::","RUBY_ENGINE_VERSION","1.7.3"),t("::","RUBY_RELEASE_DATE","2023-03-23"),t("::","RUBY_PATCHLEVEL",0),t("::","RUBY_REVISION","0"),t("::","RUBY_COPYRIGHT","opal - Copyright (C) 2011-2023 Adam Beynon and the Opal contributors"),t("::","RUBY_DESCRIPTION","opal "+n("RUBY_ENGINE_VERSION")+" ("+n("RUBY_RELEASE_DATE")+" revision "+n("RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(e){var t=e.Object;return e.nil,e.add_stubs("require"),t.$require("corelib/runtime"),t.$require("corelib/helpers"),t.$require("corelib/module"),t.$require("corelib/class"),t.$require("corelib/basic_object"),t.$require("corelib/kernel"),t.$require("corelib/main"),t.$require("corelib/error"),t.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(e){var t,n=e.klass,r=e.Kernel,i=e.def,o=e.return_val,s=e.ensure_kwargs,a=e.NilClass,l=e.slice,u=e.truthy,c=e.rb_gt,$=e.alias,_=e.nil,f=e.$$$;return e.add_stubs("raise,name,new,>,length,Rational,to_i"),[t=n("::",null,"NilClass")].concat([]),t.$$prototype.$$meta=t,function(t,n){i(t,"$allocate",(function(){return r.$raise(f("TypeError"),"allocator undefined for "+this.$name())})),e.udef(t,"$new")}(e.get_singleton_class(t)),i(t,"$!",o(!0)),i(t,"$&",o(!1)),i(t,"$|",(function(e){return!1!==e&&e!==_})),i(t,"$^",(function(e){return!1!==e&&e!==_})),i(t,"$==",(function(e){return e===_})),i(t,"$dup",o(_)),i(t,"$clone",(function(e){return(e=s(e)).$$smap.freeze,_}),-1),i(t,"$inspect",o("nil")),i(t,"$nil?",o(!0)),i(t,"$singleton_class",(function(){return a})),i(t,"$to_a",(function(){return[]})),i(t,"$to_h",(function(){return e.hash()})),i(t,"$to_i",o(0)),i(t,"$to_s",o("")),i(t,"$to_c",(function(){return f("Complex").$new(0,0)})),i(t,"$rationalize",(function(e){var t;return t=l(arguments),u(c(t.$length(),1))&&r.$raise(f("ArgumentError")),r.$Rational(0,1)}),-1),i(t,"$to_r",(function(){return r.$Rational(0,1)})),i(t,"$instance_variables",(function(){return[]})),$(t,"to_f","to_i")},Opal.modules["corelib/boolean"]=function(e){var t=e.klass,n=e.Kernel,r=e.def,i=e.return_self,o=e.ensure_kwargs,s=e.slice,a=e.truthy,l=e.send2,u=e.find_super,c=e.to_a,$=e.alias,_=e.nil,f=e.$$$;return e.add_stubs("raise,name,==,to_s,__id__"),function(d,p,h){var m=t("::",p,"Boolean");[m].concat([]),e.prop(m.$$prototype,"$$is_boolean",!0);for(var g=["$$class","$$meta"],v=0;v<g.length;v++)Object.defineProperty(m.$$prototype,g[v],{configurable:!0,enumerable:!1,get:function(){return 1==this?e.TrueClass:0==this?e.FalseClass:e.Boolean}});Object.defineProperty(m.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return 1==this?2:0==this?0:_}}),function(t,i){r(t,"$allocate",(function(){return n.$raise(f("TypeError"),"allocator undefined for "+this.$name())})),e.udef(t,"$new")}(e.get_singleton_class(m)),r(m,"$__id__",(function(){return this.valueOf()?2:0})),r(m,"$!",(function(){return 1!=this})),r(m,"$&",(function(e){return 1==this&&!1!==e&&e!==_})),r(m,"$|",(function(e){return 1==this||!1!==e&&e!==_})),r(m,"$^",(function(e){return 1==this?!1===e||e===_:!1!==e&&e!==_})),r(m,"$==",(function(e){return 1==this===e.valueOf()})),r(m,"$singleton_class",(function(){return this.$$meta})),r(m,"$to_s",(function(){return 1==this?"true":"false"})),r(m,"$dup",i),r(m,"$clone",(function(e){return(e=o(e)).$$smap.freeze,this}),-1),r(m,"$method_missing",(function t(n,r){var i,o=t.$$p||_,$=this;t.$$p=null,i=s(arguments,1);var f=$.$$class.$$prototype[e.jsid(n)];return a(void 0!==f&&!f.$$stub)||l($,u($,"method_missing",t,!1,!0),"method_missing",[n].concat(c(i)),o),e.send($,f,i,o)}),-2),r(m,"$respond_to_missing?",(function(t,n){null==n&&(n=!1);var r=this.$$class.$$prototype[e.jsid(t)];return void 0!==r&&!r.$$stub}),-2),$(m,"eql?","=="),$(m,"equal?","=="),$(m,"inspect","to_s"),$(m,"object_id","__id__")}(0,Boolean),t("::",f("Boolean"),"TrueClass"),t("::",f("Boolean"),"FalseClass"),_},Opal.modules["corelib/comparable"]=function(e){var t=e.truthy,n=e.module,r=e.rb_gt,i=e.rb_lt,o=e.eqeqeq,s=e.Kernel,a=e.def,l=e.nil,u=e.$$$;return e.add_stubs(">,<,===,raise,class,<=>,equal?"),function(c){var $=n("::","Comparable"),_=l;function f(t){return e.is_a(t,e.Integer)?t:r(t,0)?1:i(t,0)?-1:0}function d(e,n){var r=e["$<=>"](n);return t(r)||function(e,t){var n;n=o(l,_=t)||o(!0,_)||o(!1,_)||o(u("Integer"),_)||o(u("Float"),_)?t.$inspect():t.$$class,s.$raise(u("ArgumentError"),"comparison of "+e.$class()+" with "+n+" failed")}(e,n),f(r)}return a($,"$==",(function(n){var r,i=this;return!!t(i["$equal?"](n))||i["$<=>"]!=e.Kernel["$<=>"]&&(i.$$comparable?(i.$$comparable=!1,!1):!!t(r=i["$<=>"](n))&&0==f(r))})),a($,"$>",(function(e){return d(this,e)>0})),a($,"$>=",(function(e){return d(this,e)>=0})),a($,"$<",(function(e){return d(this,e)<0})),a($,"$<=",(function(e){return d(this,e)<=0})),a($,"$between?",(function(e,t){return!i(this,e)&&!r(this,t)})),a($,"$clamp",(function(t,n){var r,i,o=this;if(null==n&&(n=l),n===l&&(e.is_a(t,e.Range)||s.$raise(u("TypeError"),"wrong argument type "+t.$class()+" (expected Range)"),i=t.excl,n=t.end,t=t.begin,n!==l&&i&&s.$raise(u("ArgumentError"),"cannot clamp with an exclusive range")),t!==l&&n!==l&&d(t,n)>0&&s.$raise(u("ArgumentError"),"min argument must be smaller than max argument"),t!==l){if(0==(r=d(o,t)))return o;if(r<0)return t}return n!==l&&(r=d(o,n))>0?n:o}),-2)}()},Opal.modules["corelib/regexp"]=function(e){var t=e.coerce_to,n=e.prop,r=e.freeze,i=e.klass,o=e.const_set,s=e.send2,a=e.find_super,l=e.def,u=e.truthy,c=e.gvars,$=e.slice,_=e.Kernel,f=e.Opal,d=e.alias,p=e.send,h=e.hash2,m=e.rb_plus,g=e.ensure_kwargs,v=e.rb_ge,b=e.to_a,y=e.eqeqeq,w=e.rb_minus,x=e.return_ivar,k=[],E=e.nil,A=e.$$$;return e.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),i("::",A("StandardError"),"RegexpError"),function(g,v,b){var y=i("::",v,"Regexp"),w=[y].concat(b),x=e.$r(w);o(y,"IGNORECASE",1),o(y,"EXTENDED",2),o(y,"MULTILINE",4),e.prop(y.$$prototype,"$$is_regexp",!0),function(t,n){var r=[t].concat(n),i=e.$r(r);l(t,"$allocate",(function e(){var t=e.$$p||E,n=E;return e.$$p=null,(n=s(this,a(this,"allocate",e,!1,!0),"allocate",[],t)).uninitialized=!0,n})),l(t,"$escape",(function(t){return e.escape_regexp(t)})),l(t,"$last_match",(function(e){return null==c["~"]&&(c["~"]=E),null==e&&(e=E),u(e["$nil?"]())?c["~"]:u(c["~"])?c["~"]["$[]"](e):E}),-1),l(t,"$union",(function(e){var t,n,r,i,o,s,a=this;if(0==(t=$(arguments)).length)return/(?!)/;if(1==t.length&&t[0].$$is_regexp)return t[0];n=t[0].$$is_array,t.length>1&&n&&_.$raise(A("TypeError"),"no implicit conversion of Array into String"),n&&(t=t[0]),o=void 0,r=[];for(var l=0;l<t.length;l++)(i=t[l]).$$is_string?r.push(a.$escape(i)):i.$$is_regexp?(s=i.$options(),null!=o&&o!=s&&_.$raise(A("TypeError"),"All expressions must use the same options"),o=s,r.push("("+i.source+")")):r.push(a.$escape(i.$to_str()));return a.$new(r.$join("|"),o)}),-1),l(t,"$new",(function(e,t){if(e.$$is_regexp)return new RegExp(e);if("\\"===(e=f["$coerce_to!"](e,A("String"),"to_str")).charAt(e.length-1)&&"\\"!==e.charAt(e.length-2)&&_.$raise(A("RegexpError"),"too short escape sequence: /"+e+"/"),e=e.replace("\\A","^").replace("\\z","$"),void 0===t||t["$!"]())return new RegExp(e);if(t.$$is_number){var n="";i("IGNORECASE")&t&&(n+="i"),i("MULTILINE")&t&&(n+="m"),t=n}else t="i";return new RegExp(e,t)}),-2),d(t,"compile","new"),d(t,"quote","escape")}(e.get_singleton_class(y),w),l(y,"$==",(function(e){return e instanceof RegExp&&this.toString()===e.toString()})),l(y,"$===",(function(e){return this.$match(f["$coerce_to?"](e,A("String"),"to_str"))!==E})),l(y,"$=~",(function(e){var t;return null==c["~"]&&(c["~"]=E),u(t=this.$match(e))?c["~"].$begin(0):t})),l(y,"$freeze",(function(){var e=this;return u(e["$frozen?"]())?e:(e.hasOwnProperty("$$g")||n(e,"$$g",null),e.hasOwnProperty("$$gm")||n(e,"$$gm",null),r(e))})),l(y,"$inspect",(function(){var e=this.toString(),t=/^\/(.*)\/([^\/]*)$/.exec(e);if(t){for(var n=t[1],r=t[2],i=n.split(""),o=i.length,s=!1,a="",l=0;l<o;l++){var u=i[l];s||"/"!=u||(a=a.concat("\\")),a=a.concat(u),s="\\"==u&&!s}return"/"+a+"/"+r}return e})),l(y,"$match",(function n(r,i){var o=n.$$p||E,s=this;if(null==c["~"]&&(c["~"]=E),n.$$p=null,s.uninitialized&&_.$raise(A("TypeError"),"uninitialized Regexp"),void 0===i){if(r===E)return c["~"]=E;var a=s.exec(t(r,A("String"),"to_str"));return a?(c["~"]=A("MatchData").$new(s,a),o===E?c["~"]:e.yield1(o,c["~"])):c["~"]=E}if(i=t(i,A("Integer"),"to_int"),r===E)return c["~"]=E;if(r=t(r,A("String"),"to_str"),i<0&&(i+=r.length)<0)return c["~"]=E;for(var l,u=e.global_regexp(s);;){if(null===(l=u.exec(r)))return c["~"]=E;if(l.index>=i)return c["~"]=A("MatchData").$new(u,l),o===E?c["~"]:e.yield1(o,c["~"]);u.lastIndex=l.index+1}}),-2),l(y,"$match?",(function(n,r){var i,o=this;return o.uninitialized&&_.$raise(A("TypeError"),"uninitialized Regexp"),void 0===r?n!==E&&o.test(t(n,A("String"),"to_str")):(r=t(r,A("Integer"),"to_int"),n!==E&&(n=t(n,A("String"),"to_str"),!(r<0&&(r+=n.length)<0||null===(i=e.global_regexp(o).exec(n))||i.index<r)))}),-2),l(y,"$names",(function(){return p(this.$source().$scan(/\(?<(\w+)>/,h(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$uniq()})),l(y,"$named_captures",(function(){return p(p(p(this.$source().$scan(/\(?<(\w+)>/,h(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],(function(e){return null==e&&(e=E),p(e,"map",[],(function(e){return null==e&&(e=E),m(e.$last(),1)}))}))})),l(y,"$~",(function(){return null==c._&&(c._=E),this["$=~"](c._)})),l(y,"$source",(function(){return this.source})),l(y,"$options",(function(){var e=this;e.uninitialized&&_.$raise(A("TypeError"),"uninitialized Regexp");var t=0;return e.multiline&&(t|=x("MULTILINE")),e.ignoreCase&&(t|=x("IGNORECASE")),t})),l(y,"$casefold?",(function(){return this.ignoreCase})),d(y,"eql?","=="),d(y,"to_s","source")}(0,RegExp,k),function(t,n,r){var o=i(t,null,"MatchData"),s=[o].concat(r),a=e.$r(s);return o.$$prototype.matches=E,o.$attr_reader("post_match","pre_match","regexp","string"),l(o,"$initialize",(function(e,t,n){var r,i=this;null==(r=(n=g(n)).$$smap.no_matchdata)&&(r=!1),u(r)||(c["~"]=i),i.regexp=e,i.begin=t.index,i.string=t.input,i.pre_match=t.input.slice(0,t.index),i.post_match=t.input.slice(t.index+t[0].length),i.matches=[];for(var o=0,s=t.length;o<s;o++){var a=t[o];null==a?i.matches.push(E):i.matches.push(a)}}),-3),l(o,"$match",(function(e){var t;return u(t=this["$[]"](e))?t:u(e["$is_a?"](a("Integer")))&&u(v(e,this.$length()))?_.$raise(A("IndexError"),"index "+e+" out of matches"):E})),l(o,"$match_length",(function(e){var t;return(t=this.$match(e))===E||null==t?E:t.$length()})),l(o,"$[]",(function(e){var t,n=this;return(t=$(arguments))[0].$$is_string?(n.$regexp().$names()["$include?"](t["$[]"](0))["$!"]()&&_.$raise(A("IndexError"),"undefined group name reference: "+t["$[]"](0)),n.$named_captures()["$[]"](t["$[]"](0))):p(n.matches,"[]",b(t))}),-1),l(o,"$offset",(function(e){var t=this;return 0!==e&&_.$raise(A("ArgumentError"),"MatchData#offset only supports 0th element"),[t.begin,t.begin+t.matches[e].length]})),l(o,"$==",(function(e){var t,n,r,i,o=this;return!!y(A("MatchData"),e)&&(u(t=u(n=u(r=u(i=o.string==e.string)?o.regexp.toString()==e.regexp.toString():i)?o.pre_match==e.pre_match:r)?o.post_match==e.post_match:n)?o.begin==e.begin:t)})),l(o,"$begin",(function(e){return 0!==e&&_.$raise(A("ArgumentError"),"MatchData#begin only supports 0th element"),this.begin})),l(o,"$end",(function(e){return 0!==e&&_.$raise(A("ArgumentError"),"MatchData#end only supports 0th element"),this.begin+this.matches[e].length})),l(o,"$captures",(function(){return this.matches.slice(1)})),l(o,"$named_captures",(function(){var e=E;return e=this.$captures(),p(this.$regexp().$named_captures(),"transform_values",[],(function(t){return null==t&&(t=E),e["$[]"](w(t.$last(),1))}))})),l(o,"$names",(function(){return this.$regexp().$names()})),l(o,"$inspect",(function(){var e=this,t="#<MatchData "+e.matches[0].$inspect();if(e.$regexp().$names()["$empty?"]())for(var n=1,r=e.matches.length;n<r;n++)t+=" "+n+":"+e.matches[n].$inspect();else p(e.$named_captures(),"each",[],(function(e,n){return null==e&&(e=E),null==n&&(n=E),t+=" "+e+":"+n.$inspect()}));return t+">"})),l(o,"$length",(function(){return this.matches.length})),l(o,"$to_a",x("matches")),l(o,"$to_s",(function(){return this.matches[0]})),l(o,"$values_at",(function(e){var t;t=$(arguments);var n,r,i,o=[];for(n=0;n<t.length;n++)t[n].$$is_range&&((r=t[n].$to_a()).unshift(n,1),Array.prototype.splice.apply(t,r)),(i=f["$coerce_to!"](t[n],A("Integer"),"to_int"))<0&&(i+=this.matches.length)<0?o.push(E):o.push(this.matches[i]);return o}),-1),d(o,"eql?","=="),d(o,"size","length")}(k[0],0,k)},Opal.modules["corelib/string"]=function(e){var t=e.coerce_to,n=e.respond_to,r=e.global_multiline_regexp,i=e.prop,o=e.klass,s=e.def,a=e.Opal,l=e.defs,u=e.slice,c=e.send,$=e.to_a,_=e.extract_kwargs,f=e.ensure_kwargs,d=e.eqeqeq,p=e.Kernel,h=e.truthy,m=e.gvars,g=e.rb_divide,v=e.rb_plus,b=e.eqeq,y=e.hash2,w=e.alias,x=e.const_set,k=e.top,E=[],A=e.$r(E),S=e.nil,C=e.$$$;return e.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),k.$require("corelib/comparable"),k.$require("corelib/regexp"),function(x,k,E){var A=o("::",String,"String"),O=[A].concat(E),T=e.$r(O);function I(e){function n(e){var t,n,r,i,o,s,a="",l=e.length;for(t=0;t<l;t++)if("-"===(n=e.charAt(t))&&t>0&&t<l-1&&!r){for((i=e.charCodeAt(t-1))>(o=e.charCodeAt(t+1))&&p.$raise(C("ArgumentError"),'invalid range "'+i+"-"+o+'" in string transliteration'),s=i+1;s<o+1;s++)a+=String.fromCharCode(s);r=!0,t++}else r="\\"===n,a+=n;return a}function r(e,t){if(0===e.length)return t;var n,r,i="",o=e.length;for(n=0;n<o;n++)r=e.charAt(n),-1!==t.indexOf(r)&&(i+=r);return i}var i,o,s,a,l,u,c="",$="";for(i=0,o=e.length;i<o;i++)a="^"===(s=t(e[i],C("String"),"to_str")).charAt(0)&&s.length>1,s=n(a?s.slice(1):s),a?$=r($,s):c=r(c,s);if(c.length>0&&$.length>0){for(u="",i=0,o=c.length;i<o;i++)l=c.charAt(i),-1===$.indexOf(l)&&(u+=l);c=u,$=""}return c.length>0?"["+C("Regexp").$escape(c)+"]":$.length>0?"[^"+C("Regexp").$escape($)+"]":null}A.$include(C("Comparable")),e.prop(A.$$prototype,"$$is_string",!0),s(A,"$__id__",(function(){return this.toString()})),l(A,"$try_convert",(function(e){return a["$coerce_to?"](e,C("String"),"to_str")})),l(A,"$new",(function(e){var n,r=(n=u(arguments))[0]||"",i=n[n.length-1];return r=t(r,C("String"),"to_str"),i&&i.$$is_hash&&i.$$smap.encoding&&(r=r.$force_encoding(i.$$smap.encoding)),(r=new this.$$constructor(r)).$initialize.$$pristine||c(r,"initialize",$(n)),r}),-1),s(A,"$initialize",(function(e,t){var n,r;return n=u(arguments),r=_(n),r=f(r),n.length>0&&n.shift(),r.$$smap.encoding,r.$$smap.capacity,S}),-1),s(A,"$%",(function(e){var t=this;return d(C("Array"),e)?c(t,"format",[t].concat($(e))):t.$format(t,e)})),s(A,"$*",(function(e){if((e=t(e,C("Integer"),"to_int"))<0&&p.$raise(C("ArgumentError"),"negative argument"),0===e)return"";var n="",r=this.toString();for(r.length*e>=1<<28&&p.$raise(C("RangeError"),"multiply count must not overflow maximum string size");1==(1&e)&&(n+=r),0!=(e>>>=1);)r+=r;return n})),s(A,"$+",(function(n){var r=this;if(""==(n=t(n,C("String"),"to_str"))&&r.$$class===e.String)return r;if(""==r&&n.$$class===e.String)return n;var i=r+n;return r.encoding===i.encoding&&n.encoding===i.encoding||"UTF-8"===r.encoding.name||"UTF-8"===n.encoding.name?i:e.enc(i,r.encoding)})),s(A,"$<=>",(function(e){var t=this;if(h(e["$respond_to?"]("to_str")))return t>(e=e.$to_str().$to_s())?1:t<e?-1:0;var n=e["$<=>"](t);return n===S?S:n>0?-1:n<0?1:0})),s(A,"$==",(function(e){return e.$$is_string?this.toString()===e.toString():!!n(e,"$to_str")&&e["$=="](this)})),s(A,"$=~",(function(e){return e.$$is_string&&p.$raise(C("TypeError"),"type mismatch: String given"),e["$=~"](this)})),s(A,"$[]",(function(e,n){var r,i,o=this,s=o.length;if(e.$$is_range)return r=e.excl,i=e,n=e.end===S?-1:t(e.end,C("Integer"),"to_int"),e=e.begin===S?0:t(e.begin,C("Integer"),"to_int"),Math.abs(e)>s?S:(e<0&&(e+=s),n<0&&(n+=s),r&&i.end!==S||(n+=1),(n-=e)<0&&(n=0),o.substr(e,n));if(e.$$is_string)return null!=n&&p.$raise(C("TypeError")),-1!==o.indexOf(e)?e:S;if(e.$$is_regexp){var a=o.match(e);return null===a?(m["~"]=S,S):(m["~"]=C("MatchData").$new(e,a),null==n?a[0]:(n=t(n,C("Integer"),"to_int"))<0&&-n<a.length?a[n+=a.length]:n>=0&&n<a.length?a[n]:S)}return(e=t(e,C("Integer"),"to_int"))<0&&(e+=s),null==n?e>=s||e<0?S:o.substr(e,1):(n=t(n,C("Integer"),"to_int"))<0||e>s||e<0?S:o.substr(e,n)}),-2),s(A,"$b",(function(){return new String(this).$force_encoding("binary")})),s(A,"$capitalize",(function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()})),s(A,"$casecmp",(function(e){var n=this;if(!h(e["$respond_to?"]("to_str")))return S;e=t(e,C("String"),"to_str").$to_s();var r=/^[\x00-\x7F]*$/;return r.test(n)&&r.test(e)&&(n=n.toLowerCase(),e=e.toLowerCase()),n["$<=>"](e)})),s(A,"$casecmp?",(function(e){var t=this.$casecmp(e);return t===S?S:0===t})),s(A,"$center",(function(e,n){var r=this;if(null==n&&(n=" "),e=t(e,C("Integer"),"to_int"),n=t(n,C("String"),"to_str").$to_s(),h(n["$empty?"]())&&p.$raise(C("ArgumentError"),"zero width padding"),h(e<=r.length))return r;var i=r.$ljust(g(v(e,r.length),2).$ceil(),n);return r.$rjust(g(v(e,r.length),2).$floor(),n)+i.slice(r.length)}),-2),s(A,"$chomp",(function(e){var t,n=this;return null==m["/"]&&(m["/"]=S),null==e&&(e=m["/"]),h(e===S||0===n.length)?n:("\n"===(e=a["$coerce_to!"](e,C("String"),"to_str").$to_s())?t=n.replace(/\r?\n?$/,""):""===e?t=n.replace(/(\r?\n)+$/,""):n.length>=e.length&&n.substr(n.length-e.length,e.length)===e&&(t=n.substr(0,n.length-e.length)),null!=t?t:n)}),-1),s(A,"$chop",(function(){var e=this,t=e.length;return t<=1?"":"\n"===e.charAt(t-1)&&"\r"===e.charAt(t-2)?e.substr(0,t-2):e.substr(0,t-1)})),s(A,"$chr",(function(){return this.charAt(0)})),s(A,"$clone",(function(e){var t,n=this,r=S;return null==(t=(e=f(e)).$$smap.freeze)&&(t=S),h(t["$nil?"]())||b(t,!0)||b(t,!1)||n.$raise(T("ArgumentError"),"unexpected value for freeze: "+t.$class()),(r=new String(n)).$copy_singleton_methods(n),r.$initialize_clone(n,y(["freeze"],{freeze:t})),b(t,!0)?r.$$frozen||(r.$$frozen=!0):h(t["$nil?"]())&&n.$$frozen&&(r.$$frozen=!0),r}),-1),s(A,"$dup",(function(){var e=S;return(e=new String(this)).$initialize_dup(this),e})),s(A,"$count",(function(e){var t;0===(t=u(arguments)).length&&p.$raise(C("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var n=I(t);return null===n?0:this.length-this.replace(new RegExp(n,"g"),"").length}),-1),s(A,"$delete",(function(e){var t;0===(t=u(arguments)).length&&p.$raise(C("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var n=I(t);return null===n?this:this.replace(new RegExp(n,"g"),"")}),-1),s(A,"$delete_prefix",(function(e){var n=this;return e.$$is_string||(e=t(e,C("String"),"to_str")),n.slice(0,e.length)===e?n.slice(e.length):n})),s(A,"$delete_suffix",(function(e){var n=this;return e.$$is_string||(e=t(e,C("String"),"to_str")),n.slice(n.length-e.length)===e?n.slice(0,n.length-e.length):n})),s(A,"$downcase",(function(){return this.toLowerCase()})),s(A,"$each_line",(function n(r,i){var o,s,a,l,c,$,d,p,h,g,v,b,w=n.$$p||S,x=this;if(null==m["/"]&&(m["/"]=S),n.$$p=null,o=u(arguments),s=_(o),s=f(s),o.length>0&&(a=o.shift()),null==a&&(a=m["/"]),null==(l=s.$$smap.chomp)&&(l=!1),w===S)return x.$enum_for("each_line",a,y(["chomp"],{chomp:l}));if(a===S)return e.yield1(w,x),x;if(0===(a=t(a,C("String"),"to_str")).length){for($=0,d=(c=x.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/)).length;$<d;$+=2)(c[$]||c[$+1])&&(b=(c[$]||"")+(c[$+1]||""),l&&(b=b.$chomp("\n")),e.yield1(w,b));return x}for(h=x.$chomp(a),g=x.length!=h.length,$=0,p=(v=h.split(a)).length;$<p;$++)b=v[$],($<p-1||g)&&(b+=a),l&&(b=b.$chomp(a)),e.yield1(w,b);return x}),-1),s(A,"$empty?",(function(){return 0===this.length})),s(A,"$end_with?",(function(e){for(var n,r=this,i=0,o=(n=u(arguments)).length;i<o;i++){var s=t(n[i],C("String"),"to_str").$to_s();if(r.length>=s.length&&r.substr(r.length-s.length,s.length)==s)return!0}return!1}),-1),s(A,"$gsub",(function e(n,i){var o=e.$$p||S,s=this;if(e.$$p=null,void 0===i&&o===S)return s.$enum_for("gsub",n);var a,l,u,c="",$=S,_=0;for(n.$$is_regexp?n=r(n):(n=t(n,C("String"),"to_str"),n=new RegExp(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===(a=n.exec(s))){m["~"]=S,c+=s.slice(_);break}$=C("MatchData").$new(n,a),void 0===i?(u=n.lastIndex,l=o(a[0]),n.lastIndex=u):i.$$is_hash?l=i["$[]"](a[0]).$to_s():(i.$$is_string||(i=t(i,C("String"),"to_str")),l=i.replace(/([\\]+)([0-9+&`'])/g,(function(e,t,n){if(t.length%2==0)return e;switch(n){case"+":for(var r=a.length-1;r>0;r--)if(void 0!==a[r])return t.slice(1)+a[r];return"";case"&":return t.slice(1)+a[0];case"`":return t.slice(1)+s.slice(0,a.index);case"'":return t.slice(1)+s.slice(a.index+a[0].length);default:return t.slice(1)+(a[n]||"")}})).replace(/\\\\/g,"\\")),n.lastIndex===a.index?(c+=s.slice(_,a.index)+l+(s[a.index]||""),n.lastIndex+=1):c+=s.slice(_,a.index)+l,_=n.lastIndex}return m["~"]=$,c}),-2),s(A,"$hash",(function(){return this.toString()})),s(A,"$hex",(function(){return this.$to_i(16)})),s(A,"$include?",(function(e){return e.$$is_string||(e=t(e,C("String"),"to_str")),-1!==this.indexOf(e)})),s(A,"$index",(function(e,n){var i,o,s,a=this;if(void 0===n)n=0;else if((n=t(n,C("Integer"),"to_int"))<0&&(n+=a.length)<0)return S;if(e.$$is_regexp)for(s=r(e);;){if(null===(o=s.exec(a))){m["~"]=S,i=-1;break}if(o.index>=n){m["~"]=C("MatchData").$new(s,o),i=o.index;break}s.lastIndex=o.index+1}else i=0===(e=t(e,C("String"),"to_str")).length&&n>a.length?-1:a.indexOf(e,n);return-1===i?S:i}),-2),s(A,"$inspect",(function(){var e=this,t={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+e.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,(function(n){return t[n]?t[n]:(n=n.charCodeAt(0))<=255&&(e.encoding["$binary?"]()||e.internal_encoding["$binary?"]())?"\\x"+("00"+n.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+n.toString(16).toUpperCase()).slice(-4)})).replace(/\#[\$\@\{]/g,"\\$&")+'"'})),s(A,"$intern",(function(){return this.toString()})),s(A,"$length",(function(){return this.length})),w(A,"size","length"),s(A,"$lines",(function e(t,n){var r,i,o,s,a=e.$$p||S,l=S;return null==m["/"]&&(m["/"]=S),e.$$p=null,r=u(arguments),i=_(r),i=f(i),r.length>0&&(o=r.shift()),null==o&&(o=m["/"]),null==(s=i.$$smap.chomp)&&(s=!1),l=c(this,"each_line",[o,y(["chomp"],{chomp:s})],a.$to_proc()),h(a)?this:l.$to_a()}),-1),s(A,"$ljust",(function(e,n){var r=this;if(null==n&&(n=" "),e=t(e,C("Integer"),"to_int"),n=t(n,C("String"),"to_str").$to_s(),h(n["$empty?"]())&&p.$raise(C("ArgumentError"),"zero width padding"),h(e<=r.length))return r;var i=-1,o="";for(e-=r.length;++i<e;)o+=n;return r+o.slice(0,e)}),-2),s(A,"$lstrip",(function(){return this.replace(/^[\u0000\s]*/,"")})),s(A,"$ascii_only?",(function(){return!!this.encoding.ascii&&/^[\x00-\x7F]*$/.test(this)})),s(A,"$match",(function e(t,n){var r=e.$$p||S;return e.$$p=null,(d(T("String"),t)||h(t["$respond_to?"]("to_str")))&&(t=C("Regexp").$new(t.$to_str())),d(C("Regexp"),t)||p.$raise(C("TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),c(t,"match",[this,n],r.$to_proc())}),-2),s(A,"$match?",(function(e,t){return(d(T("String"),e)||h(e["$respond_to?"]("to_str")))&&(e=C("Regexp").$new(e.$to_str())),d(C("Regexp"),e)||p.$raise(C("TypeError"),"wrong argument type "+e.$class()+" (expected Regexp)"),e["$match?"](this,t)}),-2),s(A,"$next",(function(){var e=this,t=e.length;if(0===t)return"";for(var n,r=e,i=e.search(/[a-zA-Z0-9]/),o=!1;t--;){if((n=e.charCodeAt(t))>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122)switch(n){case 57:o=!0,n=48;break;case 90:o=!0,n=65;break;case 122:o=!0,n=97;break;default:o=!1,n+=1}else-1===i?255===n?(o=!0,n=0):(o=!1,n+=1):o=!0;if(r=r.slice(0,t)+String.fromCharCode(n)+r.slice(t+1),o&&(0===t||t===i)){switch(n){case 65:case 97:break;default:n+=1}r=0===t?String.fromCharCode(n)+r:r.slice(0,t)+String.fromCharCode(n)+r.slice(t),o=!1}if(!o)break}return r})),s(A,"$oct",(function(){var e,t=this,n=8;return/^\s*_/.test(t)?0:(t=t.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,(function(e,t,r,i){switch(i.charAt(0)){case"+":case"-":return e;case"0":if("x"===i.charAt(1)&&"0x"===r)return e}switch(r){case"0b":n=2;break;case"0":case"0o":n=8;break;case"0d":n=10;break;case"0x":n=16}return t+i})),e=parseInt(t.replace(/_(?!_)/g,""),n),isNaN(e)?0:e)})),s(A,"$ord",(function(){var e=this;return"function"==typeof e.codePointAt?e.codePointAt(0):e.charCodeAt(0)})),s(A,"$partition",(function(e){var n,r,i=this;return e.$$is_regexp?null===(r=e.exec(i))?n=-1:(C("MatchData").$new(e,r),e=r[0],n=r.index):(e=t(e,C("String"),"to_str"),n=i.indexOf(e)),-1===n?[i,"",""]:[i.slice(0,n),i.slice(n,n+e.length),i.slice(n+e.length)]})),s(A,"$reverse",(function(){return this.split("").reverse().join("")})),s(A,"$rindex",(function(e,n){var i,o,s,a,l=this;if(void 0===n)n=l.length;else if((n=t(n,C("Integer"),"to_int"))<0&&(n+=l.length)<0)return S;if(e.$$is_regexp){for(o=null,s=r(e);!(null===(a=s.exec(l))||a.index>n);)o=a,s.lastIndex=o.index+1;null===o?(m["~"]=S,i=-1):(C("MatchData").$new(s,o),i=o.index)}else e=t(e,C("String"),"to_str"),i=l.lastIndexOf(e,n);return-1===i?S:i}),-2),s(A,"$rjust",(function(e,n){var r=this;if(null==n&&(n=" "),e=t(e,C("Integer"),"to_int"),n=t(n,C("String"),"to_str").$to_s(),h(n["$empty?"]())&&p.$raise(C("ArgumentError"),"zero width padding"),h(e<=r.length))return r;var i=Math.floor(e-r.length),o=Math.floor(i/n.length),s=Array(o+1).join(n),a=i-s.length;return s+n.slice(0,a)+r}),-2),s(A,"$rpartition",(function(e){var n,i,o,s,a=this;if(e.$$is_regexp){for(i=null,o=r(e);null!==(s=o.exec(a));)i=s,o.lastIndex=i.index+1;null===i?n=-1:(C("MatchData").$new(o,i),e=i[0],n=i.index)}else e=t(e,C("String"),"to_str"),n=a.lastIndexOf(e);return-1===n?["","",a]:[a.slice(0,n),a.slice(n,n+e.length),a.slice(n+e.length)]})),s(A,"$rstrip",(function(){return this.replace(/[\s\u0000]*$/,"")})),s(A,"$scan",(function n(i,o){var s,a=n.$$p||S;n.$$p=null,null==(s=(o=f(o)).$$smap.no_matchdata)&&(s=!1);var l,u=[],c=S;for(i.$$is_regexp?i=r(i):(i=t(i,C("String"),"to_str"),i=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(l=i.exec(this));)c=C("MatchData").$new(i,l,y(["no_matchdata"],{no_matchdata:s})),a===S?1==l.length?u.push(l[0]):u.push(c.$captures()):1==l.length?e.yield1(a,l[0]):e.yield1(a,c.$captures()),i.lastIndex===l.index&&(i.lastIndex+=1);return s||(m["~"]=c),a!==S?this:u}),-2),s(A,"$singleton_class",(function(){return e.get_singleton_class(this)})),s(A,"$split",(function(e,n){var i=this,o=S;if(null==m[";"]&&(m[";"]=S),0===i.length)return[];if(void 0===n)n=0;else if(1===(n=a["$coerce_to!"](n,C("Integer"),"to_int")))return[i];void 0!==e&&e!==S||(e=h(o=m[";"])?o:" ");var s,l,u,c=[],$=i.toString(),_=0;if(e.$$is_regexp?e=r(e):" "===(e=t(e,C("String"),"to_str").$to_s())?(e=/\s+/gm,$=$.replace(/^\s+/,"")):e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"),1===(c=$.split(e)).length&&c[0]===$)return[c[0]];for(;-1!==(l=c.indexOf(void 0));)c.splice(l,1);if(0===n){for(;""===c[c.length-1];)c.length-=1;return c}if(s=e.exec($),n<0){if(null!==s&&""===s[0]&&-1===e.source.indexOf("(?="))for(l=0,u=s.length;l<u;l++)c.push("");return c}if(null!==s&&""===s[0])return c.splice(n-1,c.length-1,c.slice(n-1).join("")),c;if(n>=c.length)return c;for(l=0;null!==s&&(l++,_=e.lastIndex,l+1!==n);)s=e.exec($);return c.splice(n-1,c.length-1,$.slice(_)),c}),-1),s(A,"$squeeze",(function(e){var t,n=this;if(0===(t=u(arguments)).length)return n.replace(/(.)\1+/g,"$1");var r=I(t);return null===r?n:n.replace(new RegExp("("+r+")\\1+","g"),"$1")}),-1),s(A,"$start_with?",(function(e){for(var n,r=0,i=(n=u(arguments)).length;r<i;r++)if(n[r].$$is_regexp){var o=n[r],s=o.exec(this);if(null!=s&&0===s.index)return m["~"]=C("MatchData").$new(o,s),!0;m["~"]=S}else{var a=t(n[r],C("String"),"to_str").$to_s();if(0===this.indexOf(a))return!0}return!1}),-1),s(A,"$strip",(function(){return this.replace(/^[\s\u0000]*|[\s\u0000]*$/g,"")})),s(A,"$sub",(function e(n,r){var i=e.$$p||S,o=this;e.$$p=null,n.$$is_regexp||(n=t(n,C("String"),"to_str"),n=new RegExp(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var s,a=n.exec(o);return null===a?(m["~"]=S,s=o.toString()):(C("MatchData").$new(n,a),void 0===r?(i===S&&p.$raise(C("ArgumentError"),"wrong number of arguments (1 for 2)"),s=o.slice(0,a.index)+i(a[0])+o.slice(a.index+a[0].length)):r.$$is_hash?s=o.slice(0,a.index)+r["$[]"](a[0]).$to_s()+o.slice(a.index+a[0].length):(r=(r=t(r,C("String"),"to_str")).replace(/([\\]+)([0-9+&`'])/g,(function(e,t,n){if(t.length%2==0)return e;switch(n){case"+":for(var r=a.length-1;r>0;r--)if(void 0!==a[r])return t.slice(1)+a[r];return"";case"&":return t.slice(1)+a[0];case"`":return t.slice(1)+o.slice(0,a.index);case"'":return t.slice(1)+o.slice(a.index+a[0].length);default:return t.slice(1)+(a[n]||"")}})).replace(/\\\\/g,"\\"),s=o.slice(0,a.index)+r+o.slice(a.index+a[0].length))),s}),-2),s(A,"$sum",(function(e){null==e&&(e=16),e=t(e,C("Integer"),"to_int");for(var n=0,r=this.length,i=0;i<r;i++)n+=this.charCodeAt(i);return e<=0?n:n&Math.pow(2,e)-1}),-1),s(A,"$swapcase",(function(){return this.replace(/([a-z]+)|([A-Z]+)/g,(function(e,t,n){return t?e.toUpperCase():e.toLowerCase()}))})),s(A,"$to_f",(function(){if("_"===this.charAt(0))return 0;var e=parseFloat(this.replace(/_/g,""));return isNaN(e)||e==1/0||e==-1/0?0:e})),s(A,"$to_i",(function(e){null==e&&(e=10);var n,r=this.toLowerCase(),i=t(e,C("Integer"),"to_int");return(1===i||i<0||i>36)&&p.$raise(C("ArgumentError"),"invalid radix "+i),/^\s*_/.test(r)?0:(r=r.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,(function(e,t,n,r){switch(r.charAt(0)){case"+":case"-":return e;case"0":if("x"===r.charAt(1)&&"0x"===n&&(0===i||16===i))return e}switch(n){case"0b":if(0===i||2===i)return i=2,t+r;break;case"0":case"0o":if(0===i||8===i)return i=8,t+r;break;case"0d":if(0===i||10===i)return i=10,t+r;break;case"0x":if(0===i||16===i)return i=16,t+r}return e})),n=parseInt(r.replace(/_(?!_)/g,""),i),isNaN(n)?0:n)}),-1),s(A,"$to_proc",(function t(){var n,r,i=S;return t.$$p=null,n=this.valueOf(),r=e.jsid(n),i=c(p,"proc",[],(function e(t){var i,o=e.$$p||S;e.$$p=null,0===(i=u(arguments)).length&&p.$raise(C("ArgumentError"),"no receiver given");var s=i[0];null==s&&(s=S);var a=s[r];return a?i=i.slice(1):(a=s.$method_missing,i[0]=n),"function"==typeof o&&(a.$$p=o),0===i.length?a.call(s):a.apply(s,i)}),-1),i.$$source_location=S,i})),s(A,"$to_s",(function(){return this.toString()})),s(A,"$tr",(function(e,n){var r,i,o,s,a,l,u,c=this;if(e=t(e,C("String"),"to_str").$to_s(),n=t(n,C("String"),"to_str").$to_s(),0==e.length||e===n)return c;var $={},_=e.split(""),f=_.length,d=n.split(""),h=d.length,m=!1,g=null;"^"===_[0]&&_.length>1&&(m=!0,_.shift(),g=d[h-1],f-=1);var v=[],b=null;for(i=!1,r=0;r<f;r++)if(s=_[r],null==b)b=s,v.push(s);else if("-"===s)"-"===b?(v.push("-"),v.push("-")):r==f-1?v.push("-"):i=!0;else if(i){for((a=b.charCodeAt(0))>(l=s.charCodeAt(0))&&p.$raise(C("ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(l)+'" in string transliteration'),o=a+1;o<l;o++)v.push(String.fromCharCode(o));v.push(s),i=null,b=null}else v.push(s);if(f=(_=v).length,m)for(r=0;r<f;r++)$[_[r]]=!0;else{if(h>0){var y=[],w=null;for(i=!1,r=0;r<h;r++)if(s=d[r],null==w)w=s,y.push(s);else if("-"===s)"-"===w?(y.push("-"),y.push("-")):r==h-1?y.push("-"):i=!0;else if(i){for((a=w.charCodeAt(0))>(l=s.charCodeAt(0))&&p.$raise(C("ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(l)+'" in string transliteration'),o=a+1;o<l;o++)y.push(String.fromCharCode(o));y.push(s),i=null,w=null}else y.push(s);h=(d=y).length}var x=f-h;if(x>0){var k=h>0?d[h-1]:"";for(r=0;r<x;r++)d.push(k)}for(r=0;r<f;r++)$[_[r]]=d[r]}var E="";for(r=0,u=c.length;r<u;r++){var A=$[s=c.charAt(r)];E+=m?null==A?g:s:null!=A?A:s}return E})),s(A,"$tr_s",(function(e,n){var r,i,o,s,a,l,u,c=this;if(e=t(e,C("String"),"to_str").$to_s(),n=t(n,C("String"),"to_str").$to_s(),0==e.length)return c;var $={},_=e.split(""),f=_.length,d=n.split(""),h=d.length,m=!1,g=null;"^"===_[0]&&_.length>1&&(m=!0,_.shift(),g=d[h-1],f-=1);var v=[],b=null;for(i=!1,r=0;r<f;r++)if(s=_[r],null==b)b=s,v.push(s);else if("-"===s)"-"===b?(v.push("-"),v.push("-")):r==f-1?v.push("-"):i=!0;else if(i){for((a=b.charCodeAt(0))>(l=s.charCodeAt(0))&&p.$raise(C("ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(l)+'" in string transliteration'),o=a+1;o<l;o++)v.push(String.fromCharCode(o));v.push(s),i=null,b=null}else v.push(s);if(f=(_=v).length,m)for(r=0;r<f;r++)$[_[r]]=!0;else{if(h>0){var y=[];for(i=!1,r=0;r<h;r++)if(s=d[r],null==b)b=s,y.push(s);else if("-"===s)r==h-1?y.push("-"):i=!0;else if(i){for((a=b.charCodeAt(0))>(l=s.charCodeAt(0))&&p.$raise(C("ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(l)+'" in string transliteration'),o=a+1;o<l;o++)y.push(String.fromCharCode(o));y.push(s),i=null,b=null}else y.push(s);h=(d=y).length}var w=f-h;if(w>0){var x=h>0?d[h-1]:"";for(r=0;r<w;r++)d.push(x)}for(r=0;r<f;r++)$[_[r]]=d[r]}var k="",E=null;for(r=0,u=c.length;r<u;r++){var A=$[s=c.charAt(r)];m?null==A?null==E&&(k+=g,E=!0):(k+=s,E=null):null!=A?null!=E&&E===A||(k+=A,E=A):(k+=s,E=null)}return k})),s(A,"$upcase",(function(){return this.toUpperCase()})),s(A,"$upto",(function e(n,r){var i=e.$$p||S,o=this;if(e.$$p=null,null==r&&(r=!1),i===S)return o.$enum_for("upto",n,r);var s,a,l=o.toString();if(n=t(n,C("String"),"to_str"),1===l.length&&1===n.length)for(s=l.charCodeAt(0),a=n.charCodeAt(0);s<=a&&(!r||s!==a);)i(String.fromCharCode(s)),s+=1;else if(parseInt(l,10).toString()===l&&parseInt(n,10).toString()===n)for(s=parseInt(l,10),a=parseInt(n,10);s<=a&&(!r||s!==a);)i(s.toString()),s+=1;else for(;l.length<=n.length&&l<=n&&(!r||l!==n);)i(l),l=l.$succ();return o}),-2),s(A,"$instance_variables",(function(){return[]})),l(A,"$_load",(function(e){var t;return t=u(arguments),c(this,"new",$(t))}),-1),s(A,"$unicode_normalize",(function(e){return null==e&&(e="nfc"),h(["nfc","nfd","nfkc","nfkd"]["$include?"](e))||p.$raise(C("ArgumentError"),"Invalid normalization form "+e),this.normalize(e.$upcase())}),-1),s(A,"$unicode_normalized?",(function(e){return null==e&&(e="nfc"),this.$unicode_normalize(e)["$=="](this)}),-1),s(A,"$unpack",(function(e){return p.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")})),s(A,"$unpack1",(function(e){return p.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")})),s(A,"$freeze",(function(){var e=this;return"string"==typeof e||i(e,"$$frozen",!0),e})),s(A,"$-@",(function(){var e=this;return"string"==typeof e||e.$$frozen?e:"UTF-8"==e.encoding.name&&"UTF-8"==e.internal_encoding.name?e.toString():e.$dup().$freeze()})),s(A,"$frozen?",(function(){return"string"==typeof this||!0===this.$$frozen})),w(A,"+@","dup"),w(A,"===","=="),w(A,"byteslice","[]"),w(A,"eql?","=="),w(A,"equal?","==="),w(A,"object_id","__id__"),w(A,"slice","[]"),w(A,"succ","next"),w(A,"to_str","to_s"),w(A,"to_sym","intern"),a.$pristine(A,"initialize")}(0,0,E),x(E[0],"Symbol",A("String"))},Opal.modules["corelib/enumerable"]=function(e){var t=e.truthy,n=e.coerce_to,r=e.yield1,i=e.yieldX,o=e.deny_frozen_access,s=e.module,a=e.send,l=e.slice,u=e.to_a,c=e.Opal,$=e.thrower,_=e.def,f=e.Kernel,d=e.return_val,p=e.rb_gt,h=e.rb_times,m=e.rb_lt,g=e.eqeq,v=e.rb_plus,b=e.rb_minus,y=e.rb_divide,w=e.rb_le,x=e.hash2,k=e.lambda,E=e.not,A=e.alias,S=e.nil,C=e.$$$;return e.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(O,T){var I=s("::","Enumerable"),R=[I].concat([]),N=e.$r(R);function L(e){return 0===e.length&&(e=[S]),e.length>1&&(e=[e]),e}return _(I,"$all?",(function n(r){try{var i=$("return"),o=n.$$p||S;return n.$$p=null,t(void 0!==r)?a(this,"each",[],(function(e){var n;if(n=L(l(arguments)),t(a(r,"public_send",["==="].concat(u(n)))))return S;i.$throw(!1)}),{$$arity:-1,$$ret:i}):a(this,"each",[],o!==S?function(n){var r;if(r=l(arguments),t(e.yieldX(o,u(r))))return S;i.$throw(!1)}:function(e){var n;if(n=l(arguments),t(c.$destructure(n)))return S;i.$throw(!1)},{$$arity:-1,$$ret:i}),!0}catch(e){if(e===i)return e.$v;throw e}}),-1),_(I,"$any?",(function n(r){try{var i=$("return"),o=n.$$p||S;return n.$$p=null,t(void 0!==r)?a(this,"each",[],(function(e){var n;if(n=L(l(arguments)),!t(a(r,"public_send",["==="].concat(u(n)))))return S;i.$throw(!0)}),{$$arity:-1,$$ret:i}):a(this,"each",[],o!==S?function(n){var r;if(r=l(arguments),!t(e.yieldX(o,u(r))))return S;i.$throw(!0)}:function(e){var n;if(n=l(arguments),!t(c.$destructure(n)))return S;i.$throw(!0)},{$$arity:-1,$$ret:i}),!1}catch(e){if(e===i)return e.$v;throw e}}),-1),_(I,"$chunk",(function e(){var t=e.$$p||S,n=this;return e.$$p=null,t===S?a(n,"to_enum",["chunk"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:n}):a(C("Enumerator"),"new",[],(function e(n){var i=null==e.$$s?this:e.$$s;null==n&&(n=S);var o=S,s=[];function a(){s.length>0&&n.$yield(o,s)}i.$each.$$p=function(e){var n=r(t,e);n===S?(a(),s=[],o=S):(o===S||o===n?s.push(e):(a(),s=[e]),o=n)},i.$each(),a()}),{$$s:n})})),_(I,"$chunk_while",(function t(){var n=t.$$p||S;return t.$$p=null,n===S&&f.$raise(C("ArgumentError"),"no block given"),a(this,"slice_when",[],(function(t,r){return null==t&&(t=S),null==r&&(r=S),e.yieldX(n,[t,r])["$!"]()}))})),_(I,"$collect",(function e(){var t=e.$$p||S,n=this;if(e.$$p=null,t===S)return a(n,"enum_for",["collect"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:n});var r=[];return n.$each.$$p=function(){var e=i(t,arguments);r.push(e)},n.$each(),r})),_(I,"$collect_concat",(function e(){var t=e.$$p||S,n=this;return e.$$p=null,t===S?a(n,"enum_for",["collect_concat"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:n}):a(n,"map",[],t.$to_proc()).$flatten(1)})),_(I,"$compact",(function(){return this.$to_a().$compact()})),_(I,"$count",(function e(n){var r=e.$$p||S,o=S;return e.$$p=null,o=0,null!=n&&r!==S&&this.$warn("warning: given block not used"),t(null!=n)?r=a(f,"proc",[],(function(e){var t;return t=l(arguments),c.$destructure(t)["$=="](n)}),-1):t(r["$nil?"]())&&(r=a(f,"proc",[],d(!0))),a(this,"each",[],(function(e){var n;return n=l(arguments),t(i(r,n))?o++:S}),-1),o}),-1),_(I,"$cycle",(function e(n){var i=e.$$p||S,o=this;if(e.$$p=null,null==n&&(n=S),i===S)return a(o,"enum_for",["cycle",n],(function e(){var r=null==e.$$s?this:e.$$s;return t(n["$nil?"]())?t(r["$respond_to?"]("size"))?C(C("Float"),"INFINITY"):S:(n=c["$coerce_to!"](n,C("Integer"),"to_int"),t(p(n,0))?h(r.$enumerator_size(),n):0)}),{$$s:o});if(!t(n["$nil?"]())&&(n=c["$coerce_to!"](n,C("Integer"),"to_int"),t(n<=0)))return S;var s,l,u=[];if(o.$each.$$p=function(){var e=c.$destructure(arguments);r(i,e),u.push(e)},o.$each(),0===u.length)return S;if(n===S)for(;;)for(s=0,l=u.length;s<l;s++)r(i,u[s]);else for(;n>1;){for(s=0,l=u.length;s<l;s++)r(i,u[s]);n--}}),-1),_(I,"$detect",(function n(r){try{var i=$("return"),o=n.$$p||S;return n.$$p=null,o===S?this.$enum_for("detect",r):(a(this,"each",[],(function(n){var r,s;if(r=l(arguments),s=c.$destructure(r),!t(e.yield1(o,s)))return S;i.$throw(s)}),{$$arity:-1,$$ret:i}),void 0!==r?"function"==typeof r?r():r:S)}catch(e){if(e===i)return e.$v;throw e}}),-1),_(I,"$drop",(function(e){e=n(e,C("Integer"),"to_int"),t(e<0)&&f.$raise(C("ArgumentError"),"attempt to drop negative size");var r=[],i=0;return this.$each.$$p=function(){e<=i&&r.push(c.$destructure(arguments)),i++},this.$each(),r})),_(I,"$drop_while",(function e(){var n=e.$$p||S,i=this;if(e.$$p=null,n===S)return i.$enum_for("drop_while");var o=[],s=!0;return i.$each.$$p=function(){var e=c.$destructure(arguments);if(s){var i=r(n,e);t(i)||(s=!1,o.push(e))}else o.push(e)},i.$each(),o})),_(I,"$each_cons",(function e(n){var i=e.$$p||S,o=this;if(e.$$p=null,t(1!=arguments.length)&&f.$raise(C("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),n=c.$try_convert(n,C("Integer"),"to_int"),t(n<=0)&&f.$raise(C("ArgumentError"),"invalid size"),i===S)return a(o,"enum_for",["each_cons",n],(function e(){var r=S;return r=(null==e.$$s?this:e.$$s).$enumerator_size(),t(r["$nil?"]())?S:g(r,0)||t(m(r,n))?0:v(b(r,n),1)}),{$$s:o});var s=[];return o.$each.$$p=function(){var e=c.$destructure(arguments);s.push(e),s.length>n&&s.shift(),s.length==n&&r(i,s.slice(0,n))},o.$each(),o})),_(I,"$each_entry",(function e(t){var n,i=e.$$p||S,o=this;return e.$$p=null,n=l(arguments),i===S?a(o,"to_enum",["each_entry"].concat(u(n)),(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:o}):(o.$each.$$p=function(){var e=c.$destructure(arguments);r(i,e)},o.$each.apply(o,n),o)}),-1),_(I,"$each_slice",(function e(i){var o=e.$$p||S,s=this;if(e.$$p=null,i=n(i,C("Integer"),"to_int"),t(i<=0)&&f.$raise(C("ArgumentError"),"invalid slice size"),o===S)return a(s,"enum_for",["each_slice",i],(function e(){var n=null==e.$$s?this:e.$$s;return t(n["$respond_to?"]("size"))?y(n.$size(),i).$ceil():S}),{$$s:s});var l=[];return s.$each.$$p=function(){var e=c.$destructure(arguments);l.push(e),l.length===i&&(r(o,l),l=[])},s.$each(),l.length>0&&r(o,l),s})),_(I,"$each_with_index",(function e(t){var n,r=e.$$p||S,i=this;if(e.$$p=null,n=l(arguments),r===S)return a(i,"enum_for",["each_with_index"].concat(u(n)),(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:i});var o=0;return i.$each.$$p=function(){var e=c.$destructure(arguments);r(e,o),o++},i.$each.apply(i,n),i}),-1),_(I,"$each_with_object",(function e(t){var n=e.$$p||S,r=this;return e.$$p=null,n===S?a(r,"enum_for",["each_with_object",t],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:r}):(r.$each.$$p=function(){var e=c.$destructure(arguments);n(e,t)},r.$each(),t)})),_(I,"$entries",(function(e){var t,n=this;t=l(arguments);var r=[];return n.$each.$$p=function(){r.push(c.$destructure(arguments))},n.$each.apply(n,t),r}),-1),_(I,"$filter_map",(function e(){var t=e.$$p||S,n=this;return e.$$p=null,t===S?a(n,"enum_for",["filter_map"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:n}):a(a(n,"map",[],t.$to_proc()),"select",[],"itself".$to_proc())})),_(I,"$find_all",(function e(){var n=e.$$p||S,i=this;if(e.$$p=null,n===S)return a(i,"enum_for",["find_all"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:i});var o=[];return i.$each.$$p=function(){var e=c.$destructure(arguments),i=r(n,e);t(i)&&o.push(e)},i.$each(),o})),_(I,"$find_index",(function n(r){try{var i=$("return"),o=n.$$p||S,s=this,_=S;return n.$$p=null,t(void 0===r&&o===S)?s.$enum_for("find_index"):(null!=r&&o!==S&&s.$warn("warning: given block not used"),_=0,t(null!=r)?a(s,"each",[],(function(e){var t;return t=l(arguments),g(c.$destructure(t),r)&&i.$throw(_),_+=1}),{$$arity:-1,$$ret:i}):a(s,"each",[],(function(n){var r;return r=l(arguments),t(e.yieldX(o,u(r)))&&i.$throw(_),_+=1}),{$$arity:-1,$$ret:i}),S)}catch(e){if(e===i)return e.$v;throw e}}),-1),_(I,"$first",(function(e){try{var r=$("return"),i=S,o=S;return t(void 0===e)?a(this,"each",[],(function(e){null==e&&(e=S),r.$throw(e)}),{$$ret:r}):(i=[],e=n(e,C("Integer"),"to_int"),t(e<0)&&f.$raise(C("ArgumentError"),"attempt to take negative size"),t(0==e)?[]:(o=0,a(this,"each",[],(function(n){var s;if(s=l(arguments),i.push(c.$destructure(s)),!t(e<=++o))return S;r.$throw(i)}),{$$arity:-1,$$ret:r}),i))}catch(e){if(e===r)return e.$v;throw e}}),-1),_(I,"$grep",(function n(r){var i=n.$$p||S,o=S;return n.$$p=null,o=[],a(this,"each",[],(function(n){var s,c;return c=L(s=l(arguments)),t(a(r,"__send__",["==="].concat(u(c))))?(i!==S?(t(p(s.$length(),1))&&(s=[s]),s=e.yieldX(i,u(s))):t(w(s.$length(),1))&&(s=s["$[]"](0)),o.$push(s)):S}),-1),o})),_(I,"$grep_v",(function n(r){var i=n.$$p||S,o=S;return n.$$p=null,o=[],a(this,"each",[],(function(n){var s,c;return c=L(s=l(arguments)),t(a(r,"__send__",["==="].concat(u(c))))?S:(i!==S?(t(p(s.$length(),1))&&(s=[s]),s=e.yieldX(i,u(s))):t(w(s.$length(),1))&&(s=s["$[]"](0)),o.$push(s))}),-1),o})),_(I,"$group_by",(function e(){var n,i=e.$$p||S,o=this,s=S,l=S;return e.$$p=null,i===S?a(o,"enum_for",["group_by"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:o}):(s=x([],{}),o.$each.$$p=function(){var e=c.$destructure(arguments),o=r(i,e);(t(l=s["$[]"](o))?l:(n=[o,[]],a(s,"[]=",n),n[n.length-1]))["$<<"](e)},o.$each(),s)})),_(I,"$include?",(function(e){try{var t=$("return");return a(this,"each",[],(function(n){var r;if(r=l(arguments),!g(c.$destructure(r),e))return S;t.$throw(!0)}),{$$arity:-1,$$ret:t}),!1}catch(e){if(e===t)return e.$v;throw e}})),_(I,"$inject",(function e(t,n){var r=e.$$p||S,o=this;e.$$p=null;var s=t;return r!==S&&void 0===n?o.$each.$$p=function(){var e=c.$destructure(arguments);void 0!==s?(e=i(r,[s,e]),s=e):s=e}:(void 0===n&&(C("Symbol")["$==="](t)||f.$raise(C("TypeError"),t.$inspect()+" is not a Symbol"),n=t,s=void 0),o.$each.$$p=function(){var e=c.$destructure(arguments);s=void 0!==s?s.$__send__(n,e):e}),o.$each(),null==s?S:s}),-1),_(I,"$lazy",(function(){return a(C(C("Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(function(e,t){var n;return null==e&&(e=S),n=l(arguments,1),a(e,"yield",u(n))}),-2)})),_(I,"$enumerator_size",(function(){return t(this["$respond_to?"]("size"))?this.$size():S})),_(I,"$max",(function e(t){var r,o,s=e.$$p||S,l=this;return e.$$p=null,void 0===t||t===S?(l.$each.$$p=function(){var e=c.$destructure(arguments);void 0!==r?((o=s!==S?i(s,[e,r]):e["$<=>"](r))===S&&f.$raise(C("ArgumentError"),"comparison failed"),o>0&&(r=e)):r=e},l.$each(),void 0===r?S:r):(t=n(t,C("Integer"),"to_int"),a(l,"sort",[],s.$to_proc()).$reverse().$first(t))}),-1),_(I,"$max_by",(function e(n){var i,o,s=e.$$p||S,l=this;return e.$$p=null,null==n&&(n=S),t(s)?t(n["$nil?"]())?(l.$each.$$p=function(){var e=c.$destructure(arguments),t=r(s,e);if(void 0===i)return i=e,void(o=t);t["$<=>"](o)>0&&(i=e,o=t)},l.$each(),void 0===i?S:i):a(l,"sort_by",[],s.$to_proc()).$reverse().$take(n):a(l,"enum_for",["max_by",n],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:l})}),-1),_(I,"$min",(function n(r){var i,o=n.$$p||S,s=this;return n.$$p=null,null==r&&(r=S),t(r["$nil?"]())?(s.$each.$$p=o!==S?function(){var e=c.$destructure(arguments);if(void 0!==i){var t=o(e,i);t===S&&f.$raise(C("ArgumentError"),"comparison failed"),t<0&&(i=e)}else i=e}:function(){var e=c.$destructure(arguments);void 0!==i?c.$compare(e,i)<0&&(i=e):i=e},s.$each(),void 0===i?S:i):o!==S?a(s,"sort",[],(function(t,n){return null==t&&(t=S),null==n&&(n=S),e.yieldX(o,[t,n])})).$take(r):s.$sort().$take(r)}),-1),_(I,"$min_by",(function e(n){var i,o,s=e.$$p||S,l=this;return e.$$p=null,null==n&&(n=S),t(s)?t(n["$nil?"]())?(l.$each.$$p=function(){var e=c.$destructure(arguments),t=r(s,e);if(void 0===i)return i=e,void(o=t);t["$<=>"](o)<0&&(i=e,o=t)},l.$each(),void 0===i?S:i):a(l,"sort_by",[],s.$to_proc()).$take(n):a(l,"enum_for",["min_by",n],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:l})}),-1),_(I,"$minmax",(function e(){var n,r=e.$$p||S;e.$$p=null,r=t(n=r)?n:a(f,"proc",[],(function(e,t){return null==e&&(e=S),null==t&&(t=S),e["$<=>"](t)}));var i=S,o=S,s=!0;return this.$each.$$p=function(){var e=c.$destructure(arguments);if(s)i=o=e,s=!1;else{var t=r.$call(i,e);t===S?f.$raise(C("ArgumentError"),"comparison failed"):t>0&&(i=e);var n=r.$call(o,e);n===S?f.$raise(C("ArgumentError"),"comparison failed"):n<0&&(o=e)}},this.$each(),[i,o]})),_(I,"$minmax_by",(function e(){var n=e.$$p||S,i=this;if(e.$$p=null,!t(n))return a(i,"enum_for",["minmax_by"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:i});var o,s,l=S,u=S;return i.$each.$$p=function(){var e=c.$destructure(arguments),t=r(n,e);(void 0===o||t["$<=>"](o)<0)&&(l=e,o=t),(void 0===s||t["$<=>"](s)>0)&&(u=e,s=t)},i.$each(),[l,u]})),_(I,"$none?",(function n(r){try{var i=$("return"),o=n.$$p||S;return n.$$p=null,t(void 0!==r)?a(this,"each",[],(function(e){var n;if(n=L(l(arguments)),!t(a(r,"public_send",["==="].concat(u(n)))))return S;i.$throw(!1)}),{$$arity:-1,$$ret:i}):a(this,"each",[],o!==S?function(n){var r;if(r=l(arguments),!t(e.yieldX(o,u(r))))return S;i.$throw(!1)}:function(e){var n,r;if(n=l(arguments),r=c.$destructure(n),!t(r))return S;i.$throw(!1)},{$$arity:-1,$$ret:i}),!0}catch(e){if(e===i)return e.$v;throw e}}),-1),_(I,"$one?",(function n(r){try{var i=$("return"),o=n.$$p||S,s=S;return n.$$p=null,s=0,t(void 0!==r)?a(this,"each",[],(function(e){var n;return n=L(l(arguments)),t(a(r,"public_send",["==="].concat(u(n))))?(s=v(s,1),t(p(s,1))?void i.$throw(!1):S):S}),{$$arity:-1,$$ret:i}):a(this,"each",[],o!==S?function(n){var r;return r=l(arguments),t(e.yieldX(o,u(r)))?(s=v(s,1),t(p(s,1))?void i.$throw(!1):S):S}:function(e){var n;return n=l(arguments),t(c.$destructure(n))?(s=v(s,1),t(p(s,1))?void i.$throw(!1):S):S},{$$arity:-1,$$ret:i}),s["$=="](1)}catch(e){if(e===i)return e.$v;throw e}}),-1),_(I,"$partition",(function e(){var n=e.$$p||S,i=this;if(e.$$p=null,n===S)return a(i,"enum_for",["partition"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:i});var o=[],s=[];return i.$each.$$p=function(){var e=c.$destructure(arguments),i=r(n,e);t(i)?o.push(e):s.push(e)},i.$each(),[o,s]})),_(I,"$reject",(function e(){var n=e.$$p||S,i=this;if(e.$$p=null,n===S)return a(i,"enum_for",["reject"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:i});var o=[];return i.$each.$$p=function(){var e=c.$destructure(arguments),i=r(n,e);t(i)||o.push(e)},i.$each(),o})),_(I,"$reverse_each",(function e(){var t=e.$$p||S,n=this;if(e.$$p=null,t===S)return a(n,"enum_for",["reverse_each"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:n});var r=[];n.$each.$$p=function(){r.push(arguments)},n.$each();for(var o=r.length-1;o>=0;o--)i(t,r[o]);return r})),_(I,"$slice_before",(function e(n){var i=e.$$p||S;return e.$$p=null,t(void 0===n&&i===S)&&f.$raise(C("ArgumentError"),"both pattern and block are given"),t(void 0!==n&&i!==S||arguments.length>1)&&f.$raise(C("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),a(C("Enumerator"),"new",[],(function e(o){var s=null==e.$$s?this:e.$$s;null==o&&(o=S);var a=[];s.$each.$$p=i!==S?void 0===n?function(){var e=c.$destructure(arguments),n=r(i,e);t(n)&&a.length>0&&(o["$<<"](a),a=[]),a.push(e)}:function(){var e=c.$destructure(arguments),r=i(e,n.$dup());t(r)&&a.length>0&&(o["$<<"](a),a=[]),a.push(e)}:function(){var e=c.$destructure(arguments),r=n["$==="](e);t(r)&&a.length>0&&(o["$<<"](a),a=[]),a.push(e)},s.$each(),a.length>0&&o["$<<"](a)}),{$$s:this})}),-1),_(I,"$slice_after",(function e(n){var i=e.$$p||S;return e.$$p=null,t(void 0===n&&i===S)&&f.$raise(C("ArgumentError"),"both pattern and block are given"),t(void 0!==n&&i!==S||arguments.length>1)&&f.$raise(C("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),t(void 0!==n)&&(i=a(f,"proc",[],(function(e){return null==e&&(e=S),n["$==="](e)}))),a(C("Enumerator"),"new",[],(function e(n){var o,s=null==e.$$s?this:e.$$s;null==n&&(n=S),s.$each.$$p=function(){var e=c.$destructure(arguments),s=r(i,e);null==o&&(o=[]),t(s)?(o.push(e),n.$yield(o),o=null):o.push(e)},s.$each(),null!=o&&n.$yield(o)}),{$$s:this})}),-1),_(I,"$slice_when",(function e(){var n=e.$$p||S;return e.$$p=null,n===S&&f.$raise(C("ArgumentError"),"wrong number of arguments (0 for 1)"),a(C("Enumerator"),"new",[],(function e(r){var o=null==e.$$s?this:e.$$s;null==r&&(r=S);var s=S,a=S;o.$each_cons.$$p=function(){var e=c.$destructure(arguments),o=e[0],l=e[1],u=i(n,[o,l]);a=l,s===S&&(s=[]),t(u)?(s.push(o),r.$yield(s),s=[]):s.push(o)},o.$each_cons(2),s!==S&&(s.push(a),r.$yield(s))}),{$$s:this})})),_(I,"$sort",(function e(){var t,n=e.$$p||S;return e.$$p=null,t=this.$to_a(),n===S&&(n=k((function(e,t){return null==e&&(e=S),null==t&&(t=S),e["$<=>"](t)}))),a(t,"sort",[],n.$to_proc())})),_(I,"$sort_by",(function t(){var n,r=t.$$p||S,i=this;return t.$$p=null,r===S?a(i,"enum_for",["sort_by"],(function e(){return(null==e.$$s?this:e.$$s).$enumerator_size()}),{$$s:i}):(n=a(i,"map",[],(function(){var t;return t=c.$destructure(arguments),[e.yield1(r,t),t]})),a(n,"sort!",[],(function(e,t){return null==e&&(e=S),null==t&&(t=S),e[0]["$<=>"](t[0])})),a(n,"map!",[],(function(e){return null==e&&(e=S),e[1]})))})),_(I,"$sum",(function n(r){var i=n.$$p||S,o=S,s=S;return n.$$p=null,null==r&&(r=0),o=r,s=0,a(this,"each",[],(function(n){var r,a=S,$=S,_=S;return r=l(arguments),a=i!==S?e.yieldX(i,u(r)):c.$destructure(r),E([C(C("Float"),"INFINITY"),C(C("Float"),"INFINITY")["$-@"]()]["$include?"](a))&&t(a["$respond_to?"]("-"))?($=b(a,s),_=v(o,$),s=b(b(_,o),$),o=_):o=v(o,a)}),-1),o}),-1),_(I,"$take",(function(e){return this.$first(e)})),_(I,"$take_while",(function n(){try{var r=$("return"),i=n.$$p||S,o=S;return n.$$p=null,t(i)?(o=[],a(this,"each",[],(function(n){var s,a;return s=l(arguments),a=c.$destructure(s),t(e.yield1(i,a))||r.$throw(o),o.push(a)}),{$$arity:-1,$$ret:r})):this.$enum_for("take_while")}catch(e){if(e===r)return e.$v;throw e}})),_(I,"$uniq",(function n(){var r=n.$$p||S,i=S;return n.$$p=null,i=x([],{}),a(this,"each",[],(function(n){var o,s,u,$;return o=l(arguments),u=c.$destructure(o),$=r!==S?e.yield1(r,u):u,t(i["$key?"]($))?S:(a(i,"[]=",s=[$,u]),s[s.length-1])}),-1),i.$values()})),_(I,"$tally",(function(e){var n;return e&&e!==S&&o(e),n=a(a(this,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),t(e)?(a(n,"each",[],(function(t,n){var r;return null==t&&(t=S),null==n&&(n=S),r=[t,v(e.$fetch(t,0),n)],a(e,"[]=",r),r[r.length-1]})),e):n}),-1),_(I,"$to_h",(function t(n){var r,i=t.$$p||S,o=this;if(t.$$p=null,r=l(arguments),i!==S)return a(a(o,"map",[],i.$to_proc()),"to_h",u(r));var s=x([],{});return o.$each.$$p=function(){var t,n,r=c.$destructure(arguments),i=c["$coerce_to?"](r,C("Array"),"to_ary");i.$$is_array||f.$raise(C("TypeError"),"wrong element type "+i.$class()+" (expected array)"),2!==i.length&&f.$raise(C("ArgumentError"),"wrong array length (expected 2, was "+i.$length()+")"),t=i[0],n=i[1],e.hash_put(s,t,n)},o.$each.apply(o,r),s}),-1),_(I,"$to_set",(function e(t,n){var r,i,o=e.$$p||S,s=this;return e.$$p=null,(r=l(arguments)).length>0&&(i=r.shift()),null==i&&(i=N("Set")),a(i,"new",[s].concat(u(r)),o.$to_proc())}),-1),_(I,"$zip",(function e(t){var n;return e.$$p=null,n=l(arguments),a(this.$to_a(),"zip",u(n))}),-1),A(I,"find","detect"),A(I,"filter","find_all"),A(I,"flat_map","collect_concat"),A(I,"map","collect"),A(I,"member?","include?"),A(I,"reduce","inject"),A(I,"select","find_all"),A(I,"to_a","entries")}()},Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(e){var t,n,r=e.klass,i=e.truthy,o=e.to_a,s=e.eqeq,a=e.Kernel,l=e.def,u=e.rb_gt,c=e.rb_lt,$=e.rb_le,_=e.rb_ge,f=e.rb_plus,d=e.rb_minus,p=e.eqeqeq,h=e.not,m=e.rb_times,g=e.rb_divide,v=e.alias,b=e.nil,y=e.$$$;return e.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),t=r("::",null,"Enumerator"),n=[t].concat([]),function(t,n,w){var x=r(t,n,"ArithmeticSequence"),k=[x].concat(w),E=e.$r(k),A=x.$$prototype;A.step_arg2=A.receiver_num=A.step_arg1=A.step=A.range=A.topfx=A.bypfx=A.creation_method=A.skipped_arg=b,e.prop(x.$$prototype,"$$is_arithmetic_seq",!0);var S=1/0;return l(x,"$initialize",(function(t,n,r){var l,u=this,c=b;return null==r&&(r="step"),u.creation_method=r,i(t["$is_a?"](y("Array")))?(l=[].concat(o(t)),u.step_arg1=null==l[0]?b:l[0],u.step_arg2=null==l[1]?b:l[1],u.topfx=null==l[2]?b:l[2],u.bypfx=null==l[3]?b:l[3],u.receiver_num=n,u.step=1,u.range=i(u.step_arg2)?(u.step=u.step_arg2,e.Range.$new(u.receiver_num,u.step_arg1,!1)):i(u.step_arg1)?e.Range.$new(u.receiver_num,u.step_arg1,!1):e.Range.$new(u.receiver_num,b,!1)):(i(n)||(u.skipped_arg=!0),l=[t,i(c=n)?c:1],u.range=l[0],u.step=l[1]),u.object=u,s(u.step,0)&&a.$raise(E("ArgumentError"),"step can't be 0"),i(u.step["$respond_to?"]("to_int"))?b:a.$raise(E("ArgumentError"),"no implicit conversion of "+u.step.$class()+" into Integer")}),-2),x.$attr_reader("step"),l(x,"$begin",(function(){return this.range.$begin()})),l(x,"$end",(function(){return this.range.$end()})),l(x,"$exclude_end?",(function(){return this.range["$exclude_end?"]()})),l(x,"$_lesser_than_end?",(function(e){var t,n,r=this;return t=i(n=r.$end())?n:S,i(u(r.$step(),0))?i(r["$exclude_end?"]())?c(e,t):$(e,t):i(r["$exclude_end?"]())?u(e,t):_(e,t)})),l(x,"$_greater_than_begin?",(function(e){var t,n;return t=i(n=this.$begin())?n:S["$-@"](),i(u(this.$step(),0))?u(e,t):c(e,t)})),l(x,"$first",(function(e){var t=this,n=b,r=b,o=b;if(n=i(r=t.$begin())?r:S["$-@"](),!i(e))return i(t["$_lesser_than_end?"](n))?n:b;for(o=[];i(i(r=t["$_lesser_than_end?"](n))?u(e,0):r);)o["$<<"](n),n=f(n,t.$step()),e=d(e,1);return o}),-1),l(x,"$each",(function t(){var n,r=t.$$p||b,o=this,s=b;if(t.$$p=null,r===b)return o;for(p(b,o.$begin())&&a.$raise(E("TypeError"),"nil can't be coerced into Integer"),s=i(n=o.$begin())?n:S["$-@"]();i(o["$_lesser_than_end?"](s));)e.yield1(r,s),s=f(s,o.$step());return o})),l(x,"$last",(function(e){var t=this,n=b,r=b,o=b;if(p(S,n=t.$end())||p(S["$-@"](),n)?a.$raise(y("FloatDomainError"),t.$end()):p(b,n)&&a.$raise(y("RangeError"),"cannot get the last element of endless arithmetic sequence"),r=d(t.$end(),d(t.$end(),t.$begin())["$%"](t.$step())),i(t["$_lesser_than_end?"](r))||(r=d(r,t.$step())),!i(e))return i(t["$_greater_than_begin?"](r))?r:b;for(o=[];i(i(n=t["$_greater_than_begin?"](r))?u(e,0):n);)o["$<<"](r),r=d(r,t.$step()),e=d(e,1);return o.$reverse()}),-1),l(x,"$size",(function(){var e,t=this,n=b;return e=i(u(t.$step(),0))?1:-1,h(t["$_lesser_than_end?"](t.$begin()))?0:i([S["$-@"](),S]["$include?"](t.$step()))?1:i([m(S["$-@"](),e),b]["$include?"](t.$begin()))||i([m(S,e),b]["$include?"](t.$end()))?S:(n=d(t.$end(),d(t.$end(),t.$begin())["$%"](t.$step())),i(t["$_lesser_than_end?"](n))||(n=d(n,t.$step())),f(g(d(n,t.$begin()),t.$step()).$abs().$to_i(),1))})),l(x,"$==",(function(e){var t,n,r,o,s=this;return i(t=i(n=i(r=i(o=s.$class()["$=="](e.$class()))?s.$begin()["$=="](e.$begin()):o)?s.$end()["$=="](e.$end()):r)?s.$step()["$=="](e.$step()):n)?s["$exclude_end?"]()["$=="](e["$exclude_end?"]()):t})),l(x,"$hash",(function(){var e=this;return[e.$begin(),e.$end(),e.$step(),e["$exclude_end?"]()].$hash()})),l(x,"$inspect",(function(){var e=this,t=b;return i(e.receiver_num)?(t=i(e.step_arg2)?"("+e.topfx+e.step_arg1.$inspect()+", "+e.bypfx+e.step_arg2.$inspect()+")":i(e.step_arg1)?"("+e.topfx+e.step_arg1.$inspect()+")":b,"("+e.receiver_num.$inspect()+"."+e.creation_method+t+")"):(t=i(e.skipped_arg)?b:"("+e.step+")","(("+e.range.$inspect()+")."+e.creation_method+t+")")})),v(x,"===","=="),v(x,"eql?","==")}(t,t,n)},Opal.modules["corelib/enumerator/chain"]=function(e){var t,n=e.deny_frozen_access,r=e.klass,i=e.slice,o=e.def,s=e.send,a=e.to_a,l=e.truthy,u=e.rb_plus,c=e.thrower,$=e.nil,_=e.$$$;return e.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(e,t){var f=r(e,t,"Chain"),d=f.$$prototype;return d.enums=d.iterated=$,o(f,"$initialize",(function(e){var t,r=this;return t=i(arguments),n(r),r.enums=t,r.iterated=[],r.object=r}),-1),o(f,"$each",(function e(t){var n,r,o=e.$$p||$,l=this;return e.$$p=null,n=i(arguments),r=n,o===$?s(l,"to_enum",["each"].concat(a(r)),(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:l}):(s(l.enums,"each",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==n.iterated&&(n.iterated=$),null==t&&(t=$),n.iterated["$<<"](t),s(t,"each",a(r),o.$to_proc())}),{$$s:l}),l)}),-1),o(f,"$size",(function(e){try{var t,n,r=c("return"),o=$;return t=i(arguments),n=t,o=0,s(this.enums,"each",[],(function(e){var t;return null==e&&(e=$),t=s(e,"size",a(n)),l([$,_(_("Float"),"INFINITY")]["$include?"](t))&&r.$throw(t),o=u(o,t)}),{$$ret:r}),o}catch(e){if(e===r)return e.$v;throw e}}),-1),o(f,"$rewind",(function(){var e=this;return s(e.iterated,"reverse_each",[],(function(e){return null==e&&(e=$),l(e["$respond_to?"]("rewind"))?e.$rewind():$})),e.iterated=[],e})),o(f,"$inspect",(function(){return"#<Enumerator::Chain: "+this.enums.$inspect()+">"}))}(t=r("::",null,"Enumerator"),t)},Opal.modules["corelib/enumerator/generator"]=function(e){var t=e.deny_frozen_access,n=e.klass,r=e.truthy,i=e.Kernel,o=e.def,s=e.slice,a=e.send,l=[],u=e.nil,c=e.$$$;return e.add_stubs("include,raise,new,to_proc"),function(l,$,_){var f=[n(l,null,"Enumerator")].concat(_);return function(l,$,_){var f=n(l,null,"Generator"),d=[f].concat(_),p=e.$r(d);return f.$$prototype.block=u,f.$include(c("Enumerable")),o(f,"$initialize",(function e(){var n=e.$$p||u;return e.$$p=null,t(this),r(n)||i.$raise(c("LocalJumpError"),"no block given"),this.block=n})),o(f,"$each",(function t(n){var r,i,o=t.$$p||u;t.$$p=null,r=s(arguments),i=a(p("Yielder"),"new",[],o.$to_proc());try{r.unshift(i),e.yieldX(this.block,r)}catch(e){if(e&&"breaker"==e.$thrower_type)return e.$v;throw e}return this}),-1)}(f[0],0,f)}(l[0],0,l)},Opal.modules["corelib/enumerator/lazy"]=function(e){var t,n,r=e.truthy,i=e.coerce_to,o=e.yield1,s=e.yieldX,a=e.deny_frozen_access,l=e.klass,u=e.slice,c=e.send2,$=e.find_super,_=e.to_a,f=e.defs,d=e.Kernel,p=e.send,h=e.def,m=e.return_self,g=e.Opal,v=e.rb_lt,b=e.eqeqeq,y=e.rb_plus,w=e.alias,x=e.nil,k=e.$$$;return e.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),t=l("::",null,"Enumerator"),n=[t].concat([]),function(t,n,E){var A=l(t,n,"Lazy"),S=[A].concat(E),C=e.$r(S);return A.$$prototype.enumerator=x,l(A,k("Exception"),"StopLazyError"),f(A,"$for",(function e(t,n){var r,i=e.$$p||x,o=x;return e.$$p=null,r=u(arguments,1),(o=c(this,$(this,"for",e,!1,!0),"for",[t].concat(_(r)),i)).enumerator=t,o}),-2),h(A,"$initialize",(function t(n,r){var i=t.$$p||x,o=this;return t.$$p=null,null==r&&(r=x),a(o),i===x&&d.$raise(k("ArgumentError"),"tried to call lazy new without a block"),o.enumerator=n,c(o,$(o,"initialize",t,!1,!0),"initialize",[r],(function(t,r){var o;null==t&&(t=x),o=u(arguments,1);try{return p(n,"each",_(o),(function(e){var n;(n=u(arguments)).unshift(t),s(i,n)}),-1)}catch(t){if(!e.rescue(t,[C("StopLazyError")]))throw t;try{return x}finally{e.pop_exception()}}}),-2)}),-2),h(A,"$lazy",m),h(A,"$collect",(function e(){var t=e.$$p||x;return e.$$p=null,r(t)||d.$raise(k("ArgumentError"),"tried to call lazy map without a block"),p(C("Lazy"),"new",[this,this.$enumerator_size()],(function(e,n){var r;null==e&&(e=x),r=u(arguments,1);var i=s(t,r);e.$yield(i)}),-2)})),h(A,"$collect_concat",(function e(){var t=e.$$p||x;return e.$$p=null,r(t)||d.$raise(k("ArgumentError"),"tried to call lazy map without a block"),p(C("Lazy"),"new",[this,x],(function(e,n){var r;null==e&&(e=x),r=u(arguments,1);var i=s(t,r);i["$respond_to?"]("force")&&i["$respond_to?"]("each")?p(i,"each",[],(function(t){return null==t&&(t=x),e.$yield(t)})):g.$try_convert(i,k("Array"),"to_ary")===x?e.$yield(i):p(i,"each",[],(function(t){return null==t&&(t=x),e.$yield(t)}))}),-2)})),h(A,"$drop",(function(e){var t,n,o=x;return e=i(e,k("Integer"),"to_int"),r(v(e,0))&&d.$raise(k("ArgumentError"),"attempt to drop negative size"),t=this.$enumerator_size(),n=b(k("Integer"),t)&&r(v(e,t))?e:t,o=0,p(C("Lazy"),"new",[this,n],(function(t,n){var i;return null==t&&(t=x),i=u(arguments,1),r(v(o,e))?o=y(o,1):p(t,"yield",_(i))}),-2)})),h(A,"$drop_while",(function e(){var t=e.$$p||x,n=x;return e.$$p=null,r(t)||d.$raise(k("ArgumentError"),"tried to call lazy drop_while without a block"),n=!0,p(C("Lazy"),"new",[this,x],(function(e,i){var o;if(null==e&&(e=x),o=u(arguments,1),!r(n))return p(e,"yield",_(o));var a=s(t,o);r(a)||(n=!1,p(e,"yield",_(o)))}),-2)})),h(A,"$enum_for",(function e(t,n){var r,i,o,s=e.$$p||x,a=this;return e.$$p=null,(r=u(arguments)).length>0&&(i=r.shift()),null==i&&(i="each"),o=r,p(a.$class(),"for",[a,i].concat(_(o)),s.$to_proc())}),-1),h(A,"$find_all",(function e(){var t=e.$$p||x;return e.$$p=null,r(t)||d.$raise(k("ArgumentError"),"tried to call lazy select without a block"),p(C("Lazy"),"new",[this,x],(function(e,n){var i,o;null==e&&(e=x),i=u(arguments,1);var a=s(t,o=i);r(a)&&p(e,"yield",_(o))}),-2)})),h(A,"$grep",(function e(t){var n=e.$$p||x;return e.$$p=null,r(n)?p(C("Lazy"),"new",[this,x],(function(e,i){var s;null==e&&(e=x),s=u(arguments,1);var a=g.$destructure(s),l=t["$==="](a);r(l)&&(l=o(n,a),e.$yield(o(n,a)))}),-2):p(C("Lazy"),"new",[this,x],(function(e,n){var i;null==e&&(e=x),i=u(arguments,1);var o=g.$destructure(i),s=t["$==="](o);r(s)&&e.$yield(o)}),-2)})),h(A,"$reject",(function e(){var t=e.$$p||x;return e.$$p=null,r(t)||d.$raise(k("ArgumentError"),"tried to call lazy reject without a block"),p(C("Lazy"),"new",[this,x],(function(e,n){var i,o;null==e&&(e=x),i=u(arguments,1);var a=s(t,o=i);r(a)||p(e,"yield",_(o))}),-2)})),h(A,"$take",(function(e){var t,n,o=x;return e=i(e,k("Integer"),"to_int"),r(v(e,0))&&d.$raise(k("ArgumentError"),"attempt to take negative size"),t=this.$enumerator_size(),n=b(k("Integer"),t)&&r(v(e,t))?e:t,o=0,p(C("Lazy"),"new",[this,n],(function(t,n){var i;return null==t&&(t=x),i=u(arguments,1),r(v(o,e))?(p(t,"yield",_(i)),o=y(o,1)):d.$raise(C("StopLazyError"))}),-2)})),h(A,"$take_while",(function e(){var t=e.$$p||x;return e.$$p=null,r(t)||d.$raise(k("ArgumentError"),"tried to call lazy take_while without a block"),p(C("Lazy"),"new",[this,x],(function(e,n){var i,o;null==e&&(e=x),i=u(arguments,1);var a=s(t,o=i);r(a)?p(e,"yield",_(o)):d.$raise(C("StopLazyError"))}),-2)})),h(A,"$inspect",(function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"})),w(A,"force","to_a"),w(A,"filter","find_all"),w(A,"flat_map","collect_concat"),w(A,"map","collect"),w(A,"select","find_all"),w(A,"to_enum","enum_for")}(t,t,n)},Opal.modules["corelib/enumerator/yielder"]=function(e){var t,n,r,i=e.klass,o=e.def,s=e.slice,a=e.send,l=e.to_a,u=[],c=e.nil;return e.add_stubs("yield,proc"),t=u,n=[i(u[0],null,"Enumerator")].concat(t)[0],(r=i(n,null,"Yielder")).$$prototype.block=c,o(r,"$initialize",(function e(){var t=e.$$p||c;return e.$$p=null,this.block=t,this})),o(r,"$yield",(function(t){var n;n=s(arguments);var r=e.yieldX(this.block,n);if(r&&"break"==r.$thrower_type)throw r;return r}),-1),o(r,"$<<",(function(e){return this.$yield(e),this})),o(r,"$to_proc",(function(){return a(this,"proc",[],(function e(t){var n,r=null==e.$$s?this:e.$$s;return n=s(arguments),a(r,"yield",l(n))}),{$$arity:-1,$$s:this})}))},Opal.modules["corelib/enumerator"]=function(e){var t=e.slice,n=e.coerce_to,r=e.deny_frozen_access,i=e.klass,o=e.defs,s=e.truthy,a=e.send,l=e.not,u=e.def,c=e.rb_plus,$=e.to_a,_=e.Opal,f=e.send2,d=e.find_super,p=e.rb_ge,h=e.Kernel,m=e.rb_le,g=e.alias,v=e.top,b=e.nil,y=e.$$$;return e.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),v.$require("corelib/enumerable"),function(v,w,x){var k=i("::",null,"Enumerator"),E=[k].concat([]),A=e.$r(E),S=k.$$prototype;return S.size=S.args=S.object=S.method=S.values=S.cursor=b,k.$include(y("Enumerable")),k.$$prototype.$$is_enumerator=!0,o(k,"$for",(function e(n,r,i){var o,s,a,l=e.$$p||b;e.$$p=null,(o=t(arguments,1)).length>0&&(s=o.shift()),null==s&&(s="each"),a=o;var u=this.$allocate();return u.object=n,u.size=l,u.method=s,u.args=a,u.cursor=0,u}),-2),u(k,"$initialize",(function e(i){var o=e.$$p||b,u=this;return e.$$p=null,t(arguments),r(u),u.cursor=0,s(o)?(u.object=a(A("Generator"),"new",[],o.$to_proc()),u.method="each",u.args=[],u.size=arguments[0]||b,s(u.size)&&l(u.size["$respond_to?"]("call"))?u.size=n(u.size,y("Integer"),"to_int"):b):(u.object=arguments[0],u.method=arguments[1]||"each",u.args=t(arguments,2),u.size=b)}),-1),u(k,"$each",(function e(n){var r,i=e.$$p||b,o=this;return e.$$p=null,r=t(arguments),s(i["$nil?"]())&&s(r["$empty?"]())?o:(r=c(o.args,r),s(i["$nil?"]())?a(o.$class(),"new",[o.object,o.method].concat($(r))):a(o.object,"__send__",[o.method].concat($(r)),i.$to_proc()))}),-1),u(k,"$size",(function(){var e=this;return s(e.size["$respond_to?"]("call"))?a(e.size,"call",$(e.args)):e.size})),u(k,"$with_index",(function e(t){var r=e.$$p||b,i=this;if(e.$$p=null,null==t&&(t=0),t=s(t)?n(t,y("Integer"),"to_int"):0,!s(r))return a(i,"enum_for",["with_index",t],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:i});var o=t;return i.$each.$$p=function(){var e=_.$destructure(arguments),t=r(e,o);return o++,t},i.$each()}),-1),u(k,"$each_with_index",(function e(){var t=e.$$p||b,n=this;return e.$$p=null,t===b?a(n,"enum_for",["each_with_index"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n}):(f(n,d(n,"each_with_index",e,!1,!0),"each_with_index",[],t),n.object)})),u(k,"$rewind",(function(){return this.cursor=0,this})),u(k,"$peek_values",(function(){var e,n=this;return n.values=s(e=n.values)?e:a(n,"map",[],(function(e){return t(arguments)}),-1),s(p(n.cursor,n.values.$length()))&&h.$raise(y("StopIteration"),"iteration reached an end"),n.values["$[]"](n.cursor)})),u(k,"$peek",(function(){var e=b;return e=this.$peek_values(),s(m(e.$length(),1))?e["$[]"](0):e})),u(k,"$next_values",(function(){var e,t=this;return e=t.$peek_values(),t.cursor=c(t.cursor,1),e})),u(k,"$next",(function(){var e=b;return e=this.$next_values(),s(m(e.$length(),1))?e["$[]"](0):e})),u(k,"$feed",(function(e){return this.$raise(A("NotImplementedError"),"Opal doesn't support Enumerator#feed")})),u(k,"$+",(function(e){return y(y("Enumerator"),"Chain").$new(this,e)})),u(k,"$inspect",(function(){var e=this,t=b;return t="#<"+e.$class()+": "+e.object.$inspect()+":"+e.method,s(e.args["$any?"]())&&(t=c(t,"("+e.args.$inspect()["$[]"](y("Range").$new(1,-2))+")")),c(t,">")})),g(k,"with_object","each_with_object"),k.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),k.$autoload("Chain","corelib/enumerator/chain"),k.$autoload("Generator","corelib/enumerator/generator"),k.$autoload("Lazy","corelib/enumerator/lazy"),k.$autoload("Yielder","corelib/enumerator/yielder")}()},Opal.modules["corelib/numeric"]=function(e){var t=e.klass,n=e.truthy,r=e.Kernel,i=e.def,o=e.to_ary,s=e.return_self,a=e.rb_minus,l=e.rb_times,u=e.rb_lt,c=e.eqeq,$=e.rb_divide,_=e.return_val,f=e.Opal,d=e.slice,p=e.extract_kwargs,h=e.ensure_kwargs,m=e.not,g=e.send,v=e.rb_ge,b=e.rb_le,y=e.rb_plus,w=e.rb_gt,x=e.alias,k=e.top,E=e.nil,A=e.$$$;return e.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),k.$require("corelib/comparable"),function(k,S){var C=t("::",null,"Numeric");return C.$include(A("Comparable")),i(C,"$coerce",(function(e){var t=this;return n(e["$instance_of?"](t.$class()))?[e,t]:[r.$Float(e),r.$Float(t)]})),i(C,"$__coerced__",(function(e,t){var i,s,a=E,l=E;if(n(t["$respond_to?"]("coerce")))return s=t.$coerce(this),a=null==(i=o(s))[0]?E:i[0],l=null==i[1]?E:i[1],a.$__send__(e,l);switch(e){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return r.$raise(A("TypeError"),t.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return r.$raise(A("ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed");default:return E}})),i(C,"$<=>",(function(e){return n(this["$equal?"](e))?0:E})),i(C,"$+@",s),i(C,"$-@",(function(){return a(0,this)})),i(C,"$%",(function(e){return a(this,l(e,this.$div(e)))})),i(C,"$abs",(function(){var e=this;return u(e,0)?e["$-@"]():e})),i(C,"$abs2",(function(){return l(this,this)})),i(C,"$angle",(function(){return u(this,0)?A(A("Math"),"PI"):0})),i(C,"$ceil",(function(e){return null==e&&(e=0),this.$to_f().$ceil(e)}),-1),i(C,"$conj",s),i(C,"$denominator",(function(){return this.$to_r().$denominator()})),i(C,"$div",(function(e){return c(e,0)&&r.$raise(A("ZeroDivisionError"),"divided by o"),$(this,e).$floor()})),i(C,"$divmod",(function(e){return[this.$div(e),this["$%"](e)]})),i(C,"$fdiv",(function(e){return $(this.$to_f(),e)})),i(C,"$floor",(function(e){return null==e&&(e=0),this.$to_f().$floor(e)}),-1),i(C,"$i",(function(){return r.$Complex(0,this)})),i(C,"$imag",_(0)),i(C,"$integer?",_(!1)),i(C,"$nonzero?",(function(){return n(this["$zero?"]())?E:this})),i(C,"$numerator",(function(){return this.$to_r().$numerator()})),i(C,"$polar",(function(){return[this.$abs(),this.$arg()]})),i(C,"$quo",(function(e){return $(f["$coerce_to!"](this,A("Rational"),"to_r"),e)})),i(C,"$real",s),i(C,"$real?",_(!0)),i(C,"$rect",(function(){return[this,0]})),i(C,"$round",(function(e){return this.$to_f().$round(e)}),-1),i(C,"$step",(function t(i,o,s){var a,l,u,c,$,_,w=t.$$p||E,x=this,k=E;function S(){c===E&&r.$raise(A("TypeError"),"step must be numeric"),null!=c&&c["$=="](0)&&r.$raise(A("ArgumentError"),"step can't be 0"),c!==E&&null!=c||(c=1);var e=c["$<=>"](0);e===E&&r.$raise(A("ArgumentError"),"0 can't be coerced into "+c.$class()),u!==E&&null!=u||(u=e>0?A(A("Float"),"INFINITY"):A(A("Float"),"INFINITY")["$-@"]()),f.$compare(x,u)}function C(){if(c>0&&x>u||c<0&&x<u)return 0;if(c===1/0||c===-1/0)return 1;var e=Math.abs,t=Math.floor,n=(e(x)+e(u)+e(u-x))/e(c)*A(A("Float"),"EPSILON");return n===1/0||n===-1/0?0:(n>.5&&(n=.5),t((u-x)/c+n)+1)}if(t.$$p=null,a=d(arguments),l=p(a),l=h(l),a.length>0&&(u=a.shift()),a.length>0&&(c=a.shift()),$=l.$$smap.to,_=l.$$smap.by,void 0!==u&&void 0!==$&&r.$raise(A("ArgumentError"),"to is given twice"),void 0!==c&&void 0!==_&&r.$raise(A("ArgumentError"),"step is given twice"),void 0!==$&&(u=$),void 0!==_&&(c=_),void 0===u&&(u=E),w===E)return(m(u)||n(u["$is_a?"](A("Numeric"))))&&(m(c)||n(c["$is_a?"](A("Numeric"))))?A(A("Enumerator"),"ArithmeticSequence").$new([u,c,n($)?"to: ":E,n(_)?"by: ":E],x):g(x,"enum_for",["step",u,c],function(){if(S(),0===c)return 1/0;if(c%1!=0)return C();if(c>0&&x>u||c<0&&x<u)return 0;var e=Math.ceil,t=Math.abs;return e((t(x-u)+1)/t(c))}.$to_proc());S();var O=c["$negative?"](),T=c["$=="](0)||u===1/0&&!O||u===-1/0&&O;if(x.$$is_number&&c.$$is_number&&u.$$is_number){if(x%1!=0||!T&&u%1!=0||c%1!=0){var I=x.$to_f().valueOf();c=c.$to_f().valueOf(),u=u.$to_f().valueOf();var R=C();if(isFinite(c))if(0===c)for(;;)w(I);else for(var N=0;N<R;N++){var L=N*c+x;(c>=0?u<L:u>L)&&(L=u),w(L)}else 0!==R&&w(I);return x}var z=x;if(T)for(;;z+=c)w(z);else if(O)for(;z>=u;z+=c)w(z);else for(;z<=u;z+=c)w(z);return x}for(k=x;n(O?v(k,u):b(k,u));)e.yield1(w,k),k=y(k,c)}),-1),i(C,"$to_c",(function(){return r.$Complex(this,0)})),i(C,"$to_int",(function(){return this.$to_i()})),i(C,"$truncate",(function(e){return null==e&&(e=0),this.$to_f().$truncate(e)}),-1),i(C,"$zero?",(function(){return this["$=="](0)})),i(C,"$positive?",(function(){return w(this,0)})),i(C,"$negative?",(function(){return u(this,0)})),i(C,"$dup",s),i(C,"$clone",(function(e){return(e=h(e)).$$smap.freeze,this}),-1),i(C,"$finite?",_(!0)),i(C,"$infinite?",_(E)),x(C,"arg","angle"),x(C,"conjugate","conj"),x(C,"imaginary","imag"),x(C,"magnitude","abs"),x(C,"modulo","%"),x(C,"phase","arg"),x(C,"rectangular","rect")}()},Opal.modules["corelib/array"]=function(e){var t=e.truthy,n=e.falsy,r=e.hash_ids,i=e.yield1,o=e.hash_get,s=e.hash_put,a=e.hash_delete,l=e.coerce_to,u=e.respond_to,c=e.deny_frozen_access,$=e.freeze,_=e.klass,f=e.slice,d=e.defs,p=e.Kernel,h=e.def,m=e.Opal,g=e.eqeqeq,v=e.hash2,b=e.send2,y=e.find_super,w=e.send,x=e.rb_gt,k=e.rb_times,E=e.eqeq,A=e.rb_minus,S=e.to_a,C=e.to_ary,O=e.gvars,T=e.rb_ge,I=e.assign_ivar,R=e.rb_lt,N=e.return_self,L=e.neqeq,z=e.alias,D=e.top,F=e.nil,M=e.$$$;return e.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,===,join,to_str,hash,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,&,!,intersection,to_s,new,item,max,min,>=,**,delete_if,reverse,rotate,rand,at,keep_if,shuffle!,<,sort,sort_by,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),D.$require("corelib/enumerable"),D.$require("corelib/numeric"),function(D,q,B){var j=_("::",Array,"Array"),P=[j].concat([]),U=e.$r(P);function H(e,t,n){for(var r,o=null,s=new Array(e.length),a=0,l=0,u=e.length;a<u;a++){if(!o)try{r=i(n,e[a])}catch(e){o=e}(o||t(r))&&(s[l]=e[a],l+=1)}if(l!==a&&(e.splice.apply(e,[0,s.length].concat(s)),e.splice(l,s.length)),o)throw o}function Y(t,n){var r,i,o,s=t.length;return r=n.excl,i=n.begin===F?0:l(n.begin,e.Integer,"to_int"),o=n.end===F?-1:l(n.end,e.Integer,"to_int"),i<0&&(i+=s)<0?F:(n.excl_rev&&n.begin!==F&&(i+=1),i>s?F:o<0&&(o+=s)<0?[]:(r&&n.end!==F||(o+=1),t.slice(i,o)))}function G(e,t){return e===t||0===t?1:t>0&&e>t?G(e-1,t-1)+G(e-1,t):0}j.$include(M("Enumerable")),e.prop(j.$$prototype,"$$is_array",!0),d(j,"$[]",(function(t){var n;return n=f(arguments),this.$$name===e.Array?n:this.$allocate().$replace(n.$to_a())}),-1),h(j,"$initialize",(function e(t,n){var r,i,o=e.$$p||F,s=this;if(e.$$p=null,null==t&&(t=F),null==n&&(n=F),c(s),n!==F&&o!==F&&p.$warn("warning: block supersedes default value argument"),t>M(M("Integer"),"MAX")&&p.$raise(M("ArgumentError"),"array size too big"),arguments.length>2&&p.$raise(M("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return s.splice(0,s.length),s;if(1===arguments.length){if(t.$$is_array)return s.$replace(t.$to_a()),s;if(t["$respond_to?"]("to_ary"))return s.$replace(t.$to_ary()),s}if((t=l(t,M("Integer"),"to_int"))<0&&p.$raise(M("ArgumentError"),"negative array size"),s.splice(0,s.length),o===F)for(r=0;r<t;r++)s.push(n);else for(r=0;r<t;r++)i=o(r),s[r]=i;return s}),-1),d(j,"$try_convert",(function(e){return m["$coerce_to?"](e,M("Array"),"to_ary")})),h(j,"$&",(function(e){e=g(M("Array"),e)?e.$to_a():l(e,M("Array"),"to_ary").$to_a();var t,n,r,i=[],o=v([],{});for(t=0,n=e.length;t<n;t++)s(o,e[t],!0);for(t=0,n=this.length;t<n;t++)r=this[t],void 0!==a(o,r)&&i.push(r);return i})),h(j,"$|",(function(e){e=g(M("Array"),e)?e.$to_a():l(e,M("Array"),"to_ary").$to_a();var t,n,r=v([],{});for(t=0,n=this.length;t<n;t++)s(r,this[t],!0);for(t=0,n=e.length;t<n;t++)s(r,e[t],!0);return r.$keys()})),h(j,"$*",(function(e){if(t(e["$respond_to?"]("to_str")))return this.$join(e.$to_str());e=l(e,M("Integer"),"to_int"),t(e<0)&&p.$raise(M("ArgumentError"),"negative argument");for(var n=[],r=this.$to_a(),i=0;i<e;i++)n=n.concat(r);return n})),h(j,"$+",(function(e){return e=g(M("Array"),e)?e.$to_a():l(e,M("Array"),"to_ary").$to_a(),this.concat(e)})),h(j,"$-",(function(e){var n=this;if(e=g(M("Array"),e)?e.$to_a():l(e,M("Array"),"to_ary").$to_a(),t(0===n.length))return[];if(t(0===e.length))return n.slice();var r,i,a,u=[],c=v([],{});for(r=0,i=e.length;r<i;r++)s(c,e[r],!0);for(r=0,i=n.length;r<i;r++)a=n[r],void 0===o(c,a)&&u.push(a);return u})),h(j,"$<<",(function(e){var t=this;return c(t),t.push(e),t})),h(j,"$<=>",(function(e){var n=this;if(g(M("Array"),e))e=e.$to_a();else{if(!t(e["$respond_to?"]("to_ary")))return F;e=e.$to_ary().$to_a()}if(n.$hash()===e.$hash())return 0;for(var r=Math.min(n.length,e.length),i=0;i<r;i++){var o=n[i]["$<=>"](e[i]);if(0!==o)return o}return n.length["$<=>"](e.length)})),h(j,"$==",(function(e){var t={};return function e(n,r){var i,o,s,a;if(n===r)return!0;if(!r.$$is_array)return!!u(r,"$to_ary")&&r["$=="](n);if(n.$$constructor!==Array&&(n=n.$to_a()),r.$$constructor!==Array&&(r=r.$to_a()),n.length!==r.length)return!1;for(t[n.$object_id()]=!0,i=0,o=n.length;i<o;i++)if(s=n[i],a=r[i],s.$$is_array){if(a.$$is_array&&a.length!==s.length)return!1;if(!t.hasOwnProperty(s.$object_id())&&!e(s,a))return!1}else if(!s["$=="](a))return!1;return!0}(this,e)})),h(j,"$[]",(function(t,n){var r=this;return t.$$is_range?Y(r,t):t.$$is_arithmetic_seq?function(e,t){var n,r=[],i=0;for(n=t.step<0?Y(e,{begin:t.range.end,end:t.range.begin,excl:!1,excl_rev:t.range.excl}).$reverse():Y(e,t.range);i<n.length;)r.push(n[i]),i+=Math.abs(t.step);return r}(r,t):function(t,n,r){var i=t.length;return(n=l(n,e.Integer,"to_int"))<0&&(n+=i)<0?F:void 0===r?n>=i||n<0?F:t[n]:(r=l(r,e.Integer,"to_int"))<0||n>i||n<0?F:t.slice(n,n+r)}(r,t,n)}),-2),h(j,"$[]=",(function(t,n,r){var i=this,o=F,s=F;c(i),o=F;var a,u,$=i.length;if(t.$$is_range){o=n.$$is_array?n.$to_a():n["$respond_to?"]("to_ary")?n.$to_ary().$to_a():[n];var _=t.excl,f=t.begin===F?0:l(t.begin,e.Integer,"to_int"),d=t.end===F?-1:l(t.end,e.Integer,"to_int");if(f<0&&(f+=$)<0&&p.$raise(M("RangeError"),t.$inspect()+" out of range"),d<0&&(d+=$),_&&t.end!==F||(d+=1),f>$)for(a=$;a<f;a++)i[a]=F;return d<0?i.splice.apply(i,[f,0].concat(o)):i.splice.apply(i,[f,d-f].concat(o)),n}if(void 0===r?s=1:(s=n,o=(n=r).$$is_array?n.$to_a():n["$respond_to?"]("to_ary")?n.$to_ary().$to_a():[n]),t=l(t,M("Integer"),"to_int"),s=l(s,M("Integer"),"to_int"),t<0&&(u=t,(t+=$)<0&&p.$raise(M("IndexError"),"index "+u+" too small for array; minimum "+-i.length)),s<0&&p.$raise(M("IndexError"),"negative length ("+s+")"),t>$)for(a=$;a<t;a++)i[a]=F;return void 0===r?i[t]=n:i.splice.apply(i,[t,s].concat(o)),n}),-3),h(j,"$any?",(function e(t){var n=e.$$p||F,r=this;return e.$$p=null,0!==r.length&&b(r,y(r,"any?",e,!1,!0),"any?",[t],n)}),-1),h(j,"$assoc",(function(e){for(var t,n=0,r=this.length;n<r;n++)if((t=this[n]).length&&t[0]["$=="](e))return t;return F})),h(j,"$at",(function(e){var t=this;return(e=l(e,M("Integer"),"to_int"))<0&&(e+=t.length),e<0||e>=t.length?F:t[e]})),h(j,"$bsearch_index",(function e(){var t=e.$$p||F,n=this;if(e.$$p=null,t===F)return n.$enum_for("bsearch_index");for(var r,o,s,a=0,l=n.length,u=!1,c=F;a<l;){if(o=n[r=a+Math.floor((l-a)/2)],!0===(s=i(t,o)))c=r,u=!0;else if(!1===s||s===F)u=!1;else if(s.$$is_number){if(0===s)return r;u=s<0}else p.$raise(M("TypeError"),"wrong argument type "+s.$class()+" (must be numeric, true, false or nil)");u?l=r:a=r+1}return c})),h(j,"$bsearch",(function e(){var t,n=e.$$p||F,r=this;return e.$$p=null,n===F?r.$enum_for("bsearch"):null!=(t=w(r,"bsearch_index",[],n.$to_proc()))&&t.$$is_number?r[t]:t})),h(j,"$cycle",(function e(n){var r,o,s=e.$$p||F,a=this;if(e.$$p=null,null==n&&(n=F),s===F)return w(a,"enum_for",["cycle",n],(function e(){var r=null==e.$$s?this:e.$$s;return t(n["$nil?"]())?M(M("Float"),"INFINITY"):(n=m["$coerce_to!"](n,M("Integer"),"to_int"),t(x(n,0))?k(r.$enumerator_size(),n):0)}),{$$s:a});if(t(a["$empty?"]())||E(n,0))return F;if(n===F)for(;;)for(r=0,o=a.length;r<o;r++)i(s,a[r]);else{if((n=m["$coerce_to!"](n,M("Integer"),"to_int"))<=0)return a;for(;n>0;){for(r=0,o=a.length;r<o;r++)i(s,a[r]);n--}}return a}),-1),h(j,"$clear",(function(){var e=this;return c(e),e.splice(0,e.length),e})),h(j,"$count",(function e(n){var r=e.$$p||F,i=this;return e.$$p=null,t(void 0!==n)||t(r)?b(i,y(i,"count",e,!1,!0),"count",[n],r):i.$size()}),-1),h(j,"$initialize_copy",(function(e){return this.$replace(e)})),h(j,"$collect",(function e(){var t=e.$$p||F,n=this;if(e.$$p=null,t===F)return w(n,"enum_for",["collect"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n});for(var r=[],o=0,s=n.length;o<s;o++){var a=i(t,n[o]);r.push(a)}return r})),h(j,"$collect!",(function e(){var t=e.$$p||F,n=this;if(e.$$p=null,t===F)return w(n,"enum_for",["collect!"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n});c(n);for(var r=0,o=n.length;r<o;r++){var s=i(t,n[r]);n[r]=s}return n})),h(j,"$combination",(function t(n){var r,i,o,s,a,l,u,c,$=t.$$p||F,_=this;if(t.$$p=null,r=m["$coerce_to!"](n,M("Integer"),"to_int"),$===F)return w(_,"enum_for",["combination",r],(function e(){return G((null==e.$$s?this:e.$$s).length,r)}),{$$s:_});if(0===r)e.yield1($,[]);else if(1===r)for(i=0,o=_.length;i<o;i++)e.yield1($,[_[i]]);else if(r===_.length)e.yield1($,_.slice());else if(r>=0&&r<_.length){for(s=[],i=0;i<=r+1;i++)s.push(0);for(a=[],l=0,u=!1,s[0]=-1;!u;){for(a[l]=_[s[l+1]];l<r-1;)c=s[1+ ++l]=s[l]+1,a[l]=_[c];e.yield1($,a.slice()),l++;do{u=0===l,s[l]++,l--}while(s[l+1]+r===_.length+l+1)}}return _})),h(j,"$repeated_combination",(function t(n){var r,i=t.$$p||F,o=this;return t.$$p=null,r=m["$coerce_to!"](n,M("Integer"),"to_int"),i===F?w(o,"enum_for",["repeated_combination",r],(function e(){return G((null==e.$$s?this:e.$$s).length+r-1,r)}),{$$s:o}):(r>=0&&function t(n,r,o,s){if(o.length!=n)for(var a=r;a<s.length;a++)o.push(s[a]),t(n,a,o,s),o.pop();else{var l=o.slice();e.yield1(i,l)}}(r,0,[],o),o)})),h(j,"$compact",(function(){for(var e,t=[],n=0,r=this.length;n<r;n++)(e=this[n])!==F&&t.push(e);return t})),h(j,"$compact!",(function(){var e=this;c(e);for(var t=e.length,n=0,r=e.length;n<r;n++)e[n]===F&&(e.splice(n,1),r--,n--);return e.length===t?F:e})),h(j,"$concat",(function(e){var n,r=this;return n=f(arguments),c(r),n=w(n,"map",[],(function e(n){var r=null==e.$$s?this:e.$$s;return null==n&&(n=F),n=g(M("Array"),n)?n.$to_a():l(n,M("Array"),"to_ary").$to_a(),t(n["$equal?"](r))&&(n=n.$dup()),n}),{$$s:r}),w(n,"each",[],(function e(t){var n=null==e.$$s?this:e.$$s;null==t&&(t=F);for(var r=0,i=t.length;r<i;r++)n.push(t[r])}),{$$s:r}),r}),-1),h(j,"$delete",(function t(n){var r=t.$$p||F,i=this;t.$$p=null;for(var o=i.length,s=0,a=o;s<a;s++)i[s]["$=="](n)&&(c(i),i.splice(s,1),a--,s--);return i.length===o?r!==F?e.yieldX(r,[]):F:n})),h(j,"$delete_at",(function(e){var t=this;if(c(t),(e=l(e,M("Integer"),"to_int"))<0&&(e+=t.length),e<0||e>=t.length)return F;var n=t[e];return t.splice(e,1),n})),h(j,"$delete_if",(function e(){var t=e.$$p||F,r=this;return e.$$p=null,t===F?w(r,"enum_for",["delete_if"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r}):(c(r),H(r,n,t),r)})),h(j,"$difference",(function(e){var t;return t=f(arguments),w(t,"reduce",[this.$to_a().$dup()],(function(e,t){return null==e&&(e=F),null==t&&(t=F),A(e,t)}))}),-1),h(j,"$dig",(function(e,n){var r,i=F;return r=f(arguments,1),(i=this["$[]"](e))===F||0===r.length?i:(t(i["$respond_to?"]("dig"))||p.$raise(M("TypeError"),i.$class()+" does not have #dig method"),w(i,"dig",S(r)))}),-2),h(j,"$drop",(function(e){return(e=l(e,M("Integer"),"to_int"))<0&&p.$raise(M("ArgumentError")),this.slice(e)})),h(j,"$dup",(function t(){var n=t.$$p||F,r=this;return t.$$p=null,r.$$class===e.Array&&r.$$class.$allocate.$$pristine&&r.$copy_instance_variables.$$pristine&&r.$initialize_dup.$$pristine?r.slice(0):b(r,y(r,"dup",t,!1,!0),"dup",[],n)})),h(j,"$each",(function e(){var t=e.$$p||F,n=this;if(e.$$p=null,t===F)return w(n,"enum_for",["each"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n});for(var r=0,o=n.length;r<o;r++)i(t,n[r]);return n})),h(j,"$each_index",(function e(){var t=e.$$p||F,n=this;if(e.$$p=null,t===F)return w(n,"enum_for",["each_index"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n});for(var r=0,o=n.length;r<o;r++)i(t,r);return n})),h(j,"$empty?",(function(){return 0===this.length})),h(j,"$eql?",(function(e){var t={};return function e(n,r){var i,o,s,a;if(!r.$$is_array)return!1;if(r=r.$to_a(),n.length!==r.length)return!1;for(t[n.$object_id()]=!0,i=0,o=n.length;i<o;i++)if(s=n[i],a=r[i],s.$$is_array){if(a.$$is_array&&a.length!==s.length)return!1;if(!t.hasOwnProperty(s.$object_id())&&!e(s,a))return!1}else if(!s["$eql?"](a))return!1;return!0}(this,e)})),h(j,"$fetch",(function e(t,n){var r=e.$$p||F,i=this;e.$$p=null;var o=t;return(t=l(t,M("Integer"),"to_int"))<0&&(t+=i.length),t>=0&&t<i.length?i[t]:(r!==F&&null!=n&&i.$warn("warning: block supersedes default value argument"),r!==F?r(o):null!=n?n:void(0===i.length?p.$raise(M("IndexError"),"index "+o+" outside of array bounds: 0...0"):p.$raise(M("IndexError"),"index "+o+" outside of array bounds: -"+i.length+"..."+i.length)))}),-2),h(j,"$fill",(function e(n){var r,i,o,s,a=e.$$p||F,u=this,$=F,_=F,d=F,h=F,m=F;if(e.$$p=null,r=f(arguments),c(u),t(a)?(t(r.length>2)&&p.$raise(M("ArgumentError"),"wrong number of arguments ("+r.$length()+" for 0..2)"),$=null==(i=C(r))[0]?F:i[0],_=null==i[1]?F:i[1]):(t(0==r.length)?p.$raise(M("ArgumentError"),"wrong number of arguments (0 for 1..3)"):t(r.length>3)&&p.$raise(M("ArgumentError"),"wrong number of arguments ("+r.$length()+" for 1..3)"),d=null==(i=C(r))[0]?F:i[0],$=null==i[1]?F:i[1],_=null==i[2]?F:i[2]),g(M("Range"),$)){if(t(_)&&p.$raise(M("TypeError"),"length invalid with range"),h=$.begin===F?0:l($.begin,M("Integer"),"to_int"),t(h<0)&&(h+=this.length),t(h<0)&&p.$raise(M("RangeError"),$.$inspect()+" out of range"),m=$.end===F?-1:l($.end,M("Integer"),"to_int"),t(m<0)&&(m+=this.length),t($["$exclude_end?"]())||(m+=1),t(m<=h))return u}else if(t($))if(h=l($,M("Integer"),"to_int"),t(h<0)&&(h+=this.length),t(h<0)&&(h=0),t(_)){if(m=l(_,M("Integer"),"to_int"),t(0==m))return u;m+=h}else m=this.length;else h=0,m=this.length;if(t(h>this.length))for(o=this.length;o<m;o++)u[o]=F;if(t(m>this.length)&&(this.length=m),t(a))for(this.length;h<m;h++)s=a(h),u[h]=s;else for(this.length;h<m;h++)u[h]=d;return u}),-1),h(j,"$first",(function(e){var t=this;return null==e?0===t.length?F:t[0]:((e=l(e,M("Integer"),"to_int"))<0&&p.$raise(M("ArgumentError"),"negative array size"),t.slice(0,e))}),-1),h(j,"$flatten",(function(e){var t=this;return void 0!==e&&(e=l(e,M("Integer"),"to_int")),function e(n,r){var i,o,s,a,l=[];for(i=0,o=(n=n.$to_a()).length;i<o;i++)if(s=n[i],u(s,"$to_ary",!0))if((a=s.$to_ary())!==F)switch(a.$$is_array||p.$raise(M("TypeError")),a===t&&p.$raise(M("ArgumentError")),r){case void 0:l=l.concat(e(a));break;case 0:l.push(a);break;default:l.push.apply(l,e(a,r-1))}else l.push(s);else l.push(s);return l}(t,e)}),-1),h(j,"$flatten!",(function(e){var t=this;c(t);var n=t.$flatten(e);if(t.length==n.length){for(var r=0,i=t.length;r<i&&t[r]===n[r];r++);if(r==i)return F}return t.$replace(n),t}),-1),h(j,"$freeze",(function(){var e=this;return t(e["$frozen?"]())?e:$(e)})),h(j,"$hash",(function(){var e,t,n,i=this,o=void 0===r,s=["A"],a=i.$object_id();try{if(o&&(r=Object.create(null)),r[a])return"self";for(n in r)if(e=r[n],i["$eql?"](e))return"self";for(r[a]=i,t=0;t<i.length;t++)e=i[t],s.push(e.$hash());return s.join(",")}finally{o&&(r=void 0)}})),h(j,"$include?",(function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]["$=="](e))return!0;return!1})),h(j,"$index",(function e(t){var n,r,i,o=e.$$p||F,s=this;if(e.$$p=null,null!=t&&o!==F&&s.$warn("warning: given block not used"),null!=t){for(n=0,r=s.length;n<r;n++)if(s[n]["$=="](t))return n}else{if(o===F)return s.$enum_for("index");for(n=0,r=s.length;n<r;n++)if(!1!==(i=o(s[n]))&&i!==F)return n}return F}),-1),h(j,"$insert",(function(e,t){var n,r=this;if(n=f(arguments,1),c(r),e=l(e,M("Integer"),"to_int"),n.length>0){if(e<0&&(e+=r.length+1)<0&&p.$raise(M("IndexError"),e+" is out of bounds"),e>r.length)for(var i=r.length;i<e;i++)r.push(F);r.splice.apply(r,[e,0].concat(n))}return r}),-2);var W=[];return h(j,"$inspect",(function(){var e=this,t=[],n=e.$__id__(),r=!0;return function(){try{if(-1!==W.indexOf(n))return r=!1,"[...]";W.push(n);for(var i=0,o=e.length;i<o;i++){var s=e["$[]"](i);t.push(U("Opal").$inspect(s))}return"["+t.join(", ")+"]"}finally{r&&W.pop()}}()})),h(j,"$intersection",(function(e){var t;return t=f(arguments),w(t,"reduce",[this.$to_a().$dup()],(function(e,t){return null==e&&(e=F),null==t&&(t=F),e["$&"](t)}))}),-1),h(j,"$intersect?",(function(e){return this.$intersection(e)["$empty?"]()["$!"]()})),h(j,"$join",(function(e){var n=this;if(null==O[","]&&(O[","]=F),null==e&&(e=F),t(0===n.length))return"";t(e===F)&&(e=O[","]);var r,i,o,s,a=[];for(r=0,i=n.length;r<i;r++)o=n[r],u(o,"$to_str")&&(s=o.$to_str())!==F?a.push(s.$to_s()):u(o,"$to_ary")&&((s=o.$to_ary())===n&&p.$raise(M("ArgumentError")),s!==F)?a.push(s.$join(e)):u(o,"$to_s")&&(s=o.$to_s())!==F?a.push(s):p.$raise(M("NoMethodError").$new(U("Opal").$inspect(n.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return e===F?a.join(""):a.join(m["$coerce_to!"](e,M("String"),"to_str").$to_s())}),-1),h(j,"$keep_if",(function e(){var n=e.$$p||F,r=this;return e.$$p=null,n===F?w(r,"enum_for",["keep_if"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r}):(c(r),H(r,t,n),r)})),h(j,"$last",(function(e){var t=this;return null==e?0===t.length?F:t[t.length-1]:((e=l(e,M("Integer"),"to_int"))<0&&p.$raise(M("ArgumentError"),"negative array size"),e>t.length&&(e=t.length),t.slice(t.length-e,t.length))}),-1),h(j,"$length",(function(){return this.length})),h(j,"$max",(function e(t){var n=e.$$p||F;return e.$$p=null,w(this.$each(),"max",[t],n.$to_proc())}),-1),h(j,"$min",(function e(){var t=e.$$p||F;return e.$$p=null,w(this.$each(),"min",[],t.$to_proc())})),h(j,"$permutation",(function t(n){var r,o,s,a=t.$$p||F,u=this,c=F,$=F;if(t.$$p=null,a===F)return w(u,"enum_for",["permutation",n],(function e(){var t=null==e.$$s?this:e.$$s;return function(e,t){for(var n=t>=0?1:0;t;)n*=e,e--,t--;return n}(t.length,void 0===n?t.length:n)}),{$$s:u});if((n=void 0===n?u.length:l(n,M("Integer"),"to_int"))<0||u.length<n);else if(0===n)e.yield1(a,[]);else if(1===n)for(var _=0;_<u.length;_++)e.yield1(a,[u[_]]);else c=U("Array").$new(n),$=U("Array").$new(u.length,!1),r=function(e,t,n,o,a){u=this;for(var l=0;l<u.length;l++)if(o["$[]"](l)["$!"]())if(t[n]=l,n<e-1)o[l]=!0,r.call(u,e,t,n+1,o,a),o[l]=!1;else{s=[];for(var c=0;c<t.length;c++)s.push(u[t[c]]);i(a,s)}},a!==F?(o=u.slice(),r.call(o,n,c,0,$,a)):r.call(u,n,c,0,$,a);return u}),-1),h(j,"$repeated_permutation",(function n(r){var i,o=n.$$p||F,s=this;return n.$$p=null,i=m["$coerce_to!"](r,M("Integer"),"to_int"),o===F?w(s,"enum_for",["repeated_permutation",i],(function e(){var n=null==e.$$s?this:e.$$s;return t(T(i,0))?n.$size()["$**"](i):0}),{$$s:s}):(function t(n,r,i){if(r.length!=n)for(var s=0;s<i.length;s++)r.push(i[s]),t(n,r,i),r.pop();else{var a=r.slice();e.yield1(o,a)}}(i,[],s.slice()),s)})),h(j,"$pop",(function(e){var n=this;return c(n),t(void 0===e)?t(0===n.length)?F:n.pop():(e=l(e,M("Integer"),"to_int"),t(e<0)&&p.$raise(M("ArgumentError"),"negative array size"),t(0===n.length)?[]:t(1===e)?[n.pop()]:t(e>n.length)?n.splice(0,n.length):n.splice(n.length-e,n.length))}),-1),h(j,"$product",(function t(n){var r,i,o=t.$$p||F,s=this;t.$$p=null,r=f(arguments);var a,u,c,$,_=o!==F?null:[],d=(i=r).length+1,h=new Array(d),m=new Array(d),g=new Array(d),v=1;for(g[0]=s,a=1;a<d;a++)g[a]=l(i[a-1],M("Array"),"to_ary");for(a=0;a<d;a++){if(0===($=g[a].length))return _||s;(v*=$)>2147483647&&p.$raise(M("RangeError"),"too big to product"),m[a]=$,h[a]=0}e:for(;;){for(c=[],a=0;a<d;a++)c.push(g[a][h[a]]);for(_?_.push(c):e.yield1(o,c),h[u=d-1]++;h[u]===m[u];){if(h[u]=0,--u<0)break e;h[u]++}}return _||s}),-1),h(j,"$push",(function(e){var t,n=this;t=f(arguments),c(n);for(var r=0,i=t.length;r<i;r++)n.push(t[r]);return n}),-1),h(j,"$rassoc",(function(e){for(var t,n=0,r=this.length;n<r;n++)if((t=this[n]).length&&void 0!==t[1]&&t[1]["$=="](e))return t;return F})),h(j,"$reject",(function e(){var t=e.$$p||F,n=this;if(e.$$p=null,t===F)return w(n,"enum_for",["reject"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n});for(var r,i=[],o=0,s=n.length;o<s;o++)!1!==(r=t(n[o]))&&r!==F||i.push(n[o]);return i})),h(j,"$reject!",(function e(){var t,n=e.$$p||F,r=this;return e.$$p=null,n===F?w(r,"enum_for",["reject!"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r}):(c(r),t=r.$length(),w(r,"delete_if",[],n.$to_proc()),E(r.$length(),t)?F:r)})),h(j,"$replace",(function(e){var t=this;return c(t),e=g(M("Array"),e)?e.$to_a():l(e,M("Array"),"to_ary").$to_a(),t.splice(0,t.length),t.push.apply(t,e),t})),h(j,"$reverse",(function(){return this.slice(0).reverse()})),h(j,"$reverse!",(function(){return c(this),this.reverse()})),h(j,"$reverse_each",(function e(){var t=e.$$p||F,n=this;return e.$$p=null,t===F?w(n,"enum_for",["reverse_each"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n}):(w(n.$reverse(),"each",[],t.$to_proc()),n)})),h(j,"$rindex",(function e(t){var n,r,i=e.$$p||F,o=this;if(e.$$p=null,null!=t&&i!==F&&o.$warn("warning: given block not used"),null!=t){for(n=o.length-1;n>=0&&!(n>=o.length);n--)if(o[n]["$=="](t))return n}else if(i!==F){for(n=o.length-1;n>=0&&!(n>=o.length);n--)if(!1!==(r=i(o[n]))&&r!==F)return n}else if(null==t)return o.$enum_for("rindex");return F}),-1),h(j,"$rotate",(function(e){var t,n,r,i,o=this;return null==e&&(e=1),e=l(e,M("Integer"),"to_int"),1===o.length?o.slice():0===o.length?[]:(n=e%(t=o.slice()).length,r=t.slice(n),i=t.slice(0,n),r.concat(i))}),-1),h(j,"$rotate!",(function(e){var t,n=this;return null==e&&(e=1),c(n),0===n.length||1===n.length?n:(e=l(e,M("Integer"),"to_int"),t=n.$rotate(e),n.$replace(t))}),-1),function(e,n){var r=_(e,null,"SampleRandom");r.$$prototype.rng=F,h(r,"$initialize",I("rng")),h(r,"$rand",(function(e){var n;return n=l(this.rng.$rand(e),M("Integer"),"to_int"),t(n<0)&&p.$raise(M("RangeError"),"random value must be >= 0"),t(n<e)||p.$raise(M("RangeError"),"random value must be less than Array size"),n}))}(j),h(j,"$sample",(function(e,n){var r,i,o,s,a,u,c,$,_=this,f=F,d=F;if(t(void 0===e))return _.$at(p.$rand(_.length));if(t(void 0===n)?t(f=m["$coerce_to?"](e,M("Hash"),"to_hash"))?(n=f,e=F):(n=F,e=l(e,M("Integer"),"to_int")):(e=l(e,M("Integer"),"to_int"),n=l(n,M("Hash"),"to_hash")),t(e)&&t(e<0)&&p.$raise(M("ArgumentError"),"count must be greater than 0"),t(n)&&(d=n["$[]"]("random")),d=t(d)&&t(d["$respond_to?"]("rand"))?U("SampleRandom").$new(d):p,!t(e))return _[d.$rand(_.length)];switch(e>_.length&&(e=_.length),e){case 0:return[];case 1:return[_[d.$rand(_.length)]];case 2:return(s=d.$rand(_.length))<=(a=d.$rand(_.length-1))&&a++,[_[s],_[a]];default:if(_.length/e>3){for(r=!1,i=0,s=1,(o=U("Array").$new(e))[0]=d.$rand(_.length);s<e;){for(u=d.$rand(_.length),a=0;a<s;){for(;u===o[a];){if(++i>100){r=!0;break}u=d.$rand(_.length)}if(r)break;a++}if(r)break;o[s]=u,s++}if(!r){for(s=0;s<e;)o[s]=_[o[s]],s++;return o}}o=_.slice();for(var h=0;h<e;h++)c=d.$rand(_.length-h)+h,$=o[h],o[h]=o[c],o[c]=$;return e===_.length?o:o["$[]"](0,e)}}),-1),h(j,"$select",(function e(){var n=e.$$p||F,r=this;if(e.$$p=null,n===F)return w(r,"enum_for",["select"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r});for(var o,s,a=[],l=0,u=r.length;l<u;l++)o=r[l],s=i(n,o),t(s)&&a.push(o);return a})),h(j,"$select!",(function e(){var t=e.$$p||F,n=this;if(e.$$p=null,t===F)return w(n,"enum_for",["select!"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n});c(n);var r=n.length;return w(n,"keep_if",[],t.$to_proc()),n.length===r?F:n})),h(j,"$shift",(function(e){var n=this;return c(n),t(void 0===e)?t(0===n.length)?F:function(e){for(var t=e[0],n=1,r=e.length;n<r;n++)e[n-1]=e[n];return e.pop(),t}(n):(e=l(e,M("Integer"),"to_int"),t(e<0)&&p.$raise(M("ArgumentError"),"negative array size"),t(0===n.length)?[]:n.splice(0,e))}),-1),h(j,"$shuffle",(function(e){return this.$dup().$to_a()["$shuffle!"](e)}),-1),h(j,"$shuffle!",(function(e){var t=this;c(t);var n,r,i,o=t.length;for(void 0!==e&&(e=m["$coerce_to?"](e,M("Hash"),"to_hash"))!==F&&(e=e["$[]"]("random"))!==F&&e["$respond_to?"]("rand")&&(n=e);o;)n?((r=n.$rand(o).$to_int())<0&&p.$raise(M("RangeError"),"random number too small "+r),r>=o&&p.$raise(M("RangeError"),"random number too big "+r)):r=t.$rand(o),i=t[--o],t[o]=t[r],t[r]=i;return t}),-1),h(j,"$slice!",(function(e,n){var r=this,i=F,o=F,s=F,a=F,u=F;if(c(r),i=F,t(void 0===n))if(g(M("Range"),e)){o=e,i=r["$[]"](o),s=o.begin===F?0:l(o.begin,M("Integer"),"to_int"),a=o.end===F?-1:l(o.end,M("Integer"),"to_int"),s<0&&(s+=r.length),a<0?a+=r.length:a>=r.length&&(a=r.length-1,o.excl&&(a+=1));var $=a-s;o.excl&&o.end!==F?a-=1:$+=1,s<r.length&&s>=0&&a<r.length&&a>=0&&$>0&&r.splice(s,$)}else{if((u=l(e,M("Integer"),"to_int"))<0&&(u+=r.length),u<0||u>=r.length)return F;i=r[u],0===u?r.shift():r.splice(u,1)}else{if(u=l(e,M("Integer"),"to_int"),(n=l(n,M("Integer"),"to_int"))<0)return F;i=r["$[]"](u,n),u<0&&(u+=r.length),u+n>r.length&&(n=r.length-u),u<r.length&&u>=0&&r.splice(u,n)}return i}),-2),h(j,"$sort",(function e(){var n=e.$$p||F,r=this;return e.$$p=null,t(r.length>1)?(n===F&&(n=function(e,t){return e["$<=>"](t)}),r.slice().sort((function(e,t){var r=n(e,t);return r===F&&p.$raise(M("ArgumentError"),"comparison of "+e.$inspect()+" with "+t.$inspect()+" failed"),x(r,0)?1:R(r,0)?-1:0}))):r})),h(j,"$sort!",(function e(){var t,n=e.$$p||F,r=this;e.$$p=null,c(r),t=n!==F?w(r.slice(),"sort",[],n.$to_proc()):r.slice().$sort(),r.length=0;for(var i=0,o=t.length;i<o;i++)r.push(t[i]);return r})),h(j,"$sort_by!",(function e(){var t=e.$$p||F,n=this;return e.$$p=null,t===F?w(n,"enum_for",["sort_by!"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n}):(c(n),n.$replace(w(n,"sort_by",[],t.$to_proc())))})),h(j,"$take",(function(e){return e<0&&p.$raise(M("ArgumentError")),this.slice(0,e)})),h(j,"$take_while",(function e(){var t=e.$$p||F;e.$$p=null;for(var n,r,i=[],o=0,s=this.length;o<s;o++){if(!1===(r=t(n=this[o]))||r===F)return i;i.push(n)}return i})),h(j,"$to_a",(function(){var t=this;return t.$$class===e.Array?t:e.Array.$new(t)})),h(j,"$to_ary",N),h(j,"$to_h",(function e(){var t=e.$$p||F,n=F;e.$$p=null,n=this,t!==F&&(n=w(n,"map",[],t.$to_proc()));var r,i,o,a,l=n.length,u=v([],{});for(r=0;r<l;r++)(i=m["$coerce_to?"](n[r],M("Array"),"to_ary")).$$is_array||p.$raise(M("TypeError"),"wrong element type "+i.$class()+" at "+r+" (expected array)"),2!==i.length&&p.$raise(M("ArgumentError"),"wrong array length at "+r+" (expected 2, was "+i.$length()+")"),o=i[0],a=i[1],s(u,o,a);return u})),h(j,"$transpose",(function(){var e=F,n=F;return t(this["$empty?"]())?[]:(e=[],n=F,w(this,"each",[],(function(r){var i=F;return null==r&&(r=F),r=g(M("Array"),r)?r.$to_a():l(r,M("Array"),"to_ary").$to_a(),n=t(i=n)?i:r.length,L(r.length,n)&&p.$raise(M("IndexError"),"element size differs ("+r.length+" should be "+n+")"),w(r.length,"times",[],(function(n){var o;return null==n&&(n=F),(t(i=e["$[]"](n))?i:(w(e,"[]=",o=[n,[]]),o[o.length-1]))["$<<"](r.$at(n))}))})),e)})),h(j,"$union",(function(e){var t;return t=f(arguments),w(t,"reduce",[this.$uniq()],(function(e,t){return null==e&&(e=F),null==t&&(t=F),e["$|"](t)}))}),-1),h(j,"$uniq",(function e(){var t=e.$$p||F,n=this;e.$$p=null;var r,a,l,u,c=v([],{});if(t===F)for(r=0,a=n.length;r<a;r++)l=n[r],void 0===o(c,l)&&s(c,l,l);else for(r=0,a=n.length;r<a;r++)l=n[r],u=i(t,l),void 0===o(c,u)&&s(c,u,l);return c.$values()})),h(j,"$uniq!",(function e(){var t=e.$$p||F,n=this;e.$$p=null,c(n);var r,a,l,u,$=n.length,_=v([],{});for(r=0,a=$;r<a;r++)l=n[r],u=t===F?l:i(t,l),void 0!==o(_,u)?(n.splice(r,1),a--,r--):s(_,u,l);return n.length===$?F:n})),h(j,"$unshift",(function(e){var t,n=this;t=f(arguments),c(n);var r=n.length,i=t.length;if(0==i)return n;for(var o=r-i,s=0;s<i;s++)n.push(n[o+s]);for(var a=r-1;a-i>=0;)n[a]=n[a-i],a--;for(var l=0;l<i;l++)n[l]=t[l];return n}),-1),h(j,"$values_at",(function(e){var n,r=F;return n=f(arguments),r=[],w(n,"each",[],(function e(n){var i=null==e.$$s?this:e.$$s,o=F,s=F,a=F;return null==n&&(n=F),t(n["$is_a?"](M("Range")))?(o=n.$end()===F?-1:l(n.$end(),M("Integer"),"to_int"),(s=n.$begin()===F?0:l(n.$begin(),M("Integer"),"to_int"))<0?(s+=i.length,F):(o<0&&(o+=i.length),n["$exclude_end?"]()&&n.$end()!==F&&o--,o<s?F:w(s,"upto",[o],(function e(t){var n=null==e.$$s?this:e.$$s;return null==t&&(t=F),r["$<<"](n.$at(t))}),{$$s:i}))):(a=l(n,M("Integer"),"to_int"),r["$<<"](i.$at(a)))}),{$$s:this}),r}),-1),h(j,"$zip",(function n(r){var i,o=n.$$p||F,s=F;n.$$p=null,i=f(arguments);var a,l,u,c,$,_=[],d=this.length;for(c=0,$=i.length;c<$;c++)(l=i[c]).$$is_array||(l.$$is_range||l.$$is_enumerator?i[c]=l.$take(d):i[c]=(t(s=m["$coerce_to?"](l,M("Array"),"to_ary"))?s:m["$coerce_to!"](l,M("Enumerator"),"to_enum","each")).$to_a());for(u=0;u<d;u++){for(a=[this[u]],c=0,$=i.length;c<$;c++)null==(l=i[c][u])&&(l=F),a[c+1]=l;_[u]=a}if(o!==F){for(u=0;u<d;u++)e.yield1(o,_[u]);return F}return _}),-1),d(j,"$inherited",(function(e){e.$$prototype.$to_a=function(){return this.slice(0,this.length)}})),h(j,"$instance_variables",(function e(){var n=e.$$p||F;return e.$$p=null,w(b(this,y(this,"instance_variables",e,!1,!0),"instance_variables",[],n),"reject",[],(function(e){var n;return null==e&&(e=F),t(n=/^@\d+$/.test(e))?n:e["$=="]("@length")}))})),h(j,"$pack",(function(e){return f(arguments),p.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")}),-1),z(j,"append","push"),z(j,"filter","select"),z(j,"filter!","select!"),z(j,"map","collect"),z(j,"map!","collect!"),z(j,"prepend","unshift"),z(j,"size","length"),z(j,"slice","[]"),z(j,"to_s","inspect"),m.$pristine(j.$singleton_class(),"allocate"),m.$pristine(j,"copy_instance_variables","initialize_dup")}()},Opal.modules["corelib/hash"]=function(e){var t=e.yield1,n=e.hash,r=e.hash_init,i=e.hash_get,o=e.hash_put,s=e.hash_delete,a=e.deny_frozen_access,l=e.freeze,u=e.klass,c=e.slice,$=e.Opal,_=e.Kernel,f=e.defs,d=e.def,p=e.send,h=e.rb_ge,m=e.rb_gt,g=e.hash2,v=e.truthy,b=e.to_a,y=e.return_self,w=e.alias,x=e.top,k=e.nil,E=e.$$$;return e.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,coerce_to!,each,fetch,>=,>,==,compare_by_identity,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,inspect,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,clone,select,select!,has_key?,indexes,index,length,[]=,has_value?"),x.$require("corelib/enumerable"),function(x,A,S){var C,O=u("::",null,"Hash"),T=[O].concat([]),I=e.$r(T);return O.$include(E("Enumerable")),O.$$prototype.$$is_hash=!0,f(O,"$[]",(function(e){var t,n,r,i=this,o=(t=c(arguments)).length;if(1===o){if((n=$["$coerce_to?"](t["$[]"](0),E("Hash"),"to_hash"))!==k)return i.$allocate()["$merge!"](n);for((t=$["$coerce_to?"](t["$[]"](0),E("Array"),"to_ary"))===k&&_.$raise(E("ArgumentError"),"odd number of arguments for Hash"),o=t.length,n=i.$allocate(),r=0;r<o;r++)if(t[r].$$is_array)switch(t[r].length){case 1:n.$store(t[r][0],k);break;case 2:n.$store(t[r][0],t[r][1]);break;default:_.$raise(E("ArgumentError"),"invalid number of elements ("+t[r].length+" for 1..2)")}return n}for(o%2!=0&&_.$raise(E("ArgumentError"),"odd number of arguments for Hash"),n=i.$allocate(),r=0;r<o;r+=2)n.$store(t[r],t[r+1]);return n}),-1),f(O,"$allocate",(function(){var e=new this.$$constructor;return r(e),e.$$none=k,e.$$proc=k,e})),f(O,"$try_convert",(function(e){return $["$coerce_to?"](e,E("Hash"),"to_hash")})),d(O,"$initialize",(function e(t){var n=e.$$p||k,r=this;return e.$$p=null,a(r),void 0!==t&&n!==k&&_.$raise(E("ArgumentError"),"wrong number of arguments (1 for 0)"),r.$$none=void 0===t?k:t,r.$$proc=n,r}),-1),d(O,"$==",(function(e){var t=this;if(t===e)return!0;if(!e.$$is_hash)return!1;if(t.$$keys.length!==e.$$keys.length)return!1;for(var n,r,o,s=0,a=t.$$keys,l=a.length;s<l;s++)if((n=a[s]).$$is_string?(r=t.$$smap[n],o=e.$$smap[n]):(r=n.value,o=i(e,n.key)),void 0===o||!r["$eql?"](o))return!1;return!0})),d(O,"$>=",(function(e){var t=k;return e=$["$coerce_to!"](e,E("Hash"),"to_hash"),!(this.$$keys.length<e.$$keys.length)&&(t=!0,p(e,"each",[],(function e(n,r){var i;null==n&&(n=k),null==r&&(r=k),null!=(i=(null==e.$$s?this:e.$$s).$fetch(n,null))&&i===r||(t=!1)}),{$$s:this}),t)})),d(O,"$>",(function(e){return e=$["$coerce_to!"](e,E("Hash"),"to_hash"),!(this.$$keys.length<=e.$$keys.length)&&h(this,e)})),d(O,"$<",(function(e){return e=$["$coerce_to!"](e,E("Hash"),"to_hash"),m(e,this)})),d(O,"$<=",(function(e){return e=$["$coerce_to!"](e,E("Hash"),"to_hash"),h(e,this)})),d(O,"$[]",(function(e){var t=i(this,e);return void 0!==t?t:this.$default(e)})),d(O,"$[]=",(function(e,t){return a(this),o(this,e,t),t})),d(O,"$assoc",(function(e){for(var t,n=0,r=this.$$keys,i=r.length;n<i;n++)if((t=r[n]).$$is_string){if(t["$=="](e))return[t,this.$$smap[t]]}else if(t.key["$=="](e))return[t.key,t.value];return k})),d(O,"$clear",(function(){var e=this;return a(e),r(e),e})),d(O,"$clone",(function(){var t=new this.$$class;return r(t),e.hash_clone(this,t),t})),d(O,"$compact",(function(){for(var e,t,r=n(),i=0,s=this.$$keys,a=s.length;i<a;i++)(e=s[i]).$$is_string?t=this.$$smap[e]:(t=e.value,e=e.key),t!==k&&o(r,e,t);return r})),d(O,"$compact!",(function(){var e=this;a(e);for(var t,n,r=!1,i=0,o=e.$$keys,l=o.length;i<l;i++)(t=o[i]).$$is_string?n=e.$$smap[t]:(n=t.value,t=t.key),n===k&&void 0!==s(e,t)&&(r=!0,l--,i--);return r?e:k})),d(O,"$compare_by_identity",(function(){var e=this;a(e);var t,n,r,s,l=e.$$keys;if(e.$$by_identity)return e;if(0===e.$$keys.length)return e.$$by_identity=!0,e;for(s=g([],{}).$compare_by_identity(),t=0,n=l.length;t<n;t++)(r=l[t]).$$is_string||(r=r.key),o(s,r,i(e,r));return e.$$by_identity=!0,e.$$map=s.$$map,e.$$smap=s.$$smap,e})),d(O,"$compare_by_identity?",(function(){return!0===this.$$by_identity})),d(O,"$default",(function(e){var t=this;return void 0!==e&&t.$$proc!==k&&void 0!==t.$$proc?t.$$proc.$call(t,e):void 0===t.$$none?k:t.$$none}),-1),d(O,"$default=",(function(e){var t=this;return a(t),t.$$proc=k,t.$$none=e,e})),d(O,"$default_proc",(function(){return void 0!==this.$$proc?this.$$proc:k})),d(O,"$default_proc=",(function(e){var t=this;a(t);var n=e;return n!==k&&(n=$["$coerce_to!"](n,E("Proc"),"to_proc"))["$lambda?"]()&&2!==n.$arity().$abs()&&_.$raise(E("TypeError"),"default_proc takes two arguments"),t.$$none=k,t.$$proc=n,e})),d(O,"$delete",(function t(n){var r=t.$$p||k;t.$$p=null,a(this);var i=s(this,n);return void 0!==i?i:r!==k?e.yield1(r,n):k})),d(O,"$delete_if",(function e(){var t=e.$$p||k,n=this;if(e.$$p=null,!v(t))return p(n,"enum_for",["delete_if"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n});a(n);for(var r,i,o,l=0,u=n.$$keys,c=u.length;l<c;l++)(r=u[l]).$$is_string?i=n.$$smap[r]:(i=r.value,r=r.key),!1!==(o=t(r,i))&&o!==k&&void 0!==s(n,r)&&(c--,l--);return n})),d(O,"$dig",(function(e,t){var n,r=k;return n=c(arguments,1),(r=this["$[]"](e))===k||0===n.length?r:(v(r["$respond_to?"]("dig"))||_.$raise(E("TypeError"),r.$class()+" does not have #dig method"),p(r,"dig",b(n)))}),-2),d(O,"$each",(function e(){var n=e.$$p||k,r=this;if(e.$$p=null,!v(n))return p(r,"enum_for",["each"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r});for(var i,o,s=0,a=r.$$keys.slice(),l=a.length;s<l;s++)(i=a[s]).$$is_string?o=r.$$smap[i]:(o=i.value,i=i.key),t(n,[i,o]);return r})),d(O,"$each_key",(function e(){var t=e.$$p||k,n=this;if(e.$$p=null,!v(t))return p(n,"enum_for",["each_key"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n});for(var r,i=0,o=n.$$keys.slice(),s=o.length;i<s;i++)t((r=o[i]).$$is_string?r:r.key);return n})),d(O,"$each_value",(function e(){var t=e.$$p||k,n=this;if(e.$$p=null,!v(t))return p(n,"enum_for",["each_value"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n});for(var r,i=0,o=n.$$keys.slice(),s=o.length;i<s;i++)t((r=o[i]).$$is_string?n.$$smap[r]:r.value);return n})),d(O,"$empty?",(function(){return 0===this.$$keys.length})),d(O,"$except",(function(e){var t;return t=c(arguments),p(this.$dup(),"except!",b(t))}),-1),d(O,"$except!",(function(e){var t;return t=c(arguments),p(t,"each",[],(function e(t){return null==t&&(t=k),(null==e.$$s?this:e.$$s).$delete(t)}),{$$s:this}),this}),-1),d(O,"$fetch",(function e(t,n){var r=e.$$p||k;e.$$p=null;var o=i(this,t);return void 0!==o?o:r!==k?r(t):void 0!==n?n:_.$raise(E("KeyError").$new("key not found: "+t.$inspect(),g(["key","receiver"],{key:t,receiver:this})))}),-2),d(O,"$fetch_values",(function e(t){var n,r=e.$$p||k;return e.$$p=null,n=c(arguments),p(n,"map",[],(function e(t){return null==t&&(t=k),p(null==e.$$s?this:e.$$s,"fetch",[t],r.$to_proc())}),{$$s:this})}),-1),d(O,"$flatten",(function(e){null==e&&(e=1),e=$["$coerce_to!"](e,E("Integer"),"to_int");for(var t,n,r=[],i=0,o=this.$$keys,s=o.length;i<s;i++)if((t=o[i]).$$is_string?n=this.$$smap[t]:(n=t.value,t=t.key),r.push(t),n.$$is_array){if(1===e){r.push(n);continue}r=r.concat(n.$flatten(e-2))}else r.push(n);return r}),-1),d(O,"$freeze",(function(){var e=this;return v(e["$frozen?"]())?e:l(e)})),d(O,"$has_key?",(function(e){return void 0!==i(this,e)})),d(O,"$has_value?",(function(e){for(var t,n=0,r=this.$$keys,i=r.length;n<i;n++)if(((t=r[n]).$$is_string?this.$$smap[t]:t.value)["$=="](e))return!0;return!1})),d(O,"$hash",(function(){var t,n,r=this,i=void 0===e.hash_ids,o=r.$object_id(),s=["Hash"];try{if(i&&(e.hash_ids=Object.create(null)),e[o])return"self";for(t in e.hash_ids)if(n=e.hash_ids[t],r["$eql?"](n))return"self";e.hash_ids[o]=r;for(var a=0,l=r.$$keys,u=l.length;a<u;a++)(t=l[a]).$$is_string?s.push([t,r.$$smap[t].$hash()]):s.push([t.key_hash,t.value.$hash()]);return s.sort().join()}finally{i&&(e.hash_ids=void 0)}})),d(O,"$index",(function(e){for(var t,n,r=0,i=this.$$keys,o=i.length;r<o;r++)if((t=i[r]).$$is_string?n=this.$$smap[t]:(n=t.value,t=t.key),n["$=="](e))return t;return k})),d(O,"$indexes",(function(e){for(var t,n,r,o=[],s=0,a=(t=c(arguments)).length;s<a;s++)n=t[s],void 0!==(r=i(this,n))?o.push(r):o.push(this.$default());return o}),-1),d(O,"$inspect",(function(){var e=this,t=void 0===C,n=e.$object_id(),r=[];return function(){try{if(t&&(C={}),C.hasOwnProperty(n))return"{...}";C[n]=!0;for(var i,o,s=0,a=e.$$keys,l=a.length;s<l;s++)(i=a[s]).$$is_string?o=e.$$smap[i]:(o=i.value,i=i.key),i=I("Opal").$inspect(i),o=I("Opal").$inspect(o),r.push(i+"=>"+o);return"{"+r.join(", ")+"}"}finally{t&&(C=void 0)}}()})),d(O,"$invert",(function(){for(var e,t,r=n(),i=0,s=this.$$keys,a=s.length;i<a;i++)(e=s[i]).$$is_string?t=this.$$smap[e]:(t=e.value,e=e.key),o(r,t,e);return r})),d(O,"$keep_if",(function e(){var t=e.$$p||k,n=this;if(e.$$p=null,!v(t))return p(n,"enum_for",["keep_if"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n});a(n);for(var r,i,o,l=0,u=n.$$keys,c=u.length;l<c;l++)(r=u[l]).$$is_string?i=n.$$smap[r]:(i=r.value,r=r.key),!1!==(o=t(r,i))&&o!==k||void 0!==s(n,r)&&(c--,l--);return n})),d(O,"$keys",(function(){for(var e,t=[],n=0,r=this.$$keys,i=r.length;n<i;n++)(e=r[n]).$$is_string?t.push(e):t.push(e.key);return t})),d(O,"$length",(function(){return this.$$keys.length})),d(O,"$merge",(function e(t){var n,r=e.$$p||k;return e.$$p=null,n=c(arguments),p(this.$dup(),"merge!",b(n),r.$to_proc())}),-1),d(O,"$merge!",(function e(t){var n,r,s,l,u,_,f,d,p,h=e.$$p||k,m=this;for(e.$$p=null,n=c(arguments),a(m),r=0;r<n.length;++r)if(_=(u=(l=$["$coerce_to!"](n[r],E("Hash"),"to_hash")).$$keys).length,h===k)for(s=0;s<_;s++)(f=u[s]).$$is_string?p=l.$$smap[f]:(p=f.value,f=f.key),o(m,f,p);else for(s=0;s<_;s++)(f=u[s]).$$is_string?p=l.$$smap[f]:(p=f.value,f=f.key),void 0!==(d=i(m,f))?o(m,f,h(f,d,p)):o(m,f,p);return m}),-1),d(O,"$rassoc",(function(e){for(var t,n,r=0,i=this.$$keys,o=i.length;r<o;r++)if((t=i[r]).$$is_string?n=this.$$smap[t]:(n=t.value,t=t.key),n["$=="](e))return[t,n];return k})),d(O,"$rehash",(function(){var t=this;return a(t),e.hash_rehash(t),t})),d(O,"$reject",(function e(){var t=e.$$p||k,r=this;if(e.$$p=null,!v(t))return p(r,"enum_for",["reject"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r});for(var i,s,a,l=n(),u=0,c=r.$$keys,$=c.length;u<$;u++)(i=c[u]).$$is_string?s=r.$$smap[i]:(s=i.value,i=i.key),!1!==(a=t(i,s))&&a!==k||o(l,i,s);return l})),d(O,"$reject!",(function e(){var t=e.$$p||k,n=this;if(e.$$p=null,!v(t))return p(n,"enum_for",["reject!"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n});a(n);for(var r,i,o,l=!1,u=0,c=n.$$keys,$=c.length;u<$;u++)(r=c[u]).$$is_string?i=n.$$smap[r]:(i=r.value,r=r.key),!1!==(o=t(r,i))&&o!==k&&void 0!==s(n,r)&&(l=!0,$--,u--);return l?n:k})),d(O,"$replace",(function(e){var t=this;a(t),e=$["$coerce_to!"](e,E("Hash"),"to_hash"),r(t);for(var n,i,s=0,l=e.$$keys,u=l.length;s<u;s++)(n=l[s]).$$is_string?i=e.$$smap[n]:(i=n.value,n=n.key),o(t,n,i);return v(e.$default_proc())?t["$default_proc="](e.$default_proc()):t["$default="](e.$default()),t})),d(O,"$select",(function e(){var t=e.$$p||k,r=this;if(e.$$p=null,!v(t))return p(r,"enum_for",["select"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r});for(var i,s,a,l=n(),u=0,c=r.$$keys,$=c.length;u<$;u++)(i=c[u]).$$is_string?s=r.$$smap[i]:(s=i.value,i=i.key),!1!==(a=t(i,s))&&a!==k&&o(l,i,s);return l})),d(O,"$select!",(function e(){var t=e.$$p||k,n=this;if(e.$$p=null,!v(t))return p(n,"enum_for",["select!"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:n});a(n);for(var r,i,o,l=k,u=0,c=n.$$keys,$=c.length;u<$;u++)(r=c[u]).$$is_string?i=n.$$smap[r]:(i=r.value,r=r.key),!1!==(o=t(r,i))&&o!==k||(void 0!==s(n,r)&&($--,u--),l=n);return l})),d(O,"$shift",(function(){var e=this;a(e);var t,n=e.$$keys;return n.length>0?[t=(t=n[0]).$$is_string?t:t.key,s(e,t)]:k})),d(O,"$slice",(function(e){var t;t=c(arguments);for(var r=n(),s=0,a=t.length;s<a;s++){var l=t[s],u=i(this,l);void 0!==u&&o(r,l,u)}return r}),-1),d(O,"$to_a",(function(){for(var e,t,n=[],r=0,i=this.$$keys,o=i.length;r<o;r++)(e=i[r]).$$is_string?t=this.$$smap[e]:(t=e.value,e=e.key),n.push([e,t]);return n})),d(O,"$to_h",(function t(){var n=t.$$p||k,i=this;if(t.$$p=null,n!==k)return p(i,"map",[],n.$to_proc()).$to_h();if(i.$$class===e.Hash)return i;var o=new e.Hash;return r(o),e.hash_clone(i,o),o})),d(O,"$to_hash",y),d(O,"$to_proc",(function(){return p(this,"proc",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==t&&_.$raise(E("ArgumentError"),"no key given"),n["$[]"](t)}),{$$arity:-1,$$s:this})})),d(O,"$transform_keys",(function e(){var r=e.$$p||k,i=this;if(e.$$p=null,!v(r))return p(i,"enum_for",["transform_keys"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:i});for(var s,a,l=n(),u=0,c=i.$$keys,$=c.length;u<$;u++)(s=c[u]).$$is_string?a=i.$$smap[s]:(a=s.value,s=s.key),s=t(r,s),o(l,s,a);return l})),d(O,"$transform_keys!",(function n(){var r=n.$$p||k,i=this;if(n.$$p=null,!v(r))return p(i,"enum_for",["transform_keys!"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:i});a(i);var l,u,c,$,_=e.slice(i.$$keys),f=_.length;for(l=0;l<f;l++)(u=_[l]).$$is_string?c=i.$$smap[u]:(c=u.value,u=u.key),$=t(r,u),s(i,u),o(i,$,c);return i})),d(O,"$transform_values",(function e(){var r=e.$$p||k,i=this;if(e.$$p=null,!v(r))return p(i,"enum_for",["transform_values"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:i});for(var s,a,l=n(),u=0,c=i.$$keys,$=c.length;u<$;u++)(s=c[u]).$$is_string?a=i.$$smap[s]:(a=s.value,s=s.key),a=t(r,a),o(l,s,a);return l})),d(O,"$transform_values!",(function e(){var n=e.$$p||k,r=this;if(e.$$p=null,!v(n))return p(r,"enum_for",["transform_values!"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r});a(r);for(var i,s,l=0,u=r.$$keys,c=u.length;l<c;l++)(i=u[l]).$$is_string?s=r.$$smap[i]:(s=i.value,i=i.key),s=t(n,s),o(r,i,s);return r})),d(O,"$values",(function(){for(var e,t=[],n=0,r=this.$$keys,i=r.length;n<i;n++)(e=r[n]).$$is_string?t.push(this.$$smap[e]):t.push(e.value);return t})),w(O,"dup","clone"),w(O,"each_pair","each"),w(O,"eql?","=="),w(O,"filter","select"),w(O,"filter!","select!"),w(O,"include?","has_key?"),w(O,"indices","indexes"),w(O,"key","index"),w(O,"key?","has_key?"),w(O,"member?","has_key?"),w(O,"size","length"),w(O,"store","[]="),w(O,"to_s","inspect"),w(O,"update","merge!"),w(O,"value?","has_value?"),w(O,"values_at","indexes")}()},Opal.modules["corelib/number"]=function(e){var t=e.klass,n=e.Opal,r=e.Kernel,i=e.def,o=e.eqeqeq,s=e.truthy,a=e.rb_gt,l=e.not,u=e.rb_lt,c=e.alias,$=e.send2,_=e.find_super,f=e.send,d=e.rb_plus,p=e.rb_minus,h=e.eqeq,m=e.return_self,g=e.rb_divide,v=e.to_ary,b=e.rb_times,y=e.rb_le,w=e.rb_ge,x=e.return_val,k=e.const_set,E=e.top,A=[],S=e.nil,C=e.$$$;return e.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,__id__,next,coerce_to?"),E.$require("corelib/numeric"),function(k,E,A){var O=t("::",E,"Number");function T(e){var t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),t}function I(e){return new DataView(e.buffer).getFloat64(0,!0)}function R(e){for(var t=T(e),n=0;n<t.length;n++){if(255!==t[n]){t[n]++;break}t[n]=0}return I(t)}function N(e){for(var t=T(e),n=0;n<t.length;n++){if(0!==t[n]){t[n]--;break}t[n]=255}return I(t)}[O].concat(A),n.$bridge(Number,O),e.prop(O.$$prototype,"$$is_number",!0),O.$$is_number_class=!0,function(t,n){i(t,"$allocate",(function(){return r.$raise(C("TypeError"),"allocator undefined for "+this.$name())})),e.udef(t,"$new")}(e.get_singleton_class(O)),i(O,"$coerce",(function(e){var t=this;if(e===S)r.$raise(C("TypeError"),"can't convert "+e.$class()+" into Float");else{if(e.$$is_string)return[r.$Float(e),t];if(e["$respond_to?"]("to_f"))return[n["$coerce_to!"](e,C("Float"),"to_f"),t];if(e.$$is_number)return[e,t];r.$raise(C("TypeError"),"can't convert "+e.$class()+" into Float")}})),i(O,"$__id__",(function(){return 2*this+1})),i(O,"$+",(function(e){return e.$$is_number?this+e:this.$__coerced__("+",e)})),i(O,"$-",(function(e){return e.$$is_number?this-e:this.$__coerced__("-",e)})),i(O,"$*",(function(e){return e.$$is_number?this*e:this.$__coerced__("*",e)})),i(O,"$/",(function(e){return e.$$is_number?this/e:this.$__coerced__("/",e)})),i(O,"$%",(function(e){var t=this;return e.$$is_number?e==-1/0?e:0!=e?e<0||t<0?(t%e+e)%e:t%e:void r.$raise(C("ZeroDivisionError"),"divided by 0"):t.$__coerced__("%",e)})),i(O,"$&",(function(e){return e.$$is_number?this&e:this.$__coerced__("&",e)})),i(O,"$|",(function(e){return e.$$is_number?this|e:this.$__coerced__("|",e)})),i(O,"$^",(function(e){return e.$$is_number?this^e:this.$__coerced__("^",e)})),i(O,"$<",(function(e){return e.$$is_number?this<e:this.$__coerced__("<",e)})),i(O,"$<=",(function(e){return e.$$is_number?this<=e:this.$__coerced__("<=",e)})),i(O,"$>",(function(e){return e.$$is_number?this>e:this.$__coerced__(">",e)})),i(O,"$>=",(function(e){return e.$$is_number?this>=e:this.$__coerced__(">=",e)})),i(O,"$<=>",(function(t){try{return function(e,t){return t.$$is_number?isNaN(e)||isNaN(t)?S:e>t?1:e<t?-1:0:e.$__coerced__("<=>",t)}(this,t)}catch(t){if(!e.rescue(t,[C("ArgumentError")]))throw t;try{return S}finally{e.pop_exception()}}})),i(O,"$<<",(function(e){return(e=n["$coerce_to!"](e,C("Integer"),"to_int"))>0?this<<e:this>>-e})),i(O,"$>>",(function(e){return(e=n["$coerce_to!"](e,C("Integer"),"to_int"))>0?this>>e:this<<-e})),i(O,"$[]",(function(e){return(e=n["$coerce_to!"](e,C("Integer"),"to_int"))<0?0:e>=32?this<0?1:0:this>>e&1})),i(O,"$+@",(function(){return+this})),i(O,"$-@",(function(){return-this})),i(O,"$~",(function(){return~this})),i(O,"$**",(function(e){var t=this;return o(C("Integer"),e)?l(C("Integer")["$==="](t))||s(a(e,0))?Math.pow(t,e):C("Rational").$new(t,1)["$**"](e):u(t,0)&&(o(C("Float"),e)||o(C("Rational"),e))?C("Complex").$new(t,0)["$**"](e.$to_f()):s(null!=e.$$is_number)?Math.pow(t,e):t.$__coerced__("**",e)})),i(O,"$==",(function(e){return e.$$is_number?this.valueOf()===e.valueOf():!!e["$respond_to?"]("==")&&e["$=="](this)})),c(O,"===","=="),i(O,"$abs",(function(){return Math.abs(this)})),i(O,"$abs2",(function(){return Math.abs(this*this)})),i(O,"$allbits?",(function(e){return(this&(e=n["$coerce_to!"](e,C("Integer"),"to_int")))==e})),i(O,"$anybits?",(function(e){return 0!=(this&n["$coerce_to!"](e,C("Integer"),"to_int"))})),i(O,"$angle",(function(){var e=this;return s(e["$nan?"]())?e:0==e?1/e>0?0:Math.PI:e<0?Math.PI:0})),i(O,"$bit_length",(function(){var e=this;if(o(C("Integer"),e)||r.$raise(C("NoMethodError").$new("undefined method `bit_length` for "+e+":Float","bit_length")),0===e||-1===e)return 0;for(var t=0,n=e<0?~e:e;0!=n;)t+=1,n>>>=1;return t})),i(O,"$ceil",(function(e){null==e&&(e=0);var t=this.$to_f();if(t%1==0&&e>=0)return t;var n=Math.pow(10,e),r=Math.ceil(t*n)/n;return t%1==0&&(r=Math.round(r)),r}),-1),i(O,"$chr",(function(t){return e.enc(String.fromCharCode(this),t||"BINARY")}),-1),i(O,"$denominator",(function e(){var t=e.$$p||S,n=this;return e.$$p=null,s(n["$nan?"]())||s(n["$infinite?"]())?1:$(n,_(n,"denominator",e,!1,!0),"denominator",[],t)})),i(O,"$downto",(function e(t){var n=e.$$p||S,i=this;if(e.$$p=null,n===S)return f(i,"enum_for",["downto",t],(function e(){var n=null==e.$$s?this:e.$$s;return o(C("Numeric"),t)||r.$raise(C("ArgumentError"),"comparison of "+n.$class()+" with "+t.$class()+" failed"),s(a(t,n))?0:d(p(n,t),1)}),{$$s:i});t.$$is_number||r.$raise(C("ArgumentError"),"comparison of "+i.$class()+" with "+t.$class()+" failed");for(var l=i;l>=t;l--)n(l);return i})),i(O,"$equal?",(function(e){var t;return s(t=this["$=="](e))?t:isNaN(this)&&isNaN(e)})),i(O,"$even?",(function(){return this%2==0})),i(O,"$floor",(function(e){null==e&&(e=0);var t=this.$to_f();if(t%1==0&&e>=0)return t;var n=Math.pow(10,e),r=Math.floor(t*n)/n;return t%1==0&&(r=Math.round(r)),r}),-1),i(O,"$gcd",(function(e){o(C("Integer"),e)||r.$raise(C("TypeError"),"not an integer");for(var t=Math.abs(this),n=Math.abs(e);t>0;){var i=t;t=n%t,n=i}return n})),i(O,"$gcdlcm",(function(e){return[this.$gcd(e),this.$lcm(e)]})),i(O,"$integer?",(function(){return this%1==0})),i(O,"$is_a?",(function e(t){var n=e.$$p||S,r=this;return e.$$p=null,!(!h(t,C("Integer"))||!o(C("Integer"),r))||!(!h(t,C("Integer"))||!o(C("Integer"),r))||!(!h(t,C("Float"))||!o(C("Float"),r))||$(r,_(r,"is_a?",e,!1,!0),"is_a?",[t],n)})),i(O,"$instance_of?",(function e(t){var n=e.$$p||S,r=this;return e.$$p=null,!(!h(t,C("Integer"))||!o(C("Integer"),r))||!(!h(t,C("Integer"))||!o(C("Integer"),r))||!(!h(t,C("Float"))||!o(C("Float"),r))||$(r,_(r,"instance_of?",e,!1,!0),"instance_of?",[t],n)})),i(O,"$lcm",(function(e){var t=this;return o(C("Integer"),e)||r.$raise(C("TypeError"),"not an integer"),0==t||0==e?0:Math.abs(t*e/t.$gcd(e))})),i(O,"$next",(function(){return this+1})),i(O,"$nobits?",(function(e){return 0==(this&n["$coerce_to!"](e,C("Integer"),"to_int"))})),i(O,"$nonzero?",(function(){return 0==this?S:this})),i(O,"$numerator",(function e(){var t=e.$$p||S,n=this;return e.$$p=null,s(n["$nan?"]())||s(n["$infinite?"]())?n:$(n,_(n,"numerator",e,!1,!0),"numerator",[],t)})),i(O,"$odd?",(function(){return this%2!=0})),i(O,"$ord",m),i(O,"$pow",(function(e,t){var n=this;return 0==n&&r.$raise(C("ZeroDivisionError"),"divided by 0"),void 0===t?n["$**"](e):(C("Integer")["$==="](e)||r.$raise(C("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),e<0&&r.$raise(C("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),C("Integer")["$==="](t)||r.$raise(C("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),0===t&&r.$raise(C("ZeroDivisionError"),"divided by 0"),n["$**"](e)["$%"](t))}),-2),i(O,"$pred",(function(){return this-1})),i(O,"$quo",(function e(t){var n=e.$$p||S,r=this;return e.$$p=null,o(C("Integer"),r)?$(r,_(r,"quo",e,!1,!0),"quo",[t],n):g(r,t)})),i(O,"$rationalize",(function(e){var t,n,i=this,a=S,l=S;return arguments.length>1&&r.$raise(C("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),o(C("Integer"),i)?C("Rational").$new(i,1):s(i["$infinite?"]())?r.$raise(C("FloatDomainError"),"Infinity"):s(i["$nan?"]())?r.$raise(C("FloatDomainError"),"NaN"):s(null==e)?(n=C("Math").$frexp(i),a=null==(t=v(n))[0]?S:t[0],l=null==t[1]?S:t[1],a=C("Math").$ldexp(a,C(C("Float"),"MANT_DIG")).$to_i(),l=p(l,C(C("Float"),"MANT_DIG")),C("Rational").$new(b(2,a),1["$<<"](p(1,l))).$rationalize(C("Rational").$new(1,1["$<<"](p(1,l))))):i.$to_r().$rationalize(e)}),-1),i(O,"$remainder",(function(e){return p(this,b(e,g(this,e).$truncate()))})),i(O,"$round",(function(e){var t,i,l,c=this;if(o(C("Integer"),c)){if(s(null==e))return c;if(o(C("Float"),e)&&s(e["$infinite?"]())&&r.$raise(C("RangeError"),"Infinity"),e=n["$coerce_to!"](e,C("Integer"),"to_int"),s(u(e,C(C("Integer"),"MIN")))&&r.$raise(C("RangeError"),"out of bounds"),s(e>=0))return c;if(.415241*(e=e["$-@"]())-.125>c.$size())return 0;var $=Math.pow(10,e),_=Math.floor((Math.abs(c)+$/2)/$)*$;return c<0?-_:_}if(s(c["$nan?"]())&&s(null==e)&&r.$raise(C("FloatDomainError"),"NaN"),e=n["$coerce_to!"](e||0,C("Integer"),"to_int"),s(y(e,0)))s(c["$nan?"]())?r.$raise(C("RangeError"),"NaN"):s(c["$infinite?"]())&&r.$raise(C("FloatDomainError"),"Infinity");else{if(h(e,0))return Math.round(c);if(s(c["$nan?"]())||s(c["$infinite?"]()))return c}return i=C("Math").$frexp(c),null==(t=v(i))[0]||t[0],l=null==t[1]?S:t[1],s(w(e,p(d(C(C("Float"),"DIG"),2),s(a(l,0))?g(l,4):p(g(l,3),1))))?c:s(u(e,(s(a(l,0))?d(g(l,3),1):g(l,4))["$-@"]()))?0:Math.round(c*Math.pow(10,e))/Math.pow(10,e)}),-1),i(O,"$times",(function e(){var t=e.$$p||S,n=this;if(e.$$p=null,!s(t))return f(n,"enum_for",["times"],(function e(){return null==e.$$s?this:e.$$s}),{$$s:n});for(var r=0;r<n;r++)t(r);return n})),i(O,"$to_f",m),i(O,"$to_i",(function(){var e=this;return e<0?Math.ceil(e):Math.floor(e)})),i(O,"$to_r",(function(){var e,t,n=this,r=S,i=S;return o(C("Integer"),n)?C("Rational").$new(n,1):(t=C("Math").$frexp(n),r=null==(e=v(t))[0]?S:e[0],i=null==e[1]?S:e[1],r=C("Math").$ldexp(r,C(C("Float"),"MANT_DIG")).$to_i(),i=p(i,C(C("Float"),"MANT_DIG")),b(r,C(C("Float"),"RADIX")["$**"](i)).$to_r())})),i(O,"$to_s",(function(e){var t=this;return null==e&&(e=10),e=n["$coerce_to!"](e,C("Integer"),"to_int"),(s(u(e,2))||s(a(e,36)))&&r.$raise(C("ArgumentError"),"invalid radix "+e),h(t,0)&&s(1/t==-1/0)?"-0.0":t.toString(e)}),-1),i(O,"$truncate",(function(e){null==e&&(e=0);var t=this.$to_f();if(t%1==0&&e>=0)return t;var n=Math.pow(10,e),r=parseInt(t*n,10)/n;return t%1==0&&(r=Math.round(r)),r}),-1),i(O,"$digits",(function(e){var t=this;null==e&&(e=10),u(t,0)&&r.$raise(C(C("Math"),"DomainError"),"out of domain"),e=n["$coerce_to!"](e,C("Integer"),"to_int"),s(u(e,2))&&r.$raise(C("ArgumentError"),"invalid radix "+e),t!=parseInt(t)&&r.$raise(C("NoMethodError"),"undefined method `digits' for "+t.$inspect());var i=t,o=[];if(0==t)return[0];for(;0!=i;)o.push(i%e),i=parseInt(i/e,10);return o}),-1),i(O,"$divmod",(function e(t){var n=e.$$p||S,i=this;return e.$$p=null,s(i["$nan?"]())||s(t["$nan?"]())?r.$raise(C("FloatDomainError"),"NaN"):s(i["$infinite?"]())?r.$raise(C("FloatDomainError"),"Infinity"):$(i,_(i,"divmod",e,!1,!0),"divmod",[t],n)})),i(O,"$upto",(function e(t){var n=e.$$p||S,i=this;if(e.$$p=null,n===S)return f(i,"enum_for",["upto",t],(function e(){var n=null==e.$$s?this:e.$$s;return o(C("Numeric"),t)||r.$raise(C("ArgumentError"),"comparison of "+n.$class()+" with "+t.$class()+" failed"),s(u(t,n))?0:d(p(t,n),1)}),{$$s:i});t.$$is_number||r.$raise(C("ArgumentError"),"comparison of "+i.$class()+" with "+t.$class()+" failed");for(var a=i;a<=t;a++)n(a);return i})),i(O,"$zero?",(function(){return 0==this})),i(O,"$size",x(4)),i(O,"$nan?",(function(){return isNaN(this)})),i(O,"$finite?",(function(){var e=this;return e!=1/0&&e!=-1/0&&!isNaN(e)})),i(O,"$infinite?",(function(){return this==1/0?1:this==-1/0?-1:S})),i(O,"$positive?",(function(){var e=this;return 0!=e&&(e==1/0||1/e>0)})),i(O,"$negative?",(function(){return this==-1/0||1/this<0})),i(O,"$next_float",(function(){var e=this;return h(e,C(C("Float"),"INFINITY"))?C(C("Float"),"INFINITY"):s(e["$nan?"]())?C(C("Float"),"NAN"):w(e,0)?R(Math.abs(e)):N(e)})),i(O,"$prev_float",(function(){var e=this;return h(e,C(C("Float"),"INFINITY")["$-@"]())?C(C("Float"),"INFINITY")["$-@"]():s(e["$nan?"]())?C(C("Float"),"NAN"):a(e,0)?N(e):-R(Math.abs(e))})),c(O,"arg","angle"),c(O,"eql?","=="),c(O,"fdiv","/"),c(O,"inspect","to_s"),c(O,"kind_of?","is_a?"),c(O,"magnitude","abs"),c(O,"modulo","%"),c(O,"object_id","__id__"),c(O,"phase","angle"),c(O,"succ","next"),c(O,"to_int","to_i")}(0,C("Numeric"),A),k("::","Fixnum",C("Number")),function(o,s,a){var l=t("::",s,"Integer"),u=[l].concat(a);l.$$is_number_class=!0,l.$$is_integer_class=!0,function(t,o){var s=[t].concat(o),a=e.$r(s);i(t,"$allocate",(function(){return r.$raise(C("TypeError"),"allocator undefined for "+this.$name())})),e.udef(t,"$new"),i(t,"$sqrt",(function(e){return(e=n["$coerce_to!"](e,C("Integer"),"to_int"))<0&&r.$raise(C(C("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(e),10)})),i(t,"$try_convert",(function(e){return a("Opal")["$coerce_to?"](e,this,"to_int")}))}(e.get_singleton_class(l),u),k(l,"MAX",Math.pow(2,30)-1),k(l,"MIN",-Math.pow(2,30))}(0,C("Numeric"),A),function(n,o,s){var a=t("::",o,"Float");return[a].concat(s),a.$$is_number_class=!0,function(t,n){i(t,"$allocate",(function(){return r.$raise(C("TypeError"),"allocator undefined for "+this.$name())})),e.udef(t,"$new"),i(t,"$===",(function(e){return!!e.$$is_number}))}(e.get_singleton_class(a)),k(a,"INFINITY",1/0),k(a,"MAX",Number.MAX_VALUE),k(a,"MIN",Number.MIN_VALUE),k(a,"NAN",NaN),k(a,"DIG",15),k(a,"MANT_DIG",53),k(a,"RADIX",2),k(a,"EPSILON",Number.EPSILON||2220446049250313e-31)}(0,C("Numeric"),A)},Opal.modules["corelib/range"]=function(e){var t=e.klass,n=e.truthy,r=e.Kernel,i=e.def,o=e.not,s=e.send2,a=e.find_super,l=e.rb_lt,u=e.rb_le,c=e.send,$=e.eqeq,_=e.eqeqeq,f=e.return_ivar,d=e.rb_gt,p=e.rb_minus,h=e.Opal,m=e.rb_divide,g=e.rb_plus,v=e.rb_times,b=e.rb_ge,y=e.thrower,w=e.alias,x=e.top,k=e.nil,E=e.$$$;return e.add_stubs("require,include,attr_reader,raise,nil?,<=>,include?,!,<,<=,enum_for,size,upto,to_proc,respond_to?,class,succ,==,===,exclude_end?,eql?,begin,end,last,to_a,>,-@,-,to_i,coerce_to!,ceil,/,is_a?,new,loop,+,*,>=,each_with_index,%,step,bsearch,inspect,[],hash,cover?"),x.$require("corelib/enumerable"),function(x,A,S){var C=t("::",null,"Range"),O=[C].concat([]),T=e.$r(O),I=C.$$prototype;function R(e){return e.begin===k||e.end===k||e.begin===-1/0||e.end===1/0||e.begin===1/0||e.end===-1/0}return I.begin=I.end=I.excl=k,C.$include(E("Enumerable")),C.$$prototype.$$is_range=!0,C.$attr_reader("begin","end"),i(C,"$initialize",(function(e,t,i){var o=this;return null==i&&(i=!1),n(o.begin)&&r.$raise(E("NameError"),"'initialize' called twice"),n(e["$<=>"](t))||n(e["$nil?"]())||n(t["$nil?"]())||r.$raise(E("ArgumentError"),"bad value for range"),o.begin=e,o.end=t,o.excl=i}),-3),i(C,"$===",(function(e){return this["$include?"](e)})),i(C,"$count",(function e(){var t=e.$$p||k,r=this;return e.$$p=null,o(t!==k)&&n(R(r))?E(E("Float"),"INFINITY"):s(r,a(r,"count",e,!1,!0),"count",[],t)})),i(C,"$to_a",(function e(){var t=e.$$p||k,i=this;return e.$$p=null,n(R(i))&&r.$raise(E("TypeError"),"cannot convert endless range to an array"),s(i,a(i,"to_a",e,!1,!0),"to_a",[],t)})),i(C,"$cover?",(function(e){var t,r,i=this,o=k,s=k,a=k;return t=n(o=n(s=n(a=i.begin["$nil?"]())?-1:a)?s:i.begin["$<=>"](e))&&o,r=n(o=n(s=n(a=i.end["$nil?"]())?-1:a)?s:e["$<=>"](i.end))&&o,n(o=n(s=n(i.excl)?n(a=r)?l(r,0):a:n(a=r)?u(r,0):a)?t:s)?u(t,0):o})),i(C,"$each",(function t(){var i,s,a,u=t.$$p||k,_=this,f=k,d=k;if(t.$$p=null,u===k)return c(_,"enum_for",["each"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:_});if(_.begin.$$is_number&&_.end.$$is_number){for(_.begin%1==0&&_.end%1==0||r.$raise(E("TypeError"),"can't iterate from Float"),s=_.begin,a=_.end+(n(_.excl)?0:1);s<a;s++)u(s);return _}if(_.begin.$$is_string&&_.end.$$is_string)return c(_.begin,"upto",[_.end,_.excl],u.$to_proc()),_;for(f=_.begin,i=_.end,n(f["$respond_to?"]("succ"))||r.$raise(E("TypeError"),"can't iterate from "+f.$class());n(n(d=_.end["$nil?"]())?d:l(f["$<=>"](i),0));)e.yield1(u,f),f=f.$succ();return o(_.excl)&&$(f,i)&&e.yield1(u,f),_})),i(C,"$eql?",(function(e){var t,r,i=this;return!!_(E("Range"),e)&&(n(t=n(r=i.excl["$==="](e["$exclude_end?"]()))?i.begin["$eql?"](e.$begin()):r)?i.end["$eql?"](e.$end()):t)})),i(C,"$exclude_end?",f("excl")),i(C,"$first",(function e(t){var i=e.$$p||k,o=this;return e.$$p=null,n(o.begin["$nil?"]())&&r.$raise(E("RangeError"),"cannot get the minimum of beginless range"),n(null==t)?o.begin:s(o,a(o,"first",e,!1,!0),"first",[t],i)}),-1),i(C,"$last",(function(e){var t=this;return n(t.end["$nil?"]())&&r.$raise(E("RangeError"),"cannot get the maximum of endless range"),n(null==e)?t.end:t.$to_a().$last(e)}),-1),i(C,"$max",(function e(){var t=e.$$p||k,i=this;return e.$$p=null,n(i.end["$nil?"]())?r.$raise(E("RangeError"),"cannot get the maximum of endless range"):t!==k?s(i,a(i,"max",e,!1,!0),"max",[],t):o(i.begin["$nil?"]())&&(n(d(i.begin,i.end))||n(i.excl)&&$(i.begin,i.end))?k:i.excl?i.end-1:i.end})),i(C,"$min",(function e(){var t=e.$$p||k,i=this;return e.$$p=null,n(i.begin["$nil?"]())?r.$raise(E("RangeError"),"cannot get the minimum of beginless range"):t!==k?s(i,a(i,"min",e,!1,!0),"min",[],t):o(i.end["$nil?"]())&&(n(d(i.begin,i.end))||n(i.excl)&&$(i.begin,i.end))?k:i.begin})),i(C,"$size",(function(){var e,t=this,r=k,i=k;return r=E(E("Float"),"INFINITY"),$(t.begin,r)&&o(t.end["$nil?"]())||$(t.end,r["$-@"]())&&o(t.begin["$nil?"]())?0:n(R(t))?r:_(E("Numeric"),t.begin)&&_(E("Numeric"),t.end)?(e=t.begin,i=t.end,n(t.excl)&&(i=p(i,1)),n(l(i,e))?0:(Math.abs(i-e)+1).$to_i()):k})),i(C,"$step",(function t(i){var s=t.$$p||k,a=this,l=k,u=k;function _(){null==i?i=1:i.$$is_number||(i=h["$coerce_to!"](i,E("Integer"),"to_int")),i<0?r.$raise(E("ArgumentError"),"step can't be negative"):0===i&&r.$raise(E("ArgumentError"),"step can't be 0")}return t.$$p=null,s===k?(n(a.begin["$is_a?"](T("Numeric")))||n(a.begin["$nil?"]()))&&(n(a.end["$is_a?"](T("Numeric")))||n(a.end["$nil?"]()))&&o(n(l=a.begin["$nil?"]())?a.end["$nil?"]():l)?E(E("Enumerator"),"ArithmeticSequence").$new(a,i,"step"):c(a,"enum_for",["step",i],(function(){return _(),function(){if(!a.begin["$respond_to?"]("succ"))return k;if(a.begin.$$is_string&&a.end.$$is_string)return k;if(i%1==0)return m(a.$size(),i).$ceil();var e,t=a.begin,n=a.end,r=Math.abs,o=Math.floor,s=(r(t)+r(n)+r(n-t))/r(i)*E(E("Float"),"EPSILON");return s>.5&&(s=.5),a.excl?(e=o((n-t)/i-s))*i+t<n&&e++:e=o((n-t)/i+s)+1,e}()})):(_(),n(a.begin.$$is_number&&a.end.$$is_number)?(u=0,function(){try{var t=y("break");return c(a,"loop",[],(function r(){var o,a=null==r.$$s?this:r.$$s;return null==a.begin&&(a.begin=k),null==a.excl&&(a.excl=k),null==a.end&&(a.end=k),o=g(a.begin,v(u,i)),n(a.excl)?n(b(o,a.end))&&t.$throw():n(d(o,a.end))&&t.$throw(),e.yield1(s,o),u=g(u,1)}),{$$s:a})}catch(e){if(e===t)return e.$v;throw e}}()):(a.begin.$$is_string&&a.end.$$is_string&&i%1!=0&&r.$raise(E("TypeError"),"no implicit conversion to float from string"),c(a,"each_with_index",[],(function(t,n){return null==t&&(t=k),null==n&&(n=k),$(n["$%"](i),0)?e.yield1(s,t):k}))),a)}),-1),i(C,"$%",(function(e){var t=this;return n(t.begin["$is_a?"](T("Numeric")))&&n(t.end["$is_a?"](T("Numeric")))?E(E("Enumerator"),"ArithmeticSequence").$new(t,e,"%"):t.$step(e)})),i(C,"$bsearch",(function e(){var t=e.$$p||k,i=this;return e.$$p=null,t===k?i.$enum_for("bsearch"):(n(R(i)&&(i.begin.$$is_number||i.end.$$is_number))&&r.$raise(E("NotImplementedError"),"Can't #bsearch an infinite range"),n(i.begin.$$is_number&&i.end.$$is_number)||r.$raise(E("TypeError"),"can't do binary search for "+i.begin.$class()),c(i.$to_a(),"bsearch",[],t.$to_proc()))})),i(C,"$to_s",(function(){var e=this,t=k;return(n(t=e.begin)?t:"")+(n(e.excl)?"...":"..")+(n(t=e.end)?t:"")})),i(C,"$inspect",(function(){var e=this,t=k;return(n(t=e.begin)?e.begin.$inspect():t)+(n(e.excl)?"...":"..")+(n(t=e.end)?e.end.$inspect():t)})),i(C,"$marshal_load",(function(e){var t=this;return t.begin=e["$[]"]("begin"),t.end=e["$[]"]("end"),t.excl=e["$[]"]("excl")})),i(C,"$hash",(function(){var e=this;return[e.begin,e.end,e.excl].$hash()})),w(C,"==","eql?"),w(C,"include?","cover?"),w(C,"member?","cover?")}()},Opal.modules["corelib/proc"]=function(e){var t,n=e.slice,r=e.klass,i=e.truthy,o=e.Kernel,s=e.defs,a=e.def,l=e.send,u=e.to_a,c=e.return_self,$=e.ensure_kwargs,_=e.Opal,f=e.alias,d=e.nil,p=e.$$$;return e.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),t=r("::",Function,"Proc"),e.prop(t.$$prototype,"$$is_proc",!0),e.prop(t.$$prototype,"$$is_lambda",!1),s(t,"$new",(function e(){var t=e.$$p||d;return e.$$p=null,i(t)||o.$raise(p("ArgumentError"),"tried to create a Proc object without a block"),t})),a(t,"$call",(function t(r){var i,o=t.$$p||d,s=this;t.$$p=null,i=n(arguments),o!==d&&(s.$$p=o);var a,l=s.$$brk,u=s.$$ret;if(l||u&&s.$$is_lambda)try{a=s.$$is_lambda?s.apply(null,i):e.yieldX(s,i)}catch(e){if(e===l)return e.$v;if(s.$$is_lambda&&e===u)return e.$v;throw e}else a=s.$$is_lambda?s.apply(null,i):e.yieldX(s,i);return a}),-1),a(t,"$>>",(function e(t){return e.$$p=null,l(o,"proc",[],(function e(r){var i,o,s=e.$$p||d,a=null==e.$$s?this:e.$$s;return e.$$p=null,i=n(arguments),o=l(a,"call",u(i),s.$to_proc()),t.$call(o)}),{$$arity:-1,$$s:this})})),a(t,"$<<",(function e(t){return e.$$p=null,l(o,"proc",[],(function e(r){var i,o,s=e.$$p||d,a=null==e.$$s?this:e.$$s;return e.$$p=null,i=n(arguments),o=l(t,"call",u(i),s.$to_proc()),a.$call(o)}),{$$arity:-1,$$s:this})})),a(t,"$to_proc",c),a(t,"$lambda?",(function(){return!!this.$$is_lambda})),a(t,"$arity",(function(){var e=this;return e.$$is_curried?-1:null!=e.$$arity?e.$$arity:e.length})),a(t,"$source_location",(function(){var e;return this.$$is_curried?d:i(e=this.$$source_location)?e:d})),a(t,"$binding",(function(){var e=this;return e.$$is_curried&&o.$raise(p("ArgumentError"),"Can't create Binding"),i(p("::","Binding","skip_raise")?"constant":d)?p("Binding").$new(d,[],e.$$s,e.$source_location()):d})),a(t,"$parameters",(function(e){var t,n=this;if(t=(e=$(e)).$$smap.lambda,n.$$is_curried)return[["rest"]];if(n.$$parameters){if(null==t?n.$$is_lambda:t)return n.$$parameters;var r,i,o=[];for(r=0,i=n.$$parameters.length;r<i;r++){var s=n.$$parameters[r];"req"===s[0]&&(s=["opt",s[1]]),o.push(s)}return o}return[]}),-1),a(t,"$curry",(function(e){var t=this;function r(){var i,s=n(arguments),a=s.length;return a>e&&t.$$is_lambda&&!t.$$is_curried&&o.$raise(p("ArgumentError"),"wrong number of arguments ("+a+" for "+e+")"),a>=e?t.$call.apply(t,s):(i=function(){return r.apply(null,s.concat(n(arguments)))},i.$$is_lambda=t.$$is_lambda,i.$$is_curried=!0,i)}return void 0===e?e=t.length:(e=_["$coerce_to!"](e,p("Integer"),"to_int"),t.$$is_lambda&&e!==t.length&&o.$raise(p("ArgumentError"),"wrong number of arguments ("+e+" for "+t.length+")")),r.$$is_lambda=t.$$is_lambda,r.$$is_curried=!0,r}),-1),a(t,"$dup",(function(){var e=this,t=e.$$original_proc||e,n=function(){return t.apply(this,arguments)};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n})),f(t,"===","call"),f(t,"clone","dup"),f(t,"yield","call"),f(t,"[]","call")},Opal.modules["corelib/method"]=function(e){var t,n,r=e.klass,i=e.def,o=e.truthy,s=e.slice,a=e.alias,l=e.Kernel,u=e.send,c=e.to_a,$=e.nil,_=e.$$$;return e.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),(n=(t=r("::",null,"Method")).$$prototype).method=n.receiver=n.owner=n.name=$,t.$attr_reader("owner","receiver","name"),i(t,"$initialize",(function(e,t,n,r){var i=this;return i.receiver=e,i.owner=t,i.name=r,i.method=n})),i(t,"$arity",(function(){return this.method.$arity()})),i(t,"$parameters",(function(){return this.method.$$parameters})),i(t,"$source_location",(function(){var e;return o(e=this.method.$$source_location)?e:["(eval)",0]})),i(t,"$comments",(function(){var e;return o(e=this.method.$$comments)?e:[]})),i(t,"$call",(function e(t){var n,r=e.$$p||$,i=this;return e.$$p=null,n=s(arguments),i.method.$$p=r,i.method.apply(i.receiver,n)}),-1),i(t,"$curry",(function(e){return this.method.$curry(e)}),-1),i(t,"$>>",(function(e){return this.method["$>>"](e)})),i(t,"$<<",(function(e){return this.method["$<<"](e)})),i(t,"$unbind",(function(){var e=this;return _("UnboundMethod").$new(e.receiver.$class(),e.owner,e.method,e.name)})),i(t,"$to_proc",(function(){var e=this,t=e.$call.bind(e);return t.$$unbound=e.method,t.$$is_lambda=!0,t.$$arity=null==e.method.$$arity?e.method.length:e.method.$$arity,t.$$parameters=e.method.$$parameters,t})),i(t,"$inspect",(function(){var e=this;return"#<"+e.$class()+": "+e.receiver.$class()+"#"+e.name+" (defined in "+e.owner+" in "+e.$source_location().$join(":")+")>"})),a(t,"[]","call"),a(t,"===","call"),function(t,n){var a=r("::",null,"UnboundMethod"),f=a.$$prototype;return f.method=f.owner=f.name=f.source=$,a.$attr_reader("source","owner","name"),i(a,"$initialize",(function(e,t,n,r){var i=this;return i.source=e,i.owner=t,i.method=n,i.name=r})),i(a,"$arity",(function(){return this.method.$arity()})),i(a,"$parameters",(function(){return this.method.$$parameters})),i(a,"$source_location",(function(){var e;return o(e=this.method.$$source_location)?e:["(eval)",0]})),i(a,"$comments",(function(){var e;return o(e=this.method.$$comments)?e:[]})),i(a,"$bind",(function(t){var n=this;if(n.owner.$$is_module||e.is_a(t,n.owner))return _("Method").$new(t,n.owner,n.method,n.name);l.$raise(_("TypeError"),"can't bind singleton method to a different class (expected "+t+".kind_of?("+n.owner+" to be true)")})),i(a,"$bind_call",(function e(t,n){var r,i=e.$$p||$;return e.$$p=null,r=s(arguments,1),u(this.$bind(t),"call",c(r),i.$to_proc())}),-2),i(a,"$inspect",(function(){var e=this;return"#<"+e.$class()+": "+e.source+"#"+e.name+" (defined in "+e.owner+" in "+e.$source_location().$join(":")+")>"}))}()},Opal.modules["corelib/variables"]=function(e){var t=e.gvars,n=e.const_set,r=e.Object,i=e.hash2,o=e.nil;return e.add_stubs("new"),t["&"]=t["~"]=t["`"]=t["'"]=o,t.LOADED_FEATURES=t['"']=e.loaded_features,t.LOAD_PATH=t[":"]=[],t["/"]="\n",t[","]=o,n("::","ARGV",[]),n("::","ARGF",r.$new()),n("::","ENV",i([],{})),t.VERBOSE=!1,t.DEBUG=!1,t.SAFE=0},Opal.modules["corelib/io"]=function(e){var t,n,r,i=e.klass,o=e.const_set,s=e.not,a=e.truthy,l=e.def,u=e.return_ivar,c=e.return_val,$=e.slice,_=e.Kernel,f=e.gvars,d=e.send,p=e.to_a,h=e.rb_plus,m=e.neqeq,g=e.range,v=e.hash2,b=e.eqeq,y=e.to_ary,w=e.rb_gt,x=e.assign_ivar_val,k=e.alias,E=e.nil,A=e.$$$;e.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),(r=(n=i("::",null,"IO")).$$prototype).read_buffer=r.closed=E,o(n,"SEEK_SET",0),o(n,"SEEK_CUR",1),o(n,"SEEK_END",2),o(n,"SEEK_DATA",3),o(n,"SEEK_HOLE",4),o(n,"READABLE",1),o(n,"WRITABLE",4),n.$attr_reader("eof"),n.$attr_accessor("read_proc","sync","tty","write_proc"),l(n,"$initialize",(function(e,t){var n=this;return null==t&&(t="r"),n.fd=e,n.flags=t,n.eof=!1,a(t["$include?"]("r"))&&s(t["$match?"](/[wa+]/))?n.closed="write":a(t["$match?"](/[wa]/))&&s(t["$match?"](/[r+]/))?n.closed="read":E}),-2),l(n,"$fileno",u("fd")),l(n,"$tty?",(function(){return 1==this.tty})),l(n,"$write",(function(e){return this.write_proc(e),e.$size()})),l(n,"$flush",c(E)),l(n,"$<<",(function(e){return this.$write(e),this})),l(n,"$print",(function(e){var t;null==f[","]&&(f[","]=E);for(var n=0,r=(t=$(arguments)).length;n<r;n++)t[n]=_.$String(t[n]);return this.$write(t.join(f[","])),E}),-1),l(n,"$puts",(function(e){var t,n,r=this;if(0===(t=$(arguments)).length)return r.$write("\n"),E;for(var i=0,o=t.length;i<o;i++)if(t[i].$$is_array){var s=t[i].$flatten();s.length>0&&d(r,"puts",p(s))}else(n=t[i].$$is_string?t[i].valueOf():_.$String(t[i])).endsWith("\n")||(n+="\n"),r.$write(n);return E}),-1),l(n,"$getc",(function(){var e,t=this,n=E,r=E;t.read_buffer=a(e=t.read_buffer)?e:"",n="";do{if(t.read_buffer=h(t.read_buffer,n),m(t.read_buffer,""))return r=t.read_buffer["$[]"](0),t.read_buffer=t.read_buffer["$[]"](g(1,-1,!1)),r}while(a(n=t.$sysread_noraise(1)));return E})),l(n,"$getbyte",(function(){var e;return(e=this.$getc())===E||null==e?E:e.$ord()})),l(n,"$readbyte",(function(){return this.$readchar().$ord()})),l(n,"$readchar",(function(){var e;return a(e=this.$getc())?e:_.$raise(A("EOFError"),"end of file reached")})),l(n,"$readline",(function(e){var t,n;return t=$(arguments),a(n=d(this,"gets",p(t)))?n:_.$raise(A("EOFError"),"end of file reached")}),-1),l(n,"$gets",(function(t,n,r){var i,o,l,u,c=this,$=E,_=E,d=E,p=E;null==f["/"]&&(f["/"]=E),null==t&&(t=!1),null==n&&(n=E),null==r&&(r=v([],{})),a(t.$$is_number)&&s(n)&&(t=(i=[!1,t,n])[0],n=i[1],r=i[2]),a(t.$$is_hash)&&s(n)&&b(r,v([],{}))?(t=(i=[!1,E,t])[0],n=i[1],r=i[2]):a(n.$$is_hash)&&b(r,v([],{}))&&(t=(i=[t,E,n])[0],n=i[1],r=i[2]),l=t,b(t,!1)&&(t=f["/"]),b(t,"")&&(t=/\r?\n\r?\n/),t=a($=t)?$:"",b(l,"")||(t=t.$to_str()),u=b(l,"")?2:t.$length(),b(t," ")&&(t=/ /),c.read_buffer=a($=c.read_buffer)?$:"",_="",d=E;do{if(c.read_buffer=h(c.read_buffer,_),m(t,"")&&a(a(t.$$is_regexp)?c.read_buffer["$match?"](t):c.read_buffer["$include?"](t))){p=c.read_buffer,o=c.read_buffer.$split(t,2),d=null==(i=y(o))[0]?E:i[0],c.read_buffer=null==i[1]?E:i[1],m(d,p)&&(d=h(d,p["$[]"](d.$length(),u)));break}}while(a(_=c.$sysread_noraise(b(t,"")?65536:1)));return a(d)||(d=(i=[a($=c.read_buffer)?$:"",""])[0],c.read_buffer=i[1],b(d,"")&&(d=E)),a(d)&&(a(n)&&(d=d["$[]"](e.Range.$new(0,n,!0)),c.read_buffer=h(d["$[]"](e.Range.$new(n,-1,!1)),c.read_buffer)),a(r["$[]"]("chomp"))&&(d=d.$sub(/\r?\n$/,"")),b(l,"")&&(d=d.$sub(/^[\r\n]+/,""))),b(l,!1)&&(f._=d),d}),-1),l(n,"$sysread",(function(e){var t;return a(t=this.read_proc(e))?t:(this.eof=!0,_.$raise(A("EOFError"),"end of file reached"))})),l(n,"$sysread_noraise",(function(t){try{return this.$sysread(t)}catch(t){if(!e.rescue(t,[A("EOFError")]))throw t;try{return E}finally{e.pop_exception()}}})),l(n,"$readpartial",(function(e){var t,n,r=this,i=E,o=E;return r.read_buffer=a(i=r.read_buffer)?i:"",n=r.$sysread(e),o=(t=[h(r.read_buffer,a(i=n)?i:""),""])[0],r.read_buffer=t[1],b(o,"")&&(o=E),o})),l(n,"$read",(function(t){var n,r=this,i=E,o=E,s=E;null==t&&(t=E),r.read_buffer=a(i=r.read_buffer)?i:"",o="",s=E;do{if(r.read_buffer=h(r.read_buffer,o),a(t)&&a(w(r.read_buffer.$length(),t)))return s=(n=[r.read_buffer["$[]"](e.Range.$new(0,t,!0)),r.read_buffer["$[]"](e.Range.$new(t,-1,!1))])[0],r.read_buffer=n[1],s}while(a(o=r.$sysread_noraise(a(i=t)?i:65536)));return s=(n=[r.read_buffer,""])[0],r.read_buffer=n[1],s}),-1),l(n,"$readlines",(function(e){return null==f["/"]&&(f["/"]=E),null==e&&(e=f["/"]),this.$each_line(e).$to_a()}),-1),l(n,"$each",(function t(n,r){var i,o,s,l=t.$$p||E,u=this,c=E;if(null==f["/"]&&(f["/"]=E),t.$$p=null,(i=$(arguments)).length>0&&(o=i.shift()),null==o&&(o=f["/"]),s=i,l===E)return d(u,"enum_for",["each",o].concat(p(s)));for(;a(c=d(u,"gets",[o].concat(p(s))));)e.yield1(l,c);return u}),-1),l(n,"$each_byte",(function t(){var n=t.$$p||E,r=this,i=E;if(t.$$p=null,n===E)return r.$enum_for("each_byte");for(;a(i=r.$getbyte());)e.yield1(n,i);return r})),l(n,"$each_char",(function t(){var n=t.$$p||E,r=this,i=E;if(t.$$p=null,n===E)return r.$enum_for("each_char");for(;a(i=r.$getc());)e.yield1(n,i);return r})),l(n,"$close",x("closed","both")),l(n,"$close_read",(function(){var e=this;return b(e.closed,"write")?e.closed="both":e.closed="read"})),l(n,"$close_write",(function(){var e=this;return b(e.closed,"read")?e.closed="both":e.closed="write"})),l(n,"$closed?",(function(){return this.closed["$=="]("both")})),l(n,"$closed_read?",(function(){var e;return a(e=this.closed["$=="]("read"))?e:this.closed["$=="]("both")})),l(n,"$closed_write?",(function(){var e;return a(e=this.closed["$=="]("write"))?e:this.closed["$=="]("both")})),l(n,"$check_writable",(function(){return a(this["$closed_write?"]())?_.$raise(A("IOError"),"not opened for writing"):E})),l(n,"$check_readable",(function(){return a(this["$closed_read?"]())?_.$raise(A("IOError"),"not opened for reading"):E})),k(n,"each_line","each"),k(n,"eof?","eof"),o("::","STDIN",f.stdin=A("IO").$new(0,"r")),o("::","STDOUT",f.stdout=A("IO").$new(1,"w")),o("::","STDERR",f.stderr=A("IO").$new(2,"w"));var S=e.global.console;return A("STDOUT")["$write_proc="]("object"==typeof process&&"object"==typeof process.stdout?function(e){process.stdout.write(e)}:function(e){S.log(e)}),A("STDERR")["$write_proc="]("object"==typeof process&&"object"==typeof process.stderr?function(e){process.stderr.write(e)}:function(e){S.warn(e)}),t=[function(e){var t=prompt();return null!==t?t+"\n":E}],d(A("STDIN"),"read_proc=",t),t[t.length-1]},Opal.modules["opal/regexp_anchors"]=function(e){var t=e.module,n=e.const_set,r=[],i=(e.nil,e.$$$);return e.add_stubs("new"),function(r,o){var s=t(r,"Opal"),a=[s].concat(o),l=e.$r(a);return n(s,"REGEXP_START","^"),n(s,"REGEXP_END","$"),n(s,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),n(s,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),n(s,"INLINE_IDENTIFIER_REGEXP",l("Regexp").$new("[^"+i(s,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+i(s,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),n(s,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),n(s,"CONST_NAME_REGEXP",l("Regexp").$new(i(s,"REGEXP_START")+"(::)?[A-Z][^"+i(s,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+i(s,"REGEXP_END")))}(r[0],r)},Opal.modules["opal/mini"]=function(e){var t=e.Object;return e.nil,e.add_stubs("require"),t.$require("opal/base"),t.$require("corelib/nil"),t.$require("corelib/boolean"),t.$require("corelib/string"),t.$require("corelib/comparable"),t.$require("corelib/enumerable"),t.$require("corelib/enumerator"),t.$require("corelib/array"),t.$require("corelib/hash"),t.$require("corelib/number"),t.$require("corelib/range"),t.$require("corelib/proc"),t.$require("corelib/method"),t.$require("corelib/regexp"),t.$require("corelib/variables"),t.$require("corelib/io"),t.$require("opal/regexp_anchors")},Opal.modules["corelib/kernel/format"]=function(e){var t,n=e.coerce_to,r=e.module,i=e.slice,o=e.truthy,s=e.eqeq,a=e.Opal,l=e.Kernel,u=e.gvars,c=e.def,$=e.alias,_=e.nil,f=e.$$$;return e.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),c(t=r("::","Kernel"),"$format",(function(e,t){var r,c,$=_;null==u.DEBUG&&(u.DEBUG=_),r=i(arguments,1),s((c=r).$length(),1)&&o(c["$[]"](0)["$respond_to?"]("to_ary"))&&($=a["$coerce_to?"](c["$[]"](0),f("Array"),"to_ary"),o($["$nil?"]())||(c=$.$to_a()));var d,p,h,m,g,v,b,y,w,x,k,E,A,S,C,O,T="",I=0,R=e.length,N=1,L=0,z=16;function D(){32&O&&l.$raise(f("ArgumentError"),"flag after width"),128&O&&l.$raise(f("ArgumentError"),"flag after precision")}function F(){32&O&&l.$raise(f("ArgumentError"),"width given twice"),128&O&&l.$raise(f("ArgumentError"),"width after precision")}function M(e){return e>=c.length&&l.$raise(f("ArgumentError"),"too few arguments"),c[e]}function q(){switch(L){case-1:l.$raise(f("ArgumentError"),"unnumbered("+N+") mixed with numbered");case-2:l.$raise(f("ArgumentError"),"unnumbered("+N+") mixed with named")}return M((L=N++)-1)}function B(e){return L>0&&l.$raise(f("ArgumentError"),"numbered("+e+") after unnumbered("+L+")"),-2===L&&l.$raise(f("ArgumentError"),"numbered("+e+") after named"),e<1&&l.$raise(f("ArgumentError"),"invalid index - "+e+"$"),L=-1,M(e-1)}function j(){return void 0===C?q():C}function P(t){for(var n,r="";;p++){if(p===R&&l.$raise(f("ArgumentError"),"malformed format string - %*[0-9]"),e.charCodeAt(p)<48||e.charCodeAt(p)>57)return p--,(n=parseInt(r,10)||0)>2147483647&&l.$raise(f("ArgumentError"),t+" too big"),n;r+=e.charAt(p)}}function U(t){var n,r=P(t);return"$"===e.charAt(p+1)?(p++,n=B(r)):n=q(),n.$to_int()}for(p=e.indexOf("%");-1!==p;p=e.indexOf("%",p)){switch(m=void 0,O=0,v=-1,b=-1,C=void 0,d=p,p++,e.charAt(p)){case"%":I=p;case"":case"\n":case"\0":p++;continue}e:for(;p<R;p++)switch(e.charAt(p)){case" ":D(),O|=z;continue e;case"#":D(),O|=1;continue e;case"+":D(),O|=4;continue e;case"-":D(),O|=2;continue e;case"0":D(),O|=8;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(y=P("width"),"$"===e.charAt(p+1)){if(p+2===R){m="%",p++;break e}void 0!==C&&l.$raise(f("ArgumentError"),"value given twice - %"+y+"$"),C=B(y),p++}else F(),O|=32,v=y;continue e;case"<":case"{":for(x="<"===e.charAt(p)?">":"}",w="",p++;;p++){if(p===R&&l.$raise(f("ArgumentError"),"malformed name - unmatched parenthesis"),e.charAt(p)===x){if(L>0&&l.$raise(f("ArgumentError"),"named "+w+" after unnumbered("+L+")"),-1===L&&l.$raise(f("ArgumentError"),"named "+w+" after numbered"),L=-2,void 0!==c[0]&&c[0].$$is_hash||l.$raise(f("ArgumentError"),"one hash required"),C=c[0].$fetch(w),">"===x)continue e;if(m=C.toString(),-1!==b&&(m=m.slice(0,b)),2&O)for(;m.length<v;)m+=" ";else for(;m.length<v;)m=" "+m;break e}w+=e.charAt(p)}case"*":p++,F(),O|=32,(v=U("width"))<0&&(O|=2,v=-v);continue e;case".":if(128&O&&l.$raise(f("ArgumentError"),"precision given twice"),O|=192,b=0,p++,"*"===e.charAt(p)){p++,(b=U("precision"))<0&&(O&=-65);continue e}b=P("precision");continue e;case"d":case"i":case"u":if((h=l.$Integer(j()))>=0){for(m=h.toString();m.length<b;)m="0"+m;if(2&O)for((4&O||O&z)&&(m=(4&O?"+":" ")+m);m.length<v;)m+=" ";else if(8&O&&-1===b){for(;m.length<v-(4&O||O&z?1:0);)m="0"+m;(4&O||O&z)&&(m=(4&O?"+":" ")+m)}else for((4&O||O&z)&&(m=(4&O?"+":" ")+m);m.length<v;)m=" "+m}else{for(m=(-h).toString();m.length<b;)m="0"+m;if(2&O)for(m="-"+m;m.length<v;)m+=" ";else if(8&O&&-1===b){for(;m.length<v-1;)m="0"+m;m="-"+m}else for(m="-"+m;m.length<v;)m=" "+m}break e;case"b":case"B":case"o":case"x":case"X":switch(e.charAt(p)){case"b":case"B":k=2,E="0b",A=/^1+/,S="1";break;case"o":k=8,E="0",A=/^3?7+/,S="7";break;case"x":case"X":k=16,E="0x",A=/^f+/,S="f"}if((h=l.$Integer(j()))>=0){for(m=h.toString(k);m.length<b;)m="0"+m;if(2&O)for((4&O||O&z)&&(m=(4&O?"+":" ")+m),1&O&&0!==h&&(m=E+m);m.length<v;)m+=" ";else if(8&O&&-1===b){for(;m.length<v-(4&O||O&z?1:0)-(1&O&&0!==h?E.length:0);)m="0"+m;1&O&&0!==h&&(m=E+m),(4&O||O&z)&&(m=(4&O?"+":" ")+m)}else for(1&O&&0!==h&&(m=E+m),(4&O||O&z)&&(m=(4&O?"+":" ")+m);m.length<v;)m=" "+m}else if(4&O||O&z){for(m=(-h).toString(k);m.length<b;)m="0"+m;if(2&O)for(1&O&&(m=E+m),m="-"+m;m.length<v;)m+=" ";else if(8&O&&-1===b){for(;m.length<v-1-(1&O?2:0);)m="0"+m;1&O&&(m=E+m),m="-"+m}else for(1&O&&(m=E+m),m="-"+m;m.length<v;)m=" "+m}else{for(m=(h>>>0).toString(k).replace(A,S);m.length<b-2;)m=S+m;if(2&O)for(m=".."+m,1&O&&(m=E+m);m.length<v;)m+=" ";else if(8&O&&-1===b){for(;m.length<v-2-(1&O?E.length:0);)m=S+m;m=".."+m,1&O&&(m=E+m)}else for(m=".."+m,1&O&&(m=E+m);m.length<v;)m=" "+m}e.charAt(p)===e.charAt(p).toUpperCase()&&(m=m.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if((h=l.$Float(j()))>=0||isNaN(h)){if(h===1/0)m="Inf";else switch(e.charAt(p)){case"f":m=h.toFixed(-1===b?6:b);break;case"e":case"E":m=h.toExponential(-1===b?6:b);break;case"g":case"G":m=h.toExponential(),(g=parseInt(m.split("e")[1],10))<-4||g>=(-1===b?6:b)||(m=h.toPrecision(-1===b?1&O?6:void 0:b))}if(2&O)for((4&O||O&z)&&(m=(4&O?"+":" ")+m);m.length<v;)m+=" ";else if(8&O&&h!==1/0&&!isNaN(h)){for(;m.length<v-(4&O||O&z?1:0);)m="0"+m;(4&O||O&z)&&(m=(4&O?"+":" ")+m)}else for((4&O||O&z)&&(m=(4&O?"+":" ")+m);m.length<v;)m=" "+m}else{if(h===-1/0)m="Inf";else switch(e.charAt(p)){case"f":m=(-h).toFixed(-1===b?6:b);break;case"e":case"E":m=(-h).toExponential(-1===b?6:b);break;case"g":case"G":m=(-h).toExponential(),(g=parseInt(m.split("e")[1],10))<-4||g>=(-1===b?6:b)||(m=(-h).toPrecision(-1===b?1&O?6:void 0:b))}if(2&O)for(m="-"+m;m.length<v;)m+=" ";else if(8&O&&h!==-1/0){for(;m.length<v-1;)m="0"+m;m="-"+m}else for(m="-"+m;m.length<v;)m=" "+m}e.charAt(p)!==e.charAt(p).toUpperCase()||h===1/0||h===-1/0||isNaN(h)||(m=m.toUpperCase()),m=m.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":l.$raise(f("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if((h=j())["$respond_to?"]("to_ary")&&(h=h.$to_ary()[0]),1!==(m=h["$respond_to?"]("to_str")?h.$to_str():String.fromCharCode(n(h,f("Integer"),"to_int"))).length&&l.$raise(f("ArgumentError"),"%c requires a character"),2&O)for(;m.length<v;)m+=" ";else for(;m.length<v;)m=" "+m;break e;case"p":if(m=j().$inspect(),-1!==b&&(m=m.slice(0,b)),2&O)for(;m.length<v;)m+=" ";else for(;m.length<v;)m=" "+m;break e;case"s":if(m=j().$to_s(),-1!==b&&(m=m.slice(0,b)),2&O)for(;m.length<v;)m+=" ";else for(;m.length<v;)m=" "+m;break e;default:l.$raise(f("ArgumentError"),"malformed format string - %"+e.charAt(p))}void 0===m&&l.$raise(f("ArgumentError"),"malformed format string - %"),T+=e.slice(I,d)+m,I=p+1}return u.DEBUG&&L>=0&&N<c.length&&l.$raise(f("ArgumentError"),"too many arguments for format string"),T+e.slice(I)}),-2),$(t,"sprintf","format")},Opal.modules["corelib/string/encoding"]=function(e){var t,n=e.klass,r=e.hash2,i=e.rb_plus,o=e.truthy,s=e.send,a=e.defs,l=e.eqeq,u=e.def,c=e.return_ivar,$=e.return_val,_=e.slice,f=e.Kernel,d=e.Opal,p=e.rb_lt,h=e.top,m=e.$r([]),g=e.nil,v=e.$$$;return e.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),h.$require("corelib/string"),function(t,d){var p=n("::",null,"Encoding"),h=p.$$prototype;h.name=h.dummy=g,a(p,"$register",(function t(n,a){var l,u,c,$=t.$$p||g,_=g,f=g,d=g;return t.$$p=null,null==a&&(a=r([],{})),l=i([n],o(_=a["$[]"]("aliases"))?_:[]),u=o(_=a["$[]"]("ascii"))&&_,c=o(_=a["$[]"]("dummy"))&&_,o(a["$[]"]("inherits"))?(f=a["$[]"]("inherits").$clone()).$initialize(n,l,u,c):f=this.$new(n,l,u,c),$!==g&&s(f,"instance_eval",[],$.$to_proc()),d=e.encodings,s(l,"each",[],(function e(t){return null==t&&(t=g),(null==e.$$s?this:e.$$s).$const_set(t.$tr("-","_"),f),d[t]=f}),{$$s:this})}),-2),a(p,"$find",(function(t){return l(t,"default_external")?this.$default_external():e.find_encoding(t)})),p.$singleton_class().$attr_accessor("default_external"),p.$attr_reader("name","names"),u(p,"$initialize",(function(e,t,n,r){var i=this;return i.name=e,i.names=t,i.ascii=n,i.dummy=r})),u(p,"$ascii_compatible?",c("ascii")),u(p,"$dummy?",c("dummy")),u(p,"$binary?",$(!1)),u(p,"$to_s",c("name")),u(p,"$inspect",(function(){return"#<Encoding:"+this.name+(o(this.dummy)?" (dummy)":g)+">"})),u(p,"$charsize",(function(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);i>=55296&&i<=56319||t++}return t})),u(p,"$each_char",(function t(n){var r=t.$$p||g;t.$$p=null;for(var i="",o=0,s=n.length;o<s;o++){var a=n.charCodeAt(o),l=n.charAt(o);a>=56320&&a<=57343?i=l:(a>=55296&&a<=56319&&(l=i+l),"UTF-8"!=n.encoding.name&&((l=new String(l)).encoding=n.encoding),e.yield1(r,l))}})),u(p,"$each_byte",(function(e){return _(arguments),f.$raise(v("NotImplementedError"))}),-1),u(p,"$bytesize",(function(e){return _(arguments),f.$raise(v("NotImplementedError"))}),-1),n("::",v("StandardError"),"EncodingError"),n("::",v("EncodingError"),"CompatibilityError")}(),s(v("Encoding"),"register",["UTF-8",r(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(function t(){var n=null==t.$$s?this:t.$$s;return u(n,"$each_byte",(function t(n){var r=t.$$p||g;t.$$p=null;for(var i,o=1/0,s=n.length,a=null,l=0;l<s;++l){if((i=n.charCodeAt(l))>55295&&i<57344){if(!a){if(i>56319){(o-=3)>-1&&(e.yield1(r,239),e.yield1(r,191),e.yield1(r,189));continue}if(l+1===s){(o-=3)>-1&&(e.yield1(r,239),e.yield1(r,191),e.yield1(r,189));continue}a=i;continue}if(i<56320){(o-=3)>-1&&(e.yield1(r,239),e.yield1(r,191),e.yield1(r,189)),a=i;continue}i=65536+(a-55296<<10|i-56320)}else a&&(o-=3)>-1&&(e.yield1(r,239),e.yield1(r,191),e.yield1(r,189));if(a=null,i<128){if((o-=1)<0)break;e.yield1(r,i)}else if(i<2048){if((o-=2)<0)break;e.yield1(r,i>>6|192),e.yield1(r,63&i|128)}else if(i<65536){if((o-=3)<0)break;e.yield1(r,i>>12|224),e.yield1(r,i>>6&63|128),e.yield1(r,63&i|128)}else if(i<1114112){if((o-=4)<0)break;e.yield1(r,i>>18|240),e.yield1(r,i>>12&63|128),e.yield1(r,i>>6&63|128),e.yield1(r,63&i|128)}}})),u(n,"$bytesize",(function(e){return e.$bytes().$length()}))}),{$$s:h}),s(v("Encoding"),"register",["UTF-16LE"],(function t(){var n=null==t.$$s?this:t.$$s;return u(n,"$each_byte",(function t(n){var r=t.$$p||g;t.$$p=null;for(var i=0,o=n.length;i<o;i++){var s=n.charCodeAt(i);e.yield1(r,255&s),e.yield1(r,s>>8)}})),u(n,"$bytesize",(function(e){return 2*e.length}))}),{$$s:h}),s(v("Encoding"),"register",["UTF-16BE",r(["inherits"],{inherits:v(v("Encoding"),"UTF_16LE")})],(function t(){return u(null==t.$$s?this:t.$$s,"$each_byte",(function t(n){var r=t.$$p||g;t.$$p=null;for(var i=0,o=n.length;i<o;i++){var s=n.charCodeAt(i);e.yield1(r,s>>8),e.yield1(r,255&s)}}))}),{$$s:h}),s(v("Encoding"),"register",["UTF-32LE"],(function t(){var n=null==t.$$s?this:t.$$s;return u(n,"$each_byte",(function t(n){var r=t.$$p||g;t.$$p=null;for(var i=0,o=n.length;i<o;i++){var s=n.charCodeAt(i);e.yield1(r,255&s),e.yield1(r,s>>8),e.yield1(r,0),e.yield1(r,0)}})),u(n,"$bytesize",(function(e){return 4*e.length}))}),{$$s:h}),s(v("Encoding"),"register",["UTF-32BE",r(["inherits"],{inherits:v(v("Encoding"),"UTF_32LE")})],(function t(){return u(null==t.$$s?this:t.$$s,"$each_byte",(function t(n){var r=t.$$p||g;t.$$p=null;for(var i=0,o=n.length;i<o;i++){var s=n.charCodeAt(i);e.yield1(r,0),e.yield1(r,0),e.yield1(r,s>>8),e.yield1(r,255&s)}}))}),{$$s:h}),s(v("Encoding"),"register",["ASCII-8BIT",r(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],(function t(){var n=null==t.$$s?this:t.$$s;return u(n,"$each_char",(function t(n){var r=t.$$p||g;t.$$p=null;for(var i=0,o=n.length;i<o;i++){var s=new String(n.charAt(i));s.encoding=n.encoding,e.yield1(r,s)}})),u(n,"$charsize",(function(e){return e.length})),u(n,"$each_byte",(function t(n){var r=t.$$p||g;t.$$p=null;for(var i=0,o=n.length;i<o;i++){var s=n.charCodeAt(i);e.yield1(r,255&s)}})),u(n,"$bytesize",(function(e){return e.length})),u(n,"$binary?",$(!0))}),{$$s:h}),v("Encoding").$register("ISO-8859-1",r(["aliases","ascii","inherits"],{aliases:["ISO8859-1"],ascii:!0,inherits:v(v("Encoding"),"ASCII_8BIT")})),v("Encoding").$register("US-ASCII",r(["aliases","ascii","inherits"],{aliases:["ASCII"],ascii:!0,inherits:v(v("Encoding"),"ASCII_8BIT")})),function(t,r){var i=n("::",null,"String"),a=i.$$prototype;a.internal_encoding=a.bytes=a.encoding=g,i.$attr_reader("encoding"),i.$attr_reader("internal_encoding"),e.prop(String.prototype,"bytes",g),e.prop(String.prototype,"encoding",v(v("Encoding"),"UTF_8")),e.prop(String.prototype,"internal_encoding",v(v("Encoding"),"UTF_8")),u(i,"$b",(function(){return this.$dup().$force_encoding("binary")})),u(i,"$bytesize",(function(){return this.internal_encoding.$bytesize(this)})),u(i,"$each_byte",(function e(){var t=e.$$p||g,n=this;return e.$$p=null,t===g?s(n,"enum_for",["each_byte"],(function e(){return(null==e.$$s?this:e.$$s).$bytesize()}),{$$s:n}):(s(n.internal_encoding,"each_byte",[n],t.$to_proc()),n)})),u(i,"$bytes",(function(){var e,t=this;return"string"==typeof t?new String(t).$each_byte().$to_a():(t.bytes=o(e=t.bytes)?e:t.$each_byte().$to_a(),t.bytes.$dup())})),u(i,"$each_char",(function e(){var t=e.$$p||g,n=this;return e.$$p=null,t===g?s(n,"enum_for",["each_char"],(function e(){return(null==e.$$s?this:e.$$s).$length()}),{$$s:n}):(s(n.encoding,"each_char",[n],t.$to_proc()),n)})),u(i,"$chars",(function e(){var t=e.$$p||g;return e.$$p=null,o(t)?s(this,"each_char",[],t.$to_proc()):this.$each_char().$to_a()})),u(i,"$each_codepoint",(function t(){var n=t.$$p||g,r=this;if(t.$$p=null,n===g)return r.$enum_for("each_codepoint");for(var i=0,o=r.length;i<o;i++)e.yield1(n,r.codePointAt(i));return r})),u(i,"$codepoints",(function e(){var t=e.$$p||g;return e.$$p=null,t!==g?s(this,"each_codepoint",[],t.$to_proc()):this.$each_codepoint().$to_a()})),u(i,"$encode",(function(t){return e.enc(this,t)})),u(i,"$force_encoding",(function(t){var n=this;return t===n.encoding?n:(t=d["$coerce_to!"](t,v("String"),"to_s"),(t=v("Encoding").$find(t))===n.encoding?n:n=e.set_encoding(n,t))})),u(i,"$getbyte",(function(e){var t=g;return t=this.$bytes(),e=d["$coerce_to!"](e,v("Integer"),"to_int"),o(p(t.$length(),e))?g:t["$[]"](e)})),u(i,"$initialize_copy",(function(e){return"\n      self.encoding = other.encoding;\n      self.internal_encoding = other.internal_encoding;\n    "})),u(i,"$valid_encoding?",$(!0))}(),t=[v(m("Encoding"),"UTF_8")],s(v("Encoding"),"default_external=",t),t[t.length-1]},Opal.modules["corelib/math"]=function(e){var t,n,r,i=e.type_error,o=e.module,s=e.const_set,a=e.Class,l=e.slice,u=e.Kernel,c=e.defs,$=e.truthy,_=e.send,f=e.def,d=e.rb_minus,p=e.eqeqeq,h=e.rb_divide,m=e.nil,g=e.$$$;return e.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),t=o("::","Math"),n=[t].concat([]),r=e.$r(n),s(t,"E",Math.E),s(t,"PI",Math.PI),s(t,"DomainError",a.$new(g("StandardError"))),c(t,"$checked",(function(e,t){var n;if(n=l(arguments,1),isNaN(n[0])||2==n.length&&isNaN(n[1]))return NaN;var i=Math[e].apply(null,n);return isNaN(i)&&u.$raise(r("DomainError"),'Numerical argument is out of domain - "'+e+'"'),i}),-2),c(t,"$float!",(function(t){try{return u.$Float(t)}catch(n){if(!e.rescue(n,[g("ArgumentError")]))throw n;try{return u.$raise(i(t,g("Float")))}finally{e.pop_exception()}}})),c(t,"$integer!",(function(t){try{return u.$Integer(t)}catch(n){if(!e.rescue(n,[g("ArgumentError")]))throw n;try{return u.$raise(i(t,g("Integer")))}finally{e.pop_exception()}}})),t.$module_function(),$(void 0!==Math.erf)||e.prop(Math,"erf",(function(e){var t=1;e<0&&(t=-1);var n=1/(1+.3275911*(e=Math.abs(e)));return t*(1-((((1.061405429*n-1.453152027)*n+1.421413741)*n-.284496736)*n+.254829592)*n*Math.exp(-e*e))})),$(void 0!==Math.erfc)||e.prop(Math,"erfc",(function(e){var t=Math.abs(e),n=1/(.5*t+1),r=-t*t-1.26551223+n*(n*(n*(n*(n*(n*(n*(n*(.17087277*n-.82215223)+1.48851587)-1.13520398)+.27886807)-.18628806)+.09678418)+.37409196)+1.00002368),i=n*Math.exp(r);return e<0?2-i:i})),_(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],(function e(t){return null==t&&(t=m),_(null==e.$$s?this:e.$$s,"define_method",[t],(function(e){return null==e&&(e=m),g("Math").$checked(t,g("Math")["$float!"](e))}))}),{$$s:t}),f(t,"$atan2",(function(e,t){return g("Math").$checked("atan2",g("Math")["$float!"](e),g("Math")["$float!"](t))})),f(t,"$hypot",(function(e,t){return g("Math").$checked("hypot",g("Math")["$float!"](e),g("Math")["$float!"](t))})),f(t,"$frexp",(function(e){if(e=r("Math")["$float!"](e),isNaN(e))return[NaN,0];var t=Math.floor(Math.log(Math.abs(e))/Math.log(2))+1;return[e/Math.pow(2,t),t]})),f(t,"$gamma",(function(e){var t,n,i,o,s,a,l,c,$;e=r("Math")["$float!"](e);var _=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(e))return NaN;if(0===e&&1/e<0)return-1/0;if(-1!==e&&e!==-1/0||u.$raise(r("DomainError"),'Numerical argument is out of domain - "gamma"'),r("Integer")["$==="](e)){if(e<=0)return isFinite(e)?1/0:NaN;if(e>171)return 1/0;for(o=e-2,s=e-1;o>1;)s*=o,o--;return 0==s&&(s=1),s}if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*g("Math").$gamma(d(1,e)));if(e>=171.35)return 1/0;if(e>85)return $=(c=(l=(a=e*e)*e)*e)*e,Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*a)-139/(51840*l)-571/(2488320*c)+163879/(209018880*$)+5246819/(75246796800*$*e));for(e-=1,i=_[0],t=1;t<_.length;++t)i+=_[t]/(e+t);return n=e+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(n,e+.5)*Math.exp(-n)*i})),f(t,"$ldexp",(function(e,t){return e=r("Math")["$float!"](e),t=r("Math")["$integer!"](t),isNaN(t)&&u.$raise(g("RangeError"),"float NaN out of range of integer"),e*Math.pow(2,t)})),f(t,"$lgamma",(function(e){return-1==e?[1/0,1]:[Math.log(Math.abs(g("Math").$gamma(e))),g("Math").$gamma(e)<0?-1:1]})),f(t,"$log",(function(e,t){return p(g("String"),e)&&u.$raise(i(e,g("Float"))),$(null==t)?g("Math").$checked("log",g("Math")["$float!"](e)):(p(g("String"),t)&&u.$raise(i(t,g("Float"))),h(g("Math").$checked("log",g("Math")["$float!"](e)),g("Math").$checked("log",g("Math")["$float!"](t))))}),-2),f(t,"$log10",(function(e){return p(g("String"),e)&&u.$raise(i(e,g("Float"))),g("Math").$checked("log10",g("Math")["$float!"](e))})),f(t,"$log2",(function(e){return p(g("String"),e)&&u.$raise(i(e,g("Float"))),g("Math").$checked("log2",g("Math")["$float!"](e))})),f(t,"$tan",(function(e){return e=g("Math")["$float!"](e),$(e["$infinite?"]())?g(g("Float"),"NAN"):g("Math").$checked("tan",g("Math")["$float!"](e))}))},Opal.modules["corelib/complex/base"]=function(e){var t=e.module,n=e.truthy,r=e.def,i=e.klass,o=[],s=e.nil;return e.add_stubs("new,from_string"),function(i,o){var a=t("::","Kernel"),l=[a].concat(o),u=e.$r(l);r(a,"$Complex",(function(e,t){return null==t&&(t=s),n(t)?u("Complex").$new(e,t):u("Complex").$new(e,0)}),-2)}(0,o),function(t,n,o){var s=i("::",null,"String"),a=[s].concat(o),l=e.$r(a);return r(s,"$to_c",(function(){return l("Complex").$from_string(this)}))}(0,0,o)},Opal.modules["corelib/complex"]=function(e){var t=e.klass,n=e.truthy,r=e.eqeqeq,i=e.Kernel,o=e.defs,s=e.rb_times,a=e.def,l=e.rb_plus,u=e.rb_minus,c=e.rb_divide,$=e.eqeq,_=e.to_ary,f=e.rb_gt,d=e.neqeq,p=e.return_val,h=e.const_set,m=e.alias,g=e.top,v=e.nil,b=e.$$$;return e.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),g.$require("corelib/numeric"),g.$require("corelib/complex/base"),function(g,y,w){var x=t("::",y,"Complex"),k=[x].concat([]),E=e.$r(k),A=x.$$prototype;return A.real=A.imag=v,o(x,"$rect",(function(e,t){return null==t&&(t=0),r(b("Numeric"),e)&&n(e["$real?"]())&&r(b("Numeric"),t)&&n(t["$real?"]())||i.$raise(b("TypeError"),"not a real"),this.$new(e,t)}),-2),o(x,"$polar",(function(e,t){return null==t&&(t=0),r(b("Numeric"),e)&&n(e["$real?"]())&&r(b("Numeric"),t)&&n(t["$real?"]())||i.$raise(b("TypeError"),"not a real"),this.$new(s(e,b("Math").$cos(t)),s(e,b("Math").$sin(t)))}),-2),x.$attr_reader("real","imag"),a(x,"$initialize",(function(e,t){var n=this;return null==t&&(t=0),n.real=e,n.imag=t,n.$freeze()}),-2),a(x,"$coerce",(function(e){return r(b("Complex"),e)?[e,this]:r(b("Numeric"),e)&&n(e["$real?"]())?[b("Complex").$new(e,0),this]:i.$raise(b("TypeError"),e.$class()+" can't be coerced into Complex")})),a(x,"$==",(function(e){var t=this,i=v;return r(b("Complex"),e)?n(i=t.real["$=="](e.$real()))?t.imag["$=="](e.$imag()):i:r(b("Numeric"),e)&&n(e["$real?"]())?n(i=t.real["$=="](e))?t.imag["$=="](0):i:e["$=="](t)})),a(x,"$-@",(function(){return i.$Complex(this.real["$-@"](),this.imag["$-@"]())})),a(x,"$+",(function(e){var t=this;return r(b("Complex"),e)?i.$Complex(l(t.real,e.$real()),l(t.imag,e.$imag())):r(b("Numeric"),e)&&n(e["$real?"]())?i.$Complex(l(t.real,e),t.imag):t.$__coerced__("+",e)})),a(x,"$-",(function(e){var t=this;return r(b("Complex"),e)?i.$Complex(u(t.real,e.$real()),u(t.imag,e.$imag())):r(b("Numeric"),e)&&n(e["$real?"]())?i.$Complex(u(t.real,e),t.imag):t.$__coerced__("-",e)})),a(x,"$*",(function(e){var t=this;return r(b("Complex"),e)?i.$Complex(u(s(t.real,e.$real()),s(t.imag,e.$imag())),l(s(t.real,e.$imag()),s(t.imag,e.$real()))):r(b("Numeric"),e)&&n(e["$real?"]())?i.$Complex(s(t.real,e),s(t.imag,e)):t.$__coerced__("*",e)})),a(x,"$/",(function(e){var t=this;return r(b("Complex"),e)?r(b("Number"),t.real)&&n(t.real["$nan?"]())||r(b("Number"),t.imag)&&n(t.imag["$nan?"]())||r(b("Number"),e.$real())&&n(e.$real()["$nan?"]())||r(b("Number"),e.$imag())&&n(e.$imag()["$nan?"]())?b("Complex").$new(b(b("Float"),"NAN"),b(b("Float"),"NAN")):c(s(t,e.$conj()),e.$abs2()):r(b("Numeric"),e)&&n(e["$real?"]())?i.$Complex(t.real.$quo(e),t.imag.$quo(e)):t.$__coerced__("/",e)})),a(x,"$**",(function(e){var t,o,a=this,p=v,h=v,m=v,g=v,y=v,w=v,x=v,k=v,E=v,A=v,S=v;if($(e,0))return b("Complex").$new(1,0);if(r(b("Complex"),e))return o=a.$polar(),p=null==(t=_(o))[0]?v:t[0],h=null==t[1]?v:t[1],m=e.$real(),g=e.$imag(),y=b("Math").$exp(u(s(m,b("Math").$log(p)),s(g,h))),w=l(s(h,m),s(g,b("Math").$log(p))),b("Complex").$polar(y,w);if(r(b("Integer"),e)){if(n(f(e,0))){for(k=x=a,E=u(e,1);d(E,0);){for(o=E.$divmod(2),A=null==(t=_(o))[0]?v:t[0],S=null==t[1]?v:t[1];$(S,0);)x=i.$Complex(u(s(x.$real(),x.$real()),s(x.$imag(),x.$imag())),s(s(2,x.$real()),x.$imag())),o=(E=A).$divmod(2),A=null==(t=_(o))[0]?v:t[0],S=null==t[1]?v:t[1];k=s(k,x),E=u(E,1)}return k}return c(b("Rational").$new(1,1),a)["$**"](e["$-@"]())}return r(b("Float"),e)||r(b("Rational"),e)?(o=a.$polar(),p=null==(t=_(o))[0]?v:t[0],h=null==t[1]?v:t[1],b("Complex").$polar(p["$**"](e),s(h,e))):a.$__coerced__("**",e)})),a(x,"$abs",(function(){return b("Math").$hypot(this.real,this.imag)})),a(x,"$abs2",(function(){var e=this;return l(s(e.real,e.real),s(e.imag,e.imag))})),a(x,"$angle",(function(){return b("Math").$atan2(this.imag,this.real)})),a(x,"$conj",(function(){return i.$Complex(this.real,this.imag["$-@"]())})),a(x,"$denominator",(function(){return this.real.$denominator().$lcm(this.imag.$denominator())})),a(x,"$eql?",(function(e){var t,r,i=this;return n(t=n(r=E("Complex")["$==="](e))?i.real.$class()["$=="](i.imag.$class()):r)?i["$=="](e):t})),a(x,"$fdiv",(function(e){return r(b("Numeric"),e)||i.$raise(b("TypeError"),e.$class()+" can't be coerced into Complex"),c(this,e)})),a(x,"$finite?",(function(){var e;return n(e=this.real["$finite?"]())?this.imag["$finite?"]():e})),a(x,"$hash",(function(){return"Complex:"+this.real+":"+this.imag})),a(x,"$infinite?",(function(){var e;return n(e=this.real["$infinite?"]())?e:this.imag["$infinite?"]()})),a(x,"$inspect",(function(){return"("+this+")"})),a(x,"$numerator",(function(){var e,t=this;return e=t.$denominator(),i.$Complex(s(t.real.$numerator(),c(e,t.real.$denominator())),s(t.imag.$numerator(),c(e,t.imag.$denominator())))})),a(x,"$polar",(function(){return[this.$abs(),this.$arg()]})),a(x,"$rationalize",(function(e){var t=this;return arguments.length>1&&i.$raise(b("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),d(t.imag,0)&&i.$raise(b("RangeError"),"can't convert "+t+" into Rational"),t.$real().$rationalize(e)}),-1),a(x,"$real?",p(!1)),a(x,"$rect",(function(){return[this.real,this.imag]})),a(x,"$to_f",(function(){var e=this;return $(e.imag,0)||i.$raise(b("RangeError"),"can't convert "+e+" into Float"),e.real.$to_f()})),a(x,"$to_i",(function(){var e=this;return $(e.imag,0)||i.$raise(b("RangeError"),"can't convert "+e+" into Integer"),e.real.$to_i()})),a(x,"$to_r",(function(){var e=this;return $(e.imag,0)||i.$raise(b("RangeError"),"can't convert "+e+" into Rational"),e.real.$to_r()})),a(x,"$to_s",(function(){var e=this,t=v;return t=e.real.$inspect(),t=l(t,r(b("Number"),e.imag)&&n(e.imag["$nan?"]())||n(e.imag["$positive?"]())||n(e.imag["$zero?"]())?"+":"-"),t=l(t,e.imag.$abs().$inspect()),r(b("Number"),e.imag)&&(n(e.imag["$nan?"]())||n(e.imag["$infinite?"]()))&&(t=l(t,"*")),l(t,"i")})),h(k[0],"I",x.$new(0,1)),o(x,"$from_string",(function(e){var t,n,r=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;function o(){return r.test(e)}function s(){var t=e.match(r)[0];return e=e.slice(t.length),t.replace(/_/g,"")}function a(){if(o()){var t=parseFloat(s());if("/"===e[0]){if(e=e.slice(1),o()){var n=parseFloat(s());return i.$Rational(t,n)}return e="/"+e,t}return t}return null}return e.match(r),(t=a())?(n=a())?i.$Complex(t,n):"i"===e[0]?i.$Complex(0,t):i.$Complex(t,0):"i"===e[0]?i.$Complex(0,1):"-"===e[0]&&"i"===e[1]?i.$Complex(0,-1):"+"===e[0]&&"i"===e[1]?i.$Complex(0,1):i.$Complex(0,0)})),function(e,t){m(e,"rectangular","rect")}(e.get_singleton_class(x)),m(x,"arg","angle"),m(x,"conjugate","conj"),m(x,"divide","/"),m(x,"imaginary","imag"),m(x,"magnitude","abs"),m(x,"phase","arg"),m(x,"quo","/"),m(x,"rectangular","rect"),e.udef(x,"$negative?"),e.udef(x,"$positive?"),e.udef(x,"$step"),v}(0,b("Numeric"))},Opal.modules["corelib/rational/base"]=function(e){var t,n=e.module,r=e.def,i=e.klass,o=(e.nil,e.$$$);return e.add_stubs("convert,from_string"),t=n("::","Kernel"),r(t,"$Rational",(function(e,t){return null==t&&(t=1),o("Rational").$convert(e,t)}),-2),function(e,t){var n=i("::",null,"String");return r(n,"$to_r",(function(){return o("Rational").$from_string(this)}))}()},Opal.modules["corelib/rational"]=function(e){var t=e.klass,n=e.eqeq,r=e.Kernel,i=e.truthy,o=e.rb_lt,s=e.rb_divide,a=e.defs,l=e.eqeqeq,u=e.not,c=e.Opal,$=e.def,_=e.return_ivar,f=e.rb_minus,d=e.rb_times,p=e.rb_plus,h=e.rb_gt,m=e.rb_le,g=e.return_self,v=e.alias,b=e.top,y=e.nil,w=e.$$$;return e.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,<=,truncate,send"),b.$require("corelib/numeric"),b.$require("corelib/rational/base"),function(e,b){var x=t("::",b,"Rational"),k=x.$$prototype;return k.num=k.den=y,a(x,"$reduce",(function(e,t){var a;if(e=e.$to_i(),t=t.$to_i(),n(t,0))r.$raise(w("ZeroDivisionError"),"divided by 0");else if(i(o(t,0)))e=e["$-@"](),t=t["$-@"]();else if(n(t,1))return this.$new(e,t);return a=e.$gcd(t),this.$new(s(e,a),s(t,a))})),a(x,"$convert",(function(e,t){return(i(e["$nil?"]())||i(t["$nil?"]()))&&r.$raise(w("TypeError"),"cannot convert nil into Rational"),l(w("Integer"),e)&&l(w("Integer"),t)?this.$reduce(e,t):((l(w("Float"),e)||l(w("String"),e)||l(w("Complex"),e))&&(e=e.$to_r()),(l(w("Float"),t)||l(w("String"),t)||l(w("Complex"),t))&&(t=t.$to_r()),i(t["$equal?"](1))&&u(w("Integer")["$==="](e))?c["$coerce_to!"](e,w("Rational"),"to_r"):l(w("Numeric"),e)&&l(w("Numeric"),t)?s(e,t):this.$reduce(e,t))})),$(x,"$initialize",(function(e,t){var n=this;return n.num=e,n.den=t,n.$freeze()})),$(x,"$numerator",_("num")),$(x,"$denominator",_("den")),$(x,"$coerce",(function(e){var t,n=this;return l(w("Rational"),t=e)?[e,n]:l(w("Integer"),t)?[e.$to_r(),n]:l(w("Float"),t)?[e,n.$to_f()]:y})),$(x,"$==",(function(e){var t,n=this,r=y;return l(w("Rational"),t=e)?i(r=n.num["$=="](e.$numerator()))?n.den["$=="](e.$denominator()):r:l(w("Integer"),t)?i(r=n.num["$=="](e))?n.den["$=="](1):r:l(w("Float"),t)?n.$to_f()["$=="](e):e["$=="](n)})),$(x,"$<=>",(function(e){var t,n=this;return l(w("Rational"),t=e)?f(d(n.num,e.$denominator()),d(n.den,e.$numerator()))["$<=>"](0):l(w("Integer"),t)?f(n.num,d(n.den,e))["$<=>"](0):l(w("Float"),t)?n.$to_f()["$<=>"](e):n.$__coerced__("<=>",e)})),$(x,"$+",(function(e){var t,n=this,i=y,o=y;return l(w("Rational"),t=e)?(i=p(d(n.num,e.$denominator()),d(n.den,e.$numerator())),o=d(n.den,e.$denominator()),r.$Rational(i,o)):l(w("Integer"),t)?r.$Rational(p(n.num,d(e,n.den)),n.den):l(w("Float"),t)?p(n.$to_f(),e):n.$__coerced__("+",e)})),$(x,"$-",(function(e){var t,n=this,i=y,o=y;return l(w("Rational"),t=e)?(i=f(d(n.num,e.$denominator()),d(n.den,e.$numerator())),o=d(n.den,e.$denominator()),r.$Rational(i,o)):l(w("Integer"),t)?r.$Rational(f(n.num,d(e,n.den)),n.den):l(w("Float"),t)?f(n.$to_f(),e):n.$__coerced__("-",e)})),$(x,"$*",(function(e){var t,n=this,i=y,o=y;return l(w("Rational"),t=e)?(i=d(n.num,e.$numerator()),o=d(n.den,e.$denominator()),r.$Rational(i,o)):l(w("Integer"),t)?r.$Rational(d(n.num,e),n.den):l(w("Float"),t)?d(n.$to_f(),e):n.$__coerced__("*",e)})),$(x,"$/",(function(e){var t,i=this,o=y,a=y;return l(w("Rational"),t=e)?(o=d(i.num,e.$denominator()),a=d(i.den,e.$numerator()),r.$Rational(o,a)):l(w("Integer"),t)?n(e,0)?s(i.$to_f(),0):r.$Rational(i.num,d(i.den,e)):l(w("Float"),t)?s(i.$to_f(),e):i.$__coerced__("/",e)})),$(x,"$**",(function(e){var t,s=this;return l(w("Integer"),t=e)?n(s,0)&&i(o(e,0))?w(w("Float"),"INFINITY"):i(h(e,0))?r.$Rational(s.num["$**"](e),s.den["$**"](e)):i(o(e,0))?r.$Rational(s.den["$**"](e["$-@"]()),s.num["$**"](e["$-@"]())):r.$Rational(1,1):l(w("Float"),t)?s.$to_f()["$**"](e):l(w("Rational"),t)?n(e,0)?r.$Rational(1,1):n(e.$denominator(),1)?i(o(e,0))?r.$Rational(s.den["$**"](e.$numerator().$abs()),s.num["$**"](e.$numerator().$abs())):r.$Rational(s.num["$**"](e.$numerator()),s.den["$**"](e.$numerator())):n(s,0)&&i(o(e,0))?r.$raise(w("ZeroDivisionError"),"divided by 0"):s.$to_f()["$**"](e):s.$__coerced__("**",e)})),$(x,"$abs",(function(){return r.$Rational(this.num.$abs(),this.den.$abs())})),$(x,"$ceil",(function(e){var t=this;return null==e&&(e=0),n(e,0)?s(t.num["$-@"](),t.den)["$-@"]().$ceil():t.$with_precision("ceil",e)}),-1),$(x,"$floor",(function(e){var t=this;return null==e&&(e=0),n(e,0)?s(t.num["$-@"](),t.den)["$-@"]().$floor():t.$with_precision("floor",e)}),-1),$(x,"$hash",(function(){return"Rational:"+this.num+":"+this.den})),$(x,"$inspect",(function(){return"("+this+")"})),$(x,"$rationalize",(function(e){var t=this;if(arguments.length>1&&r.$raise(w("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==e)return t;for(var n,i,o,a,l,u=e.$abs(),c=f(t,u),$=p(t,u),_=0,d=1,h=1,g=0;o=c.$ceil(),!m(o,$);)n=(a=o-1)*d+_,i=a*g+h,l=s(1,f($,a)),$=s(1,f(c,a)),c=l,_=d,h=g,d=n,g=i;return r.$Rational(o*d+_,o*g+h)}),-1),$(x,"$round",(function(e){var t,r,a=this,l=y;return null==e&&(e=0),n(e,0)?n(a.num,0)?0:n(a.den,1)?a.num:(t=p(d(a.num.$abs(),2),a.den),r=d(a.den,2),l=s(t,r).$truncate(),i(o(a.num,0))?l["$-@"]():l):a.$with_precision("round",e)}),-1),$(x,"$to_f",(function(){return s(this.num,this.den)})),$(x,"$to_i",(function(){return this.$truncate()})),$(x,"$to_r",g),$(x,"$to_s",(function(){return this.num+"/"+this.den})),$(x,"$truncate",(function(e){var t=this;return null==e&&(e=0),n(e,0)?i(o(t.num,0))?t.$ceil():t.$floor():t.$with_precision("truncate",e)}),-1),$(x,"$with_precision",(function(e,t){var n,a=y;return l(w("Integer"),t)||r.$raise(w("TypeError"),"not an Integer"),n=10["$**"](t),a=d(this,n),i(o(t,1))?s(a.$send(e),n).$to_i():r.$Rational(a.$send(e),n)})),a(x,"$from_string",(function(e){var t,n,i=e.trimLeft(),o=/^[+-]?[\d_]+(\.[\d_]+)?/;function s(){return o.test(i)}function a(){var e=i.match(o)[0];return i=i.slice(e.length),e.replace(/_/g,"")}return i.match(o),s()?(t=parseFloat(a()),"/"===i[0]?(i=i.slice(1),s()?(n=parseFloat(a()),r.$Rational(t,n)):r.$Rational(t,1)):r.$Rational(t,1)):r.$Rational(0,1)})),v(x,"divide","/"),v(x,"quo","/")}(0,w("Numeric"))},Opal.modules["corelib/time"]=function(e){var t=e.slice,n=e.deny_frozen_access,r=e.klass,i=e.Kernel,o=e.Opal,s=e.defs,a=e.eqeqeq,l=e.def,u=e.truthy,c=e.rb_gt,$=e.rb_lt,_=e.send,f=e.rb_plus,d=e.rb_divide,p=e.rb_minus,h=e.range,m=e.neqeq,g=e.rb_le,v=e.eqeq,b=e.alias,y=e.top,w=e.nil,x=e.$$$;return e.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),y.$require("corelib/comparable"),function(y,k,E){var A=r("::",k,"Time"),S=[A].concat([]),C=e.$r(S);A.$include(x("Comparable"));var O=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],T=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],R=["January","February","March","April","May","June","July","August","September","October","November","December"];function N(e,t,n,r,s,a){if(e=e.$$is_string?parseInt(e,10):o["$coerce_to!"](e,x("Integer"),"to_int"),t===w)t=1;else if(!t.$$is_number)if(t["$respond_to?"]("to_str"))switch((t=t.$to_str()).toLowerCase()){case"jan":t=1;break;case"feb":t=2;break;case"mar":t=3;break;case"apr":t=4;break;case"may":t=5;break;case"jun":t=6;break;case"jul":t=7;break;case"aug":t=8;break;case"sep":t=9;break;case"oct":t=10;break;case"nov":t=11;break;case"dec":t=12;break;default:t=t.$to_i()}else t=o["$coerce_to!"](t,x("Integer"),"to_int");return(t<1||t>12)&&i.$raise(x("ArgumentError"),"month out of range: "+t),t-=1,((n=n===w?1:n.$$is_string?parseInt(n,10):o["$coerce_to!"](n,x("Integer"),"to_int"))<1||n>31)&&i.$raise(x("ArgumentError"),"day out of range: "+n),((r=r===w?0:r.$$is_string?parseInt(r,10):o["$coerce_to!"](r,x("Integer"),"to_int"))<0||r>24)&&i.$raise(x("ArgumentError"),"hour out of range: "+r),((s=s===w?0:s.$$is_string?parseInt(s,10):o["$coerce_to!"](s,x("Integer"),"to_int"))<0||s>59)&&i.$raise(x("ArgumentError"),"min out of range: "+s),a===w?a=0:a.$$is_number||(a=a.$$is_string?parseInt(a,10):o["$coerce_to!"](a,x("Integer"),"to_int")),(a<0||a>60)&&i.$raise(x("ArgumentError"),"sec out of range: "+a),[e,t,n,r,s,a]}return s(A,"$at",(function(e,t){var n;return x("Time")["$==="](e)?(void 0!==t&&i.$raise(x("TypeError"),"can't convert Time into an exact number"),(n=new Date(e.getTime())).timezone=e.timezone,n):(e.$$is_number||(e=o["$coerce_to!"](e,x("Integer"),"to_int")),void 0===t?new Date(1e3*e):(t.$$is_number||(t=o["$coerce_to!"](t,x("Integer"),"to_int")),new Date(1e3*e+t/1e3)))}),-2),s(A,"$new",(function(e,t,n,r,i,o,s){var a,l,u,c;return null==t&&(t=w),null==n&&(n=w),null==r&&(r=w),null==i&&(i=w),null==o&&(o=w),null==s&&(s=w),void 0===e?new Date:(e=(a=N(e,t,n,r,i,o))[0],t=a[1],n=a[2],r=a[3],i=a[4],o=a[5],s===w?(l=new Date(e,t,n,r,i,0,1e3*o),e<100&&l.setFullYear(e),l):(u=this.$_parse_offset(s),c=new Date(Date.UTC(e,t,n,r,i,0,1e3*o)),e<100&&c.setUTCFullYear(e),(l=new Date(c.getTime()-36e5*u)).timezone=u,l))}),-1),s(A,"$_parse_offset",(function(e){var t;return e.$$is_string?"UTC"==e?t=0:/^[+-]\d\d:[0-5]\d$/.test(e)?t=("-"==e[0]?-1:1)*(+(e[1]+e[2])+ +(e[4]+e[5])/60):i.$raise(x("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+e):e.$$is_number?t=e/3600:i.$raise(x("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String"),t})),s(A,"$local",(function(e,n,r,i,o,s,a,l,u,c){var $,_;return null==n&&(n=w),null==r&&(r=w),null==i&&(i=w),null==o&&(o=w),null==s&&(s=w),null==a&&(a=w),null==l&&(l=w),null==u&&(u=w),null==c&&(c=w),10===arguments.length&&(e=($=t(arguments))[5],n=$[4],r=$[3],i=$[2],o=$[1],s=$[0]),e=($=N(e,n,r,i,o,s))[0],n=$[1],r=$[2],i=$[3],o=$[4],s=$[5],_=new Date(e,n,r,i,o,0,1e3*s),e<100&&_.setFullYear(e),_}),-2),s(A,"$gm",(function(e,n,r,i,o,s,a,l,u,c){var $,_;return null==n&&(n=w),null==r&&(r=w),null==i&&(i=w),null==o&&(o=w),null==s&&(s=w),null==a&&(a=w),null==l&&(l=w),null==u&&(u=w),null==c&&(c=w),10===arguments.length&&(e=($=t(arguments))[5],n=$[4],r=$[3],i=$[2],o=$[1],s=$[0]),e=($=N(e,n,r,i,o,s))[0],n=$[1],r=$[2],i=$[3],o=$[4],s=$[5],_=new Date(Date.UTC(e,n,r,i,o,0,1e3*s)),e<100&&_.setUTCFullYear(e),_.timezone=0,_}),-2),s(A,"$now",(function(){return this.$new()})),l(A,"$+",(function(e){a(x("Time"),e)&&i.$raise(x("TypeError"),"time + time?"),e.$$is_number||(e=o["$coerce_to!"](e,x("Integer"),"to_int"));var t=new Date(this.getTime()+1e3*e);return t.timezone=this.timezone,t})),l(A,"$-",(function(e){var t=this;if(a(x("Time"),e))return(t.getTime()-e.getTime())/1e3;e.$$is_number||(e=o["$coerce_to!"](e,x("Integer"),"to_int"));var n=new Date(t.getTime()-1e3*e);return n.timezone=t.timezone,n})),l(A,"$<=>",(function(e){var t=w;return a(x("Time"),e)?this.$to_f()["$<=>"](e.$to_f()):(t=e["$<=>"](this),u(t["$nil?"]())?w:u(c(t,0))?-1:u($(t,0))?1:0)})),l(A,"$==",(function(e){var t;return u(t=x("Time")["$==="](e))?this.$to_f()===e.$to_f():t})),l(A,"$asctime",(function(){return this.$strftime("%a %b %e %H:%M:%S %Y")})),_([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],(function e(t,n,r,i){var o=null==e.$$s?this:e.$$s;return null==t&&(t=w),null==n&&(n=w),null==r&&(r=w),null==i&&(i=0),_(o,"define_method",[t],(function e(){var t=null==e.$$s?this:e.$$s;return i+(null!=t.timezone?new Date(t.getTime()+36e5*t.timezone)[r]():t[n]())}),{$$s:o})}),{$$arity:-4,$$s:A}),l(A,"$yday",(function(){var e,t,n=this;return e=C("Time").$new(n.$year()).$to_i(),t=C("Time").$new(n.$year(),n.$month(),n.$day()).$to_i(),f(d(p(t,e),86400).$round(),1)})),l(A,"$isdst",(function(){var e=this,t=new Date(e.getFullYear(),0,1),n=new Date(e.getFullYear(),6,1);return e.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),n.getTimezoneOffset())})),l(A,"$dup",(function(){var e=this,t=w;return(t=new Date(e.getTime())).$copy_instance_variables(e),t.$initialize_dup(e),t})),l(A,"$eql?",(function(e){var t;return u(t=e["$is_a?"](x("Time")))?this["$<=>"](e)["$zero?"]():t})),_([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],(function e(t,n){var r=null==e.$$s?this:e.$$s;return null==t&&(t=w),null==n&&(n=w),_(r,"define_method",[t],(function e(){return(null==e.$$s?this:e.$$s).$wday()===n}),{$$s:r})}),{$$s:A}),l(A,"$hash",(function(){return"Time:"+this.getTime()})),l(A,"$inspect",(function(){var e=this;return u(e["$utc?"]())?e.$strftime("%Y-%m-%d %H:%M:%S UTC"):e.$strftime("%Y-%m-%d %H:%M:%S %z")})),l(A,"$succ",(function(){var e=new Date(this.getTime()+1e3);return e.timezone=this.timezone,e})),l(A,"$usec",(function(){return 1e3*this.getMilliseconds()})),l(A,"$zone",(function(){var e=this;if(0===e.timezone)return"UTC";if(null!=e.timezone)return w;var t,n=e.toString();return"GMT"==(t=-1==n.indexOf("(")?n.match(/[A-Z]{3,4}/)[0]:n.match(/\((.+)\)(?:\s|$)/)[1])&&/(GMT\W*\d{4})/.test(n)?RegExp.$1:t})),l(A,"$getgm",(function(){var e=new Date(this.getTime());return e.timezone=0,e})),l(A,"$gmtime",(function(){var e=this;return 0!==e.timezone&&(n(e),e.timezone=0),e})),l(A,"$gmt?",(function(){return 0===this.timezone})),l(A,"$gmt_offset",(function(){var e=this;return null!=e.timezone?60*e.timezone:60*-e.getTimezoneOffset()})),l(A,"$strftime",(function(e){var t=this;return e.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,(function(e,n,r,i,o){var s,a,l,u="",c=-1!==n.indexOf("0"),$=-1===n.indexOf("-"),_=-1!==n.indexOf("_"),f=-1!==n.indexOf("^"),d=-1!==n.indexOf("#"),m=(n.match(":")||[]).length;switch(r=parseInt(r,10),c&&_&&(n.indexOf("0")<n.indexOf("_")?c=!1:_=!1),o){case"Y":u+=t.$year();break;case"C":c=!_,u+=Math.round(t.$year()/100);break;case"y":c=!_,u+=t.$year()%100;break;case"m":c=!_,u+=t.$mon();break;case"B":u+=R[t.$mon()-1];break;case"b":case"h":_=!c,u+=I[t.$mon()-1];break;case"d":c=!_,u+=t.$day();break;case"e":_=!c,u+=t.$day();break;case"j":c=!_,r=isNaN(r)?3:r,u+=t.$yday();break;case"H":c=!_,u+=t.$hour();break;case"k":_=!c,u+=t.$hour();break;case"I":c=!_,u+=t.$hour()%12||12;break;case"l":_=!c,u+=t.$hour()%12||12;break;case"P":u+=t.$hour()>=12?"pm":"am";break;case"p":u+=t.$hour()>=12?"PM":"AM";break;case"M":c=!_,u+=t.$min();break;case"S":c=!_,u+=t.$sec();break;case"L":c=!_,r=isNaN(r)?3:r,u+=t.getMilliseconds();break;case"N":r=isNaN(r)?9:r,u=(u+=t.getMilliseconds().toString().$rjust(3,"0")).$ljust(r,"0");break;case"z":var g=null==t.timezone?t.getTimezoneOffset():60*-t.timezone,v=Math.floor(Math.abs(g)/60),b=Math.abs(g)%60;u+=g<0?"+":"-",u+=v<10?"0":"",u+=v,m>0&&(u+=":"),u+=b<10?"0":"",u+=b,m>1&&(u+=":00");break;case"Z":u+=t.$zone();break;case"A":u+=O[t.$wday()];break;case"a":u+=T[t.$wday()];break;case"u":u+=t.$wday()+1;break;case"w":u+=t.$wday();break;case"V":u+=t.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":u+=t.$cweek_cyear()["$[]"](1);break;case"g":u+=t.$cweek_cyear()["$[]"](1)["$[]"](h(-2,-1,!1));break;case"s":u+=t.$to_i();break;case"n":u+="\n";break;case"t":u+="\t";break;case"%":u+="%";break;case"c":u+=t.$strftime("%a %b %e %T %Y");break;case"D":case"x":u+=t.$strftime("%m/%d/%y");break;case"F":u+=t.$strftime("%Y-%m-%d");break;case"v":u+=t.$strftime("%e-%^b-%4Y");break;case"r":u+=t.$strftime("%I:%M:%S %p");break;case"R":u+=t.$strftime("%H:%M");break;case"T":case"X":u+=t.$strftime("%H:%M:%S");break;case"J":if((s=t.$to_date().$jd())<2405160){u+=t.$strftime("%Y-%m-%d");break}s<2419614?(a="M",l=1867):s<2424875?(a="T",l=1911):s<2447535?(a="S",l=1925):s<2458605?(a="H",l=1988):(a="R",l=2018),u+=t.$format("%c%02d",a,p(t.$year(),l)),u+=t.$strftime("-%m-%d");break;default:return e}return f&&(u=u.toUpperCase()),d&&(u=u.replace(/[A-Z]/,(function(e){e.toLowerCase()})).replace(/[a-z]/,(function(e){e.toUpperCase()}))),$&&(c||_)&&(u=u.$rjust(isNaN(r)?2:r,_?" ":"0")),u}))})),l(A,"$to_a",(function(){var e=this;return[e.$sec(),e.$min(),e.$hour(),e.$day(),e.$month(),e.$year(),e.$wday(),e.$yday(),e.$isdst(),e.$zone()]})),l(A,"$to_f",(function(){return this.getTime()/1e3})),l(A,"$to_i",(function(){return parseInt(this.getTime()/1e3,10)})),l(A,"$cweek_cyear",(function(){var e,t=this,n=w,r=w,i=w,o=w;return e=x("Time").$new(t.$year(),1,1).$wday(),n=t.$year(),u(g(e,4))&&m(e,0)?r=p(e,1):(r=p(p(e,7),1),v(r,-8)&&(r=-1)),i=d(f(t.$yday(),r),7).$ceil(),u(g(i,0))?x("Time").$new(p(t.$year(),1),12,31).$cweek_cyear():(v(i,53)&&(o=x("Time").$new(t.$year(),12,31).$wday(),u(g(o,3))&&m(o,0)&&(i=1,n=f(n,1))),[i,n])})),function(e,t){b(e,"mktime","local"),b(e,"utc","gm")}(e.get_singleton_class(A)),b(A,"ctime","asctime"),b(A,"dst?","isdst"),b(A,"getutc","getgm"),b(A,"gmtoff","gmt_offset"),b(A,"mday","day"),b(A,"month","mon"),b(A,"to_s","inspect"),b(A,"tv_sec","to_i"),b(A,"tv_usec","usec"),b(A,"utc","gmtime"),b(A,"utc?","gmt?"),b(A,"utc_offset","gmt_offset")}(0,Date)},Opal.modules["corelib/struct"]=function(e){var t=e.klass,n=e.slice,r=e.extract_kwargs,i=e.ensure_kwargs,o=e.truthy,s=e.neqeq,a=e.eqeq,l=e.Opal,u=e.send,c=e.Class,$=e.to_a,_=e.def,f=e.defs,d=e.Kernel,p=e.hash2,h=e.rb_gt,m=e.rb_minus,g=e.eqeqeq,v=e.rb_lt,b=e.rb_ge,y=e.rb_plus,w=e.alias,x=e.top,k=e.nil,E=e.$$$;return e.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,args,each_with_object,flatten,to_a,respond_to?,dig"),x.$require("corelib/enumerable"),function(x,A,S){var C=t("::",null,"Struct"),O=[C].concat([]),T=e.$r(O);C.$include(E("Enumerable")),f(C,"$new",(function t(f,d,p){var h,m,g,v,b=t.$$p||k,y=k;if(t.$$p=null,h=n(arguments,1),m=r(h),m=i(m),g=h,null==(v=m.$$smap.keyword_init)&&(v=!1),o(f))if(a(f.$class(),E("String"))&&s(f["$[]"](0).$upcase(),f["$[]"](0)))g.$unshift(f),f=k;else try{f=l["$const_name!"](f)}catch(t){if(!e.rescue(t,[E("TypeError"),E("NameError")]))throw t;try{g.$unshift(f),f=k}finally{e.pop_exception()}}return u(g,"map",[],(function(e){return null==e&&(e=k),l["$coerce_to!"](e,E("String"),"to_str")})),y=u(c,"new",[this],(function t(){var r=null==t.$$s?this:t.$$s;return u(g,"each",[],(function e(t){return null==t&&(t=k),(null==e.$$s?this:e.$$s).$define_struct_attribute(t)}),{$$s:r}),function(e,t){return _(e,"$new",(function(e){var t,r=k;return t=n(arguments),(r=this.$allocate()).$$data={},u(r,"initialize",$(t)),r}),-1),e.$alias_method("[]","new")}(e.get_singleton_class(r))}),{$$s:this}),o(b)&&u(y,"module_eval",[],b.$to_proc()),y.$$keyword_init=v,o(f)&&E("Struct").$const_set(f,y),y}),-2),f(C,"$define_struct_attribute",(function(e){var t=this;return a(t,E("Struct"))&&d.$raise(E("ArgumentError"),"you cannot define attributes to the Struct class"),t.$members()["$<<"](e),u(t,"define_method",[e],(function t(){return(null==t.$$s?this:t.$$s).$$data[e]}),{$$s:t}),u(t,"define_method",[e+"="],(function t(n){return null==n&&(n=k),(null==t.$$s?this:t.$$s).$$data[e]=n}),{$$s:t})})),f(C,"$members",(function(){var e,t=this;return null==t.members&&(t.members=k),a(t,E("Struct"))&&d.$raise(E("ArgumentError"),"the Struct class has no members"),t.members=o(e=t.members)?e:[]})),f(C,"$inherited",(function(e){var t,n=this;return null==n.members&&(n.members=k),t=n.members,u(e,"instance_eval",[],(function e(){return(null==e.$$s?this:e.$$s).members=t}),{$$s:n})})),_(C,"$initialize",(function(e){var t,r,i=this,s=k,a=k,l=k;return t=n(arguments),r=t,o(i.$class().$$keyword_init)?(s=o(a=r.$last())?a:p([],{}),(o(h(r.$length(),1))||o(1===r.length&&!s.$$is_hash))&&d.$raise(E("ArgumentError"),"wrong number of arguments (given "+r.$length()+", expected 0)"),l=m(s.$keys(),i.$class().$members()),o(l["$any?"]())&&d.$raise(E("ArgumentError"),"unknown keywords: "+l.$join(", ")),u(i.$class().$members(),"each",[],(function e(t){var n,r=null==e.$$s?this:e.$$s;return null==t&&(t=k),n=[t,s["$[]"](t)],u(r,"[]=",n),n[n.length-1]}),{$$s:i})):(o(h(r.$length(),i.$class().$members().$length()))&&d.$raise(E("ArgumentError"),"struct size differs"),u(i.$class().$members(),"each_with_index",[],(function e(t,n){var i,o=null==e.$$s?this:e.$$s;return null==t&&(t=k),null==n&&(n=k),i=[t,r["$[]"](n)],u(o,"[]=",i),i[i.length-1]}),{$$s:i}))}),-1),_(C,"$initialize_copy",(function(e){this.$$data={};var t,n,r,i=Object.keys(e.$$data);for(t=0,n=i.length;t<n;t++)r=i[t],this.$$data[r]=e.$$data[r]})),f(C,"$keyword_init?",(function(){return this.$$keyword_init})),_(C,"$members",(function(){return this.$class().$members()})),_(C,"$hash",(function(){return T("Hash").$new(this.$$data).$hash()})),_(C,"$[]",(function(e){var t=this;return g(E("Integer"),e)?(o(v(e,t.$class().$members().$size()["$-@"]()))&&d.$raise(E("IndexError"),"offset "+e+" too small for struct(size:"+t.$class().$members().$size()+")"),o(b(e,t.$class().$members().$size()))&&d.$raise(E("IndexError"),"offset "+e+" too large for struct(size:"+t.$class().$members().$size()+")"),e=t.$class().$members()["$[]"](e)):g(E("String"),e)?t.$$data.hasOwnProperty(e)||d.$raise(E("NameError").$new("no member '"+e+"' in struct",e)):d.$raise(E("TypeError"),"no implicit conversion of "+e.$class()+" into Integer"),e=l["$coerce_to!"](e,E("String"),"to_str"),t.$$data[e]})),_(C,"$[]=",(function(e,t){var n=this;return g(E("Integer"),e)?(o(v(e,n.$class().$members().$size()["$-@"]()))&&d.$raise(E("IndexError"),"offset "+e+" too small for struct(size:"+n.$class().$members().$size()+")"),o(b(e,n.$class().$members().$size()))&&d.$raise(E("IndexError"),"offset "+e+" too large for struct(size:"+n.$class().$members().$size()+")"),e=n.$class().$members()["$[]"](e)):g(E("String"),e)?o(n.$class().$members()["$include?"](e.$to_sym()))||d.$raise(E("NameError").$new("no member '"+e+"' in struct",e)):d.$raise(E("TypeError"),"no implicit conversion of "+e.$class()+" into Integer"),e=l["$coerce_to!"](e,E("String"),"to_str"),n.$$data[e]=t})),_(C,"$==",(function(e){if(!o(e["$instance_of?"](this.$class())))return!1;var t={},n={};return function e(r,i){var o,s,a;for(o in t[r.$__id__()]=!0,n[i.$__id__()]=!0,r.$$data)if(s=r.$$data[o],a=i.$$data[o],E("Struct")["$==="](s)){if(!(t.hasOwnProperty(s.$__id__())&&n.hasOwnProperty(a.$__id__())||e(s,a)))return!1}else if(!s["$=="](a))return!1;return!0}(this,e)})),_(C,"$eql?",(function(e){if(!o(e["$instance_of?"](this.$class())))return!1;var t={},n={};return function e(r,i){var o,s,a;for(o in t[r.$__id__()]=!0,n[i.$__id__()]=!0,r.$$data)if(s=r.$$data[o],a=i.$$data[o],E("Struct")["$==="](s)){if(!(t.hasOwnProperty(s.$__id__())&&n.hasOwnProperty(a.$__id__())||e(s,a)))return!1}else if(!s["$eql?"](a))return!1;return!0}(this,e)})),_(C,"$each",(function t(){var n=t.$$p||k,r=this;return t.$$p=null,n===k?u(r,"enum_for",["each"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r}):(u(r.$class().$members(),"each",[],(function t(r){var i=null==t.$$s?this:t.$$s;return null==r&&(r=k),e.yield1(n,i["$[]"](r))}),{$$s:r}),r)})),_(C,"$each_pair",(function t(){var n=t.$$p||k,r=this;return t.$$p=null,n===k?u(r,"enum_for",["each_pair"],(function e(){return(null==e.$$s?this:e.$$s).$size()}),{$$s:r}):(u(r.$class().$members(),"each",[],(function t(r){var i=null==t.$$s?this:t.$$s;return null==r&&(r=k),e.yield1(n,[r,i["$[]"](r)])}),{$$s:r}),r)})),_(C,"$length",(function(){return this.$class().$members().$length()})),_(C,"$to_a",(function(){return u(this.$class().$members(),"map",[],(function e(t){return null==t&&(t=k),(null==e.$$s?this:e.$$s)["$[]"](t)}),{$$s:this})}));var I=[];return _(C,"$inspect",(function(){var e=this,t=k,n=k;return function(){try{return t="#<struct ",o(I["$include?"](e.$__id__()))?y(t,":...>"):(I["$<<"](e.$__id__()),n=!0,g(E("Struct"),e)&&o(e.$class().$name())&&(t=y(t,e.$class()+" ")),t=y(t,u(e.$each_pair(),"map",[],(function(e,t){return null==e&&(e=k),null==t&&(t=k),e+"="+T("Opal").$inspect(t)})).$join(", ")),t=y(t,">"))}finally{o(n)&&I.pop()}}()})),_(C,"$to_h",(function e(){var t=e.$$p||k,n=this;return e.$$p=null,t!==k?u(u(n,"map",[],t.$to_proc()),"to_h",$(n.$args())):u(n.$class().$members(),"each_with_object",[p([],{})],(function e(t,n){var r;return null==t&&(t=k),null==n&&(n=k),r=[t,(null==e.$$s?this:e.$$s)["$[]"](t)],u(n,"[]=",r),r[r.length-1]}),{$$s:n})})),_(C,"$values_at",(function(e){var t,r;t=n(arguments);for(var i=[],o=0,s=(r=u(r=t,"map",[],(function(e){return null==e&&(e=k),e.$$is_range?e.$to_a():e})).$flatten()).length;o<s;o++)r[o].$$is_number||d.$raise(E("TypeError"),"no implicit conversion of "+r[o].$class()+" into Integer"),i.push(this["$[]"](r[o]));return i}),-1),_(C,"$dig",(function(e,t){var r,i=k;return r=n(arguments,1),(i=o(e.$$is_string&&this.$$data.hasOwnProperty(e))&&this.$$data[e]||k)===k||0===r.length?i:(o(i["$respond_to?"]("dig"))||d.$raise(E("TypeError"),i.$class()+" does not have #dig method"),u(i,"dig",$(r)))}),-2),w(C,"size","length"),w(C,"to_s","inspect"),w(C,"values","to_a")}()},Opal.modules["corelib/set"]=function(e){var t=e.freeze,n=e.klass,r=e.slice,i=e.defs,o=e.hash2,s=e.truthy,a=e.eqeqeq,l=e.Kernel,u=e.send,c=e.def,$=e.eqeq,_=e.rb_lt,f=e.rb_le,d=e.alias,p=e.nil,h=e.$$$;return e.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function(m,g,v){var b=n("::",null,"Set"),y=[b].concat([]),w=e.$r(y);function x(e){s(e["$is_a?"](h("Set")))||l.$raise(h("ArgumentError"),"value must be a set")}return b.$$prototype.hash=p,b.$include(h("Enumerable")),i(b,"$[]",(function(e){var t;return t=r(arguments),this.$new(t)}),-1),c(b,"$initialize",(function t(n){var r=t.$$p||p,i=this;return t.$$p=null,null==n&&(n=p),i.hash=o([],{}),s(n["$nil?"]())?p:(a(h("Enumerable"),n)||l.$raise(h("ArgumentError"),"value must be enumerable"),s(r)?u(n,"each",[],(function t(n){return null==n&&(n=p),(null==t.$$s?this:t.$$s).$add(e.yield1(r,n))}),{$$s:i}):i.$merge(n))}),-1),c(b,"$dup",(function(){return this.$class().$new().$merge(this)})),c(b,"$-",(function(e){return s(e["$respond_to?"]("each"))||l.$raise(h("ArgumentError"),"value must be enumerable"),this.$dup().$subtract(e)})),c(b,"$inspect",(function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"})),c(b,"$==",(function(e){var t=this;return!!s(t["$equal?"](e))||(s(e["$instance_of?"](t.$class()))?t.hash["$=="](e.$instance_variable_get("@hash")):!(!s(e["$is_a?"](h("Set")))||!$(t.$size(),e.$size()))&&u(e,"all?",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==n.hash&&(n.hash=p),null==t&&(t=p),n.hash["$include?"](t)}),{$$s:t}))})),c(b,"$add",(function(e){return this.hash["$[]="](e,!0),this})),c(b,"$classify",(function t(){var n=t.$$p||p,r=this,i=p;return t.$$p=null,n===p?r.$enum_for("classify"):(i=u(h("Hash"),"new",[],(function e(t,n){var r;return null==t&&(t=p),null==n&&(n=p),r=[n,(null==e.$$s?this:e.$$s).$class().$new()],u(t,"[]=",r),r[r.length-1]}),{$$s:r}),u(r,"each",[],(function(t){return null==t&&(t=p),i["$[]"](e.yield1(n,t)).$add(t)})),i)})),c(b,"$collect!",(function t(){var n=t.$$p||p,r=this,i=p;return t.$$p=null,n===p?r.$enum_for("collect!"):(i=r.$class().$new(),u(r,"each",[],(function(t){return null==t&&(t=p),i["$<<"](e.yield1(n,t))})),r.$replace(i))})),c(b,"$compare_by_identity",(function(){var e=this;return s(e.hash["$respond_to?"]("compare_by_identity"))?(e.hash.$compare_by_identity(),e):e.$raise(w("NotImplementedError"),e.$class().$name()+"#compare_by_identity is not implemented")})),c(b,"$compare_by_identity?",(function(){var e;return s(e=this.hash["$respond_to?"]("compare_by_identity?"))?this.hash["$compare_by_identity?"]():e})),c(b,"$delete",(function(e){return this.hash.$delete(e),this})),c(b,"$delete?",(function(e){var t=this;return s(t["$include?"](e))?(t.$delete(e),t):p})),c(b,"$delete_if",(function t(){var n=t.$$p||p,r=this;return t.$$p=null,n===p?r.$enum_for("delete_if"):(u(u(r,"select",[],(function(t){return null==t&&(t=p),e.yield1(n,t)})),"each",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==n.hash&&(n.hash=p),null==t&&(t=p),n.hash.$delete(t)}),{$$s:r}),r)})),c(b,"$freeze",(function(){var e=this;return s(e["$frozen?"]())?e:(e.hash.$freeze(),t(e))})),c(b,"$keep_if",(function t(){var n=t.$$p||p,r=this;return t.$$p=null,n===p?r.$enum_for("keep_if"):(u(u(r,"reject",[],(function(t){return null==t&&(t=p),e.yield1(n,t)})),"each",[],(function e(t){var n=null==e.$$s?this:e.$$s;return null==n.hash&&(n.hash=p),null==t&&(t=p),n.hash.$delete(t)}),{$$s:r}),r)})),c(b,"$reject!",(function e(){var t,n=e.$$p||p,r=this;return e.$$p=null,n===p?r.$enum_for("reject!"):(t=r.$size(),u(r,"delete_if",[],n.$to_proc()),$(r.$size(),t)?p:r)})),c(b,"$select!",(function e(){var t,n=e.$$p||p,r=this;return e.$$p=null,n===p?r.$enum_for("select!"):(t=r.$size(),u(r,"keep_if",[],n.$to_proc()),$(r.$size(),t)?p:r)})),c(b,"$add?",(function(e){return s(this["$include?"](e))?p:this.$add(e)})),c(b,"$each",(function e(){var t=e.$$p||p,n=this;return e.$$p=null,t===p?n.$enum_for("each"):(u(n.hash,"each_key",[],t.$to_proc()),n)})),c(b,"$empty?",(function(){return this.hash["$empty?"]()})),c(b,"$eql?",(function(e){return this.hash["$eql?"](u(e,"instance_eval",[],(function e(){var t=null==e.$$s?this:e.$$s;return null==t.hash&&(t.hash=p),t.hash}),{$$s:this}))})),c(b,"$clear",(function(){return this.hash.$clear(),this})),c(b,"$include?",(function(e){return this.hash["$include?"](e)})),c(b,"$merge",(function(e){return u(e,"each",[],(function e(t){return null==t&&(t=p),(null==e.$$s?this:e.$$s).$add(t)}),{$$s:this}),this})),c(b,"$replace",(function(e){var t=this;return t.$clear(),t.$merge(e),t})),c(b,"$size",(function(){return this.hash.$size()})),c(b,"$subtract",(function(e){return u(e,"each",[],(function e(t){return null==t&&(t=p),(null==e.$$s?this:e.$$s).$delete(t)}),{$$s:this}),this})),c(b,"$|",(function(e){return s(e["$respond_to?"]("each"))||l.$raise(h("ArgumentError"),"value must be enumerable"),this.$dup().$merge(e)})),c(b,"$superset?",(function(e){return x(e),!s(_(this.$size(),e.$size()))&&u(e,"all?",[],(function e(t){return null==t&&(t=p),(null==e.$$s?this:e.$$s)["$include?"](t)}),{$$s:this})})),c(b,"$proper_superset?",(function(e){return x(e),!s(f(this.$size(),e.$size()))&&u(e,"all?",[],(function e(t){return null==t&&(t=p),(null==e.$$s?this:e.$$s)["$include?"](t)}),{$$s:this})})),c(b,"$subset?",(function(e){return x(e),!s(_(e.$size(),this.$size()))&&u(this,"all?",[],(function(t){return null==t&&(t=p),e["$include?"](t)}))})),c(b,"$proper_subset?",(function(e){return x(e),!s(f(e.$size(),this.$size()))&&u(this,"all?",[],(function(t){return null==t&&(t=p),e["$include?"](t)}))})),c(b,"$intersect?",(function(e){var t=this;return x(e),s(_(t.$size(),e.$size()))?u(t,"any?",[],(function(t){return null==t&&(t=p),e["$include?"](t)})):u(e,"any?",[],(function e(t){return null==t&&(t=p),(null==e.$$s?this:e.$$s)["$include?"](t)}),{$$s:t})})),c(b,"$disjoint?",(function(e){return this["$intersect?"](e)["$!"]()})),c(b,"$to_a",(function(){return this.hash.$keys()})),d(b,"+","|"),d(b,"<","proper_subset?"),d(b,"<<","add"),d(b,"<=","subset?"),d(b,">","proper_superset?"),d(b,">=","superset?"),d(b,"difference","-"),d(b,"filter!","select!"),d(b,"length","size"),d(b,"map!","collect!"),d(b,"member?","include?"),d(b,"union","|")}()},Opal.modules["corelib/dir"]=function(e){var t,n=e.klass,r=e.def,i=e.truthy,o=e.alias,s=e.nil,a=e.$$$;return e.add_stubs("[],pwd"),[t=n("::",null,"Dir")].concat([]),function(t,n){return r(t,"$chdir",(function t(n){var r=t.$$p||s,i=s;return t.$$p=null,function(){try{return i=e.current_dir,e.current_dir=n,e.yieldX(r,[])}finally{e.current_dir=i}}()})),r(t,"$pwd",(function(){return e.current_dir||"."})),r(t,"$home",(function(){var e;return i(e=a("ENV")["$[]"]("HOME"))?e:"."})),o(t,"getwd","pwd")}(e.get_singleton_class(t))},Opal.modules["corelib/file"]=function(e){var t,n,r,i,o=e.truthy,s=e.klass,a=e.const_set,l=e.Opal,u=e.regexp,c=e.rb_plus,$=e.def,_=e.Kernel,f=e.eqeq,d=e.rb_lt,p=e.rb_minus,h=e.range,m=e.send,g=e.slice,v=e.alias,b=e.nil,y=e.$$$;return e.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),t=y("IO"),n=s("::",t,"File"),r=[n].concat([]),i=b,a(r[0],"Separator",a(r[0],"SEPARATOR","/")),a(r[0],"ALT_SEPARATOR",b),a(r[0],"PATH_SEPARATOR",":"),a(r[0],"FNM_SYSCASE",0),i=/^[a-zA-Z]:(?:\\|\/)/,function(t,n){var r=[t].concat(n),s=e.$r(r);function a(e){return o(e["$respond_to?"]("to_path"))&&(e=e.$to_path()),l["$coerce_to!"](e,y("String"),"to_str")}function w(){return s("ALT_SEPARATOR")===b?e.escape_regexp(s("SEPARATOR")):e.escape_regexp(c(s("SEPARATOR"),s("ALT_SEPARATOR")))}return $(t,"$absolute_path",(function(e,t){var n,r,a,$,_,f,d=b,p=b,h=b,m=b,g=b;null==t&&(t=b),n=s("SEPARATOR"),r=w(),d=[],e=o(e["$respond_to?"]("to_path"))?e.$to_path():e,e=l["$coerce_to!"](e,y("String"),"to_str"),t=o(a=t)?a:y("Dir").$pwd(),$=e.substr(0,n.length)===n||i.test(e),_=t.substr(0,n.length)===n||i.test(t),o($)?(p=e.$split(u(["[",r,"]"])),h=i.test(e)?"":e.$sub(u(["^([",r,"]+).*$"]),"\\1"),m=!0):(p=c(t.$split(u(["[",r,"]"])),e.$split(u(["[",r,"]"]))),h=i.test(t)?"":t.$sub(u(["^([",r,"]+).*$"]),"\\1"),m=_);for(var v=0,x=p.length;v<x;v++)(f=p[v])===b||""===f&&(0===d.length||m)||"."===f&&(0===d.length||m)||(".."===f?d.pop():d.push(f));return m||"."===p[0]||d.$unshift("."),g=d.$join(n),o(m)&&(g=c(h,g)),g}),-2),$(t,"$expand_path",(function(e,t){var n,r,a=b,l=b,$=b;return null==t&&(t=b),n=s("SEPARATOR"),r=w(),o("~"===e[0]||t&&"~"===t[0])&&(a=s("Dir").$home(),o(a)||_.$raise(y("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),l=i.test(a)?"":a.$sub(u(["^([",r,"]+).*$"]),"\\1"),o(a["$start_with?"](l))||_.$raise(y("ArgumentError"),"non-absolute home"),a=c(a,n),$=u(["^\\~(?:",n,"|$)"]),e=e.$sub($,a),o(t)&&(t=t.$sub($,a))),this.$absolute_path(e,t)}),-2),$(t,"$dirname",(function(e,t){var n;if(null==t&&(t=1),f(t,0))return e;o(d(t,0))&&_.$raise(y("ArgumentError"),"level can't be negative"),n=w();var r,i=(e=a(e)).match(new RegExp("^["+n+"]"));return r=""===(e=(e=(e=e.replace(new RegExp("["+n+"]+$"),"")).replace(new RegExp("[^"+n+"]+$"),"")).replace(new RegExp("["+n+"]+$"),""))?i?"/":".":e,1==t?r:this.$dirname(r,p(t,1))}),-2),$(t,"$basename",(function(t,n){var r;return null==n&&(n=b),r=w(),0==(t=a(t)).length||(n=n!==b?l["$coerce_to!"](n,y("String"),"to_str"):null,t=(t=t.replace(new RegExp("(.)["+r+"]*$"),"$1")).replace(new RegExp("^(?:.*["+r+"])?([^"+r+"]+)$"),"$1"),".*"===n?t=t.replace(/\.[^\.]+$/,""):null!==n&&(n=e.escape_regexp(n),t=t.replace(new RegExp(n+"$"),""))),t}),-2),$(t,"$extname",(function(t){var n=b,r=b;return t=a(t),n=this.$basename(t),o(n["$empty?"]())?"":(r=n["$[]"](h(1,-1,!1)).$rindex("."),o(r["$nil?"]())||f(c(r,1),p(n.$length(),1))?"":n["$[]"](e.Range.$new(c(r,1),-1,!1)))})),$(t,"$exist?",(function(t){return null!=e.modules[t]})),$(t,"$directory?",(function(t){var n=b;for(var r in n=[],e.modules)n.push(r);return t=t.$gsub(u(["(^.",s("SEPARATOR"),"+|",s("SEPARATOR"),"+$)"])),m(n,"find",[],(function(e){return null==e&&(e=b),e["$=~"](u(["^",t]))}))})),$(t,"$join",(function(e){var t,n,r=b;return t=g(arguments),o((n=t)["$empty?"]())?"":(r="",n=m(n.$flatten().$each_with_index(),"map",[],(function(e,t){return null==e&&(e=b),null==t&&(t=b),f(t,0)&&o(e["$empty?"]())||f(n.$length(),c(t,1))&&o(e["$empty?"]())?s("SEPARATOR"):e})),n=m(n,"reject",[],"empty?".$to_proc()),m(n,"each_with_index",[],(function(e,t){var i=b;return null==e&&(e=b),null==t&&(t=b),i=n["$[]"](c(t,1)),o(i["$nil?"]())?r=""+r+e:(o(e["$end_with?"](s("SEPARATOR")))&&o(i["$start_with?"](s("SEPARATOR")))&&(e=e.$sub(u([s("SEPARATOR"),"+$"]),"")),r=o(e["$end_with?"](s("SEPARATOR")))||o(i["$start_with?"](s("SEPARATOR")))?""+r+e:""+r+e+s("SEPARATOR"))})),r)}),-1),$(t,"$split",(function(e){return e.$split(s("SEPARATOR"))})),v(t,"realpath","expand_path"),v(t,"exists?","exist?")}(e.get_singleton_class(n),r)},Opal.modules["corelib/process/base"]=function(e){var t,n=e.klass,r=e.slice,i=e.defs,o=e.return_val,s=e.nil;return t=n("::",null,"Signal"),i(t,"$trap",(function(e){return r(arguments),s}),-1),function(e,t){var r=n("::",null,"GC");return i(r,"$start",o(s))}()},Opal.modules["corelib/process"]=function(e){var t=e.module,n=e.defs,r=e.truthy,i=e.return_val,o=e.Kernel,s=e.nil,a=e.$$$;return e.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(l){var u=t("::","Process"),c=s;if(u.__clocks__=[],n(u,"$__register_clock__",(function(e,t){var n=this;return null==n.__clocks__&&(n.__clocks__=s),n.$const_set(e,n.__clocks__.$size()),n.__clocks__["$<<"](t)})),u.$__register_clock__("CLOCK_REALTIME",(function(){return Date.now()})),c=!1,e.global.performance)c=function(){return performance.now()};else if(e.global.process&&process.hrtime){var $=process.hrtime();c=function(){var e=process.hrtime($),t=e[1]/1e3|0;return 1e3*e[0]+t/1e3}}return r(c)&&u.$__register_clock__("CLOCK_MONOTONIC",c),n(u,"$pid",i(0)),n(u,"$times",(function(){var e;return e=a("Time").$now().$to_f(),a(a("Benchmark"),"Tms").$new(e,e,e,e,e)})),n(u,"$clock_gettime",(function(e,t){var n=this,i=s;null==n.__clocks__&&(n.__clocks__=s),null==t&&(t="float_second"),r(i=n.__clocks__["$[]"](e))||o.$raise(a(a("Errno"),"EINVAL"),"clock_gettime("+e+") "+n.__clocks__["$[]"](e));var l=i();switch(t){case"float_second":return l/1e3;case"float_millisecond":return l/1;case"float_microsecond":return 1e3*l;case"second":return l/1e3|0;case"millisecond":return l/1|0;case"microsecond":return 1e3*l|0;case"nanosecond":return 1e6*l|0;default:o.$raise(a("ArgumentError"),"unexpected unit: "+t)}}),-2)}()},Opal.modules["corelib/random/formatter"]=function(e){var t,n,r=e.klass,i=e.module,o=e.def,s=e.range,a=e.send,l=e.rb_divide,u=e.Kernel,c=e.Opal,$=e.nil,_=e.$$$;return e.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),t=r("::",null,"Random"),n=[t].concat([]),function(t,n){var r=i(t,"Formatter"),f=[r].concat(n),d=e.$r(f);o(r,"$hex",(function(e){null==e&&(e=$),e=_("Random").$_verify_count(e);for(var t=this.$bytes(e),n="",r=0;r<e;r++)n+=t.charCodeAt(r).toString(16).padStart(2,"0");return n.$encode("US-ASCII")}),-1),o(r,"$random_bytes",(function(e){return null==e&&(e=$),this.$bytes(e)}),-1),o(r,"$base64",(function(e){return null==e&&(e=$),_("Base64").$strict_encode64(this.$random_bytes(e)).$encode("US-ASCII")}),-1),o(r,"$urlsafe_base64",(function(e,t){return null==e&&(e=$),null==t&&(t=!1),_("Base64").$urlsafe_encode64(this.$random_bytes(e),t).$encode("US-ASCII")}),-1),o(r,"$uuid",(function(){var e=$;return(e=this.$hex(16).$split(""))["$[]="](12,"4"),e["$[]="](16,(3&parseInt(e["$[]"](16),16)|8).toString(16)),e=[e["$[]"](s(0,8,!0)),e["$[]"](s(8,12,!0)),e["$[]"](s(12,16,!0)),e["$[]"](s(16,20,!0)),e["$[]"](s(20,32,!0))],(e=a(e,"map",[],"join".$to_proc())).$join("-")})),o(r,"$random_float",(function(){var e=$,t=$;return e=this.$bytes(4),t=0,a(4,"times",[],(function(n){return null==n&&(n=$),t=(t=t["$<<"](8))["$|"](e["$[]"](n).$ord())})),l(t.$abs(),2147483647)})),o(r,"$random_number",(function(e){var t=this;function n(){return t.$random_float()}function r(e){return Math.floor(n()*e)}return null==e?n():e.$$is_range?function(){var t=e.begin,n=e.end;if(t===$||n===$)return $;var i=n-t;return i<0?$:0===i?t:(n%1!=0||t%1!=0||e.excl||i++,r(i)+t)}():e.$$is_number?(e<=0&&u.$raise(_("ArgumentError"),"invalid argument - "+e),e%1==0?r(e):n()*e):((e=c["$coerce_to!"](e,_("Integer"),"to_int"))<=0&&u.$raise(_("ArgumentError"),"invalid argument - "+e),r(e))}),-1),o(r,"$alphanumeric",(function(e){var t=$;return null==e&&(e=$),e=d("Random").$_verify_count(e),t=a([s("0","9",!1),s("a","z",!1),s("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),a(_("Array"),"new",[e],(function e(n){var r=null==e.$$s?this:e.$$s;return null==n&&(n=$),t["$[]"](r.$random_number(t.$length()))}),{$$s:this}).$join()}),-1)}(t,n),t.$include(_(_("Random"),"Formatter")),t.$extend(_(_("Random"),"Formatter"))},Opal.modules["corelib/random/mersenne_twister"]=function(e){var t,n,r,i=e.klass,o=e.const_set,s=e.send,a=e.nil,l=e.$$$,u=a;return e.add_stubs("generator="),u=function(){var e=624,t=397,n=function(e,t){return function(e,t){return 2147483648&e|2147483647&t}(e,t)>>>1^(1&t?2567483615:0)};function r(r){var i;return--r.left<=0&&function(r){var i,o=0,s=r.state;for(r.left=e,r.next=0,i=228;--i;o++)s[o]=s[o+t]^n(s[o+0],s[o+1]);for(i=t;--i;o++)s[o]=s[o+(t-e)]^n(s[o+0],s[o+1]);s[o]=s[o+(t-e)]^n(s[o+0],s[0])}(r),i=r.state[r.next++],i^=i>>>11,i^=i<<7&2636928640,i^=i<<15&4022730752,(i^=i>>>18)>>>0}return{genrand_real:function(e){return t=r(e),n=r(e),(67108864*(t>>>=5)+(n>>>=6))*(1/9007199254740992);var t,n},init:function(t){var n={left:0,next:e,state:new Array(e)};return function(t,n){var r;for(t.state[0]=n>>>0,r=1;r<e;r++)t.state[r]=1812433253*(t.state[r-1]^t.state[r-1]>>30>>>0)+r,t.state[r]&=4294967295;t.left=1,t.next=e}(n,t),n}}}(),n=i("::",null,"Random"),r=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,o(n,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*r)},reseed:function(e){return u.init(e)},rand:function(e){return u.genrand_real(e)}}),s(n,"generator=",t=[l(n,"MERSENNE_TWISTER_GENERATOR")]),t[t.length-1]},Opal.modules["corelib/random"]=function(e){var t=e.truthy,n=e.klass,r=e.Kernel,i=e.defs,o=e.Opal,s=e.def,a=e.eqeqeq,l=e.send,u=e.top,c=(e.nil,e.$$$);return e.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),u.$require("corelib/random/formatter"),function(u,$){var _=n("::",null,"Random");_.$attr_reader("seed","state"),i(_,"$_verify_count",(function(e){return t(e)||(e=16),"number"!=typeof e&&(e=e.$to_int()),e<0&&r.$raise(c("ArgumentError"),"negative string size (or size too big)"),Math.floor(e)})),s(_,"$initialize",(function(e){return null==e&&(e=c("Random").$new_seed()),e=o["$coerce_to!"](e,c("Integer"),"to_int"),this.state=e,this.$reseed(e)}),-1),s(_,"$reseed",(function(t){return this.seed=t,this.$rng=e.$$rand.reseed(t)})),i(_,"$new_seed",(function(){return e.$$rand.new_seed()})),i(_,"$rand",(function(e){return c(this,"DEFAULT").$rand(e)}),-1),i(_,"$srand",(function(e){var t;return null==e&&(e=c("Random").$new_seed()),e=o["$coerce_to!"](e,c("Integer"),"to_int"),t=c(this,"DEFAULT").$seed(),c(this,"DEFAULT").$reseed(e),t}),-1),i(_,"$urandom",(function(e){return c("SecureRandom").$bytes(e)})),s(_,"$==",(function(e){var n;return!!a(c("Random"),e)&&(t(n=this.$seed()["$=="](e.$seed()))?this.$state()["$=="](e.$state()):n)})),s(_,"$bytes",(function(e){return e=c("Random").$_verify_count(e),l(c("Array"),"new",[e],(function e(){return(null==e.$$s?this:e.$$s).$rand(255).$chr()}),{$$s:this}).$join().$encode("ASCII-8BIT")})),i(_,"$bytes",(function(e){return c(this,"DEFAULT").$bytes(e)})),s(_,"$rand",(function(e){return this.$random_number(e)}),-1),s(_,"$random_float",(function(){return this.state++,e.$$rand.rand(this.$rng)})),i(_,"$random_float",(function(){return c(this,"DEFAULT").$random_float()})),i(_,"$generator=",(function(n){var r=this;return e.$$rand=n,t(r["$const_defined?"]("DEFAULT"))?c(r,"DEFAULT").$reseed():r.$const_set("DEFAULT",r.$new(r.$new_seed()))}))}(),u.$require("corelib/random/mersenne_twister")},Opal.modules["corelib/unsupported"]=function(e){var t=e.Kernel,n=e.klass,r=e.send,i=e.slice,o=e.module,s=e.def,a=e.return_val,l=e.alias,u=e.defs,c=e.top,$=e.nil,_=e.$$$;e.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var f={};function d(n){switch(e.config.unsupported_features_severity){case"error":t.$raise(_("NotImplementedError"),n);break;case"warning":f[r=n]||(f[r]=!0,c.$warn(r))}var r}return function(e,o){var s=n("::",null,"String");r(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],(function e(n){return null==n&&(n=$),r(null==e.$$s?this:e.$$s,"define_method",[n],(function(e){return i(arguments),t.$raise(_("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"](n))}),-1)}),{$$s:s})}(),function(e){var t=o("::","Kernel"),n="Object tainting is not supported by Opal";s(t,"$taint",(function(){return d(n),this})),s(t,"$untaint",(function(){return d(n),this})),s(t,"$tainted?",(function(){return d(n),!1}))}(),function(e,t){var r=n("::",null,"Module");s(r,"$public",(function(e){var t;return 0===(t=i(arguments)).length?(this.$$module_function=!1,$):1===t.length?t[0]:t}),-1),s(r,"$private_class_method",(function(e){var t;return 1===(t=i(arguments)).length?t[0]:t}),-1),s(r,"$private_method_defined?",a(!1)),s(r,"$private_constant",(function(e){return i(arguments),$}),-1),l(r,"nesting","public"),l(r,"private","public"),l(r,"protected","public"),l(r,"protected_method_defined?","private_method_defined?"),l(r,"public_class_method","private_class_method"),l(r,"public_instance_method","instance_method"),l(r,"public_instance_methods","instance_methods"),l(r,"public_method_defined?","method_defined?")}(),function(e){var t=o("::","Kernel");s(t,"$private_methods",(function(e){return i(arguments),[]}),-1),l(t,"protected_methods","private_methods"),l(t,"private_instance_methods","private_methods"),l(t,"protected_instance_methods","private_methods")}(),function(n,r){var a=o("::","Kernel"),l=[a].concat([]),u=e.$r(l);s(a,"$eval",(function(e){return i(arguments),t.$raise(_("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+u("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details.")}),-1)}(),u(c,"$public",(function(e){var t;return 1===(t=i(arguments)).length?t[0]:t}),-1),u(c,"$private",(function(e){var t;return 1===(t=i(arguments)).length?t[0]:t}),-1)},Opal.queue((function(e){var t=e.Object;return e.nil,e.add_stubs("require,autoload"),t.$require("opal/base"),t.$require("opal/mini"),t.$require("corelib/kernel/format"),t.$require("corelib/string/encoding"),t.$autoload("Math","corelib/math"),t.$require("corelib/complex/base"),t.$autoload("Complex","corelib/complex"),t.$require("corelib/rational/base"),t.$autoload("Rational","corelib/rational"),t.$require("corelib/time"),t.$autoload("Struct","corelib/struct"),t.$autoload("Set","corelib/set"),t.$autoload("Dir","corelib/dir"),t.$autoload("File","corelib/file"),t.$require("corelib/process/base"),t.$autoload("Process","corelib/process"),t.$autoload("Random","corelib/random"),t.$require("corelib/unsupported")}))}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(136)})()));
//# sourceMappingURL=wysiwyg-asciidoc.js.map